var requirejs,require,define;!function(e,t){"use strict";function n(e){var n,i=t.createElement("fakeelement"),r={transition:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",msTransitionEnd:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd"},animation:{animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",MSAnimationEnd:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"}};for(n in r[e])if(void 0!==i.style[n])return r[e][n]}var i=[],r={};e.AMOCRM||(e.AMOCRM={}),e.APP=e.AMOCRM,e.console||(e.console={log:function(){}}),APP.is_phone=!1,APP.is_touch_device=!!("ontouchstart"in e),APP.click_event="click",APP.wheel_event=APP.is_touch_device?"swipe":"mousewheel",APP.transition_event=n("transition"),APP.animation_event=n("animation"),APP.input_event="oninput"in t.createElement("INPUT")?"input":"keyup",APP.bg_color="var(--palette-background-default)",APP.first_load=!0,APP.element_types={contacts:1,leads:2,companies:3,todo:4,notes:5,tags:7,catalogs:10,catalog_elements:11,customers:12,transactions:13,unsorted:14,contacts_and_companies:17,amoforms:19,mail:16,events:23,talk:24,files:25},APP.getStartupModules=function(){return i},APP.addStartupModule=function(e){return i.push(e),!0},APP.getBaseEntity=function(e){return(e=e||APP.data.current_entity)?e.toString().split("-").shift():""},APP.isCard=function(){return!!APP.data.is_card},APP.getWidgetsArea=function(){var t=APP.data.current_entity||!1,n=APP.isCard(),i=e.location.pathname.split("/");switch(!0){case"imbox"===i[1]&&"tools"===i[2]:switch(i[3]){case"settings":case"templates-and-bots":return"settings-communications";default:return t}case n&&"leads"===t:case n&&"contacts"===t:case n&&"companies"===t:case n&&"customers"===t:return t+"_card";case"advanced-settings"===t:return t+":"+i[3];case"widget-page"===t:return t+":"+("widget_page"===i[1]?i[2]+":"+i[3]+":"+i[4]:i[1]+":"+i[3]+":"+i[4]);default:return t}},APP.getV3WidgetsArea=function(){var t=APP.data.current_entity||!1,n="",i=e.location.pathname.split("/");switch(t){case"leads-pipeline":n="leads.pipeline";break;case"leads":n="leads.list";break;case"customers-pipeline":n="customers.pipeline";break;case"customers":n="customers.list";break;case"catalogs":n="catalogs.list";break;case"todo":n="todo.calendar";break;case"todo-line":n="todo.list";break;case"widgetsSettings":n="settings.widgets"}if("contacts"===t&&(n="companies"===APP.data.element_type?"companies.list":"contacts.list"),APP.data.current_card)switch(t){case"leads":case"contacts":case"companies":case"customers":n=t+".card"}if("stats"===APP.data.current_entity)switch(i[2]){case"":n="stats.winlose";break;case"consolidated":n="stats.consolidate";break;case"by_activities":n="stats.activity";break;case"goals":n="stats.goals"}return"events"===APP.data.current_entity&&(n="stats.events"),"statsCalls"===APP.data.current_entity&&(n="stats.calls"),"settings-users"===APP.data.current_entity&&(n="settings.users"),"settings"===APP.data.current_entity&&(n="settings.general"),"leads-dp"!==APP.data.current_entity&&"customers-dp"!==APP.data.current_entity||(n="dp.settings"),"advanced-settings"===APP.data.current_entity&&(n="widget.advanced_settings"),"widget-page"===APP.data.current_entity&&(n="widget.widget_page"),n},APP.setTitle=function(e){var n=APP.constant("account");e&&(t.title=APP.constant("current_brand")+": "+e+", "+n.name)},APP.constant=function(e,t){if("object"==typeof e){for(var n in e)this.constant(n,e[n]);return!0}if(void 0===t)return r[e];if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return r[e]=t,!0},APP.lang={},APP.addLang=function(e){this.lang=this.extend(e,this.lang)},APP.extend=function(e,t){for(var n in t&&"object"==typeof t||(t={}),e)e.hasOwnProperty(n)&&("object"==typeof e[n]?(t[n]=null==t[n]||"object"!=typeof t[n]?{}:t[n],APP.extend(e[n],t[n])):t[n]=e[n]);return t},APP.refreshNotifications=function(e){this.notifications.set_list(e)},APP.data={current_entity:APP.constant("current_entity")}}(this,document),function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,(function(t,r){!n&&hasProp(e,r)||(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))})),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),(function(e){t=t[e]})),t}function makeError(e,t,n,i){return(t=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e)).requireType=e,t.requireModules=i,n&&(t.originalError=n),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=n,n=i):e=[]),r&&r.context&&(o=r.context),i=(i=getOwn(contexts,o))||(contexts[o]=req.s.newContext(o)),r&&i.configure(r),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts,newContext},req({}),each(["toUrl","undef","defined","specified"],(function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}})),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return(i=req.createNode(r,t,n)).setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,r.onNodeCreated&&r.onNodeCreated(i,r,t,n),currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{setTimeout((function(){}),0),importScripts(n),e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),(function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0})),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,(function(e,n){t.push(n)})),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e=e||i.getAttribute("data-requiremodule"),r=contexts[i.getAttribute("data-requirecontext")]),r?(r.defQueue.push([e,t,n]),r.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(e){var t,n,i,r,o,s={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},a={},u={},c={},d=[],l={},p={},f={},m=1,h=1;function g(e,t,n){var i,r,o,a,u,c,d,l,p,f=t&&t.split("/"),m=s.map,h=m&&m["*"];if(e&&(t=(e=e.split("/")).length-1,s.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),function(e){for(var t,n=0;n<e.length;n++)"."===(t=e[n])?(e.splice(n,1),--n):".."===t&&(0===n||1===n&&".."===e[2]||".."===e[n-1]||0<n&&(e.splice(n-1,2),n-=2))}(e),e=e.join("/")),n&&m&&(f||h)){e:for(o=(r=e.split("/")).length;0<o;--o){if(u=r.slice(0,o).join("/"),f)for(a=f.length;0<a;--a)if(i=(i=getOwn(m,f.slice(0,a).join("/")))&&getOwn(i,u)){c=i,d=o;break e}!l&&h&&getOwn(h,u)&&(l=getOwn(h,u),p=o)}!c&&l&&(c=l,d=p),c&&(r.splice(0,d,c),e=r.join("/"))}return getOwn(s.pkgs,e)||e}function b(e){isBrowser&&each(scripts(),(function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===i.contextName)return t.parentNode.removeChild(t),!0}))}function v(e){var t=getOwn(s.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),i.require.undef(e),i.makeRequire(null,{skipMap:!0})([e]),1)}function y(e){var t,n=e?e.indexOf("!"):-1;return-1<n?(t=e.substring(0,n),e=e.substring(n+1,e.length)):0===e.indexOf("@crm")&&(t="requirejs-react"),[t,e]}function x(e,t,n,r){var o,s,a,u=null,c=t?t.name:null,d=e,p=!0,f="";return e||(p=!1,e="_@r"+(m+=1)),u=(a=y(e))[0],e=a[1],u&&(u=g(u,c,r),s=getOwn(l,u)),e&&(u?f=n?e:s&&s.normalize?s.normalize(e,(function(e){return g(e,c,r)})):-1===e.indexOf("!")?g(e,c,r):e:(u=(a=y(f=g(e,c,r)))[0],f=a[1],n=!0,o=i.nameToUrl(f))),{prefix:u,name:f,parentMap:t,unnormalized:!!(n=!u||s||n?"":"_unnormalized"+(h+=1)),url:o,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+n}}function k(e){var t=e.id;return getOwn(a,t)||(a[t]=new i.Module(e))}function w(e,t,n){var i=e.id,r=getOwn(a,i);!hasProp(l,i)||r&&!r.defineEmitComplete?(r=k(e)).error&&"error"===t?n(r.error):r.on(t,n):"defined"===t&&n(l[i])}function j(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,(function(t){(t=getOwn(a,t))&&(t.error=e,t.events.error&&(i=!0,t.emit("error",e)))})),i||req.onError(e))}function P(){globalDefQueue.length&&(each(globalDefQueue,(function(e){var t=e[0];"string"==typeof t&&(i.defQueueMap[t]=!0),d.push(e)})),globalDefQueue=[])}function q(e){delete a[e],delete u[e]}function A(){var e,n=1e3*s.waitSeconds,r=n&&i.startTime+n<(new Date).getTime(),c=[],d=[],p=!1,f=!0;if(!t){if(t=!0,eachProp(u,(function(t){var n=t.map,i=n.id;if(t.enabled&&(n.isDefine||d.push(t),!t.error))if(!t.inited&&r)v(i)?p=e=!0:(c.push(i),b(i));else if(!t.inited&&t.fetched&&n.isDefine&&(p=!0,!n.prefix))return f=!1})),r&&c.length)return(n=makeError("timeout","Load timeout for modules: "+c,null,c)).contextName=i.contextName,j(n),0;f&&each(d,(function(e){!function e(t,n,i){var r=t.map.id;t.error?t.emit("error",t.error):(n[r]=!0,each(t.depMaps,(function(r,o){var s=r.id;!(r=getOwn(a,s))||t.depMatched[o]||i[s]||(getOwn(n,s)?(t.defineDep(o,l[s]),t.check()):e(r,n,i))})),i[r]=!0)}(e,{},{})})),r&&!e||!p||!isBrowser&&!isWebWorker||o||(o=setTimeout((function(){o=0,A()}),50)),t=!1}}function E(e){hasProp(l,e[0])||k(x(e[0],null,!0)).init(e[1],e[2])}function _(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function S(e){return _(e=e.currentTarget||e.srcElement,i.onScriptLoad,"load","onreadystatechange"),_(e,i.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function M(){var e;for(P();d.length;){if(null===(e=d.shift())[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1])),0;E(e)}i.defQueueMap={}}return r={require:function(e){return e.require||(e.require=i.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?l[e.map.id]=e.exports:e.exports=l[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(s.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(n=function(e){this.events=getOwn(c,e.id)||{},this.map=e,this.shim=getOwn(s.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,(function(e){this.emit("error",e)}))),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,i.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();i.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,(function(){return e.prefix?this.callPlugin():this.load()})))}},load:function(){var e=this.map.url;p[e]||(p[e]=!0,i.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n,r=this.map.id,o=this.depExports,s=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=i.execCb(r,a,o,s)}catch(t){e=t}else s=i.execCb(r,a,o,s);if(this.map.isDefine&&void 0===s&&((t=this.module)?s=t.exports:this.usingExports&&(s=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",j(this.error=e)}else s=a;this.exports=s,this.map.isDefine&&!this.ignore&&(l[r]=s,req.onResourceLoad&&(n=[],each(this.depMaps,(function(e){n.push(e.normalizedMap||e)})),req.onResourceLoad(i,this.map,n))),q(r),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(i.defQueueMap,r)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=x(e.prefix);this.depMaps.push(n),w(n,"defined",bind(this,(function(n){var r,o,u=getOwn(f,this.map.id),c=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,l=i.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(c=n.normalize(c,(function(e){return g(e,d,!0)}))||""),w(o=x(e.prefix+"!"+c,this.map.parentMap,!0),"defined",bind(this,(function(e){this.map.normalizedMap=o,this.init([],(function(){return e}),null,{enabled:!0,ignore:!0})}))),void((c=getOwn(a,o.id))&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,(function(e){this.emit("error",e)}))),c.enable()))):u?(this.map.url=i.nameToUrl(u),void this.load()):((r=bind(this,(function(e){this.init([],(function(){return e}),null,{enabled:!0})}))).error=bind(this,(function(e){this.inited=!0,(this.error=e).requireModules=[t],eachProp(a,(function(e){0===e.map.id.indexOf(t+"_unnormalized")&&q(e.map.id)})),j(e)})),r.fromText=bind(this,(function(n,o){var a=e.name,u=x(a),c=useInteractive;o&&(n=o),c&&(useInteractive=!1),k(u),hasProp(s.config,t)&&(s.config[a]=s.config[t]);try{req.exec(n)}catch(n){return j(makeError("fromtexteval","fromText eval for "+t+" failed: "+n,n,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),i.completeLoad(a),l([a],r)})),void n.load(e.name,l,r,s))}))),i.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){(u[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,(function(e,t){var n,o;if("string"==typeof e){if(e=x(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(r,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,w(e,"defined",bind(this,(function(e){this.undefed||(this.defineDep(t,e),this.check())}))),this.errback?w(e,"error",bind(this,this.errback)):this.events.error&&w(e,"error",bind(this,(function(e){this.emit("error",e)})))}n=e.id,o=a[n],hasProp(r,n)||!o||o.enabled||i.enable(e,this)}))),eachProp(this.pluginMaps,bind(this,(function(e){var t=getOwn(a,e.id);t&&!t.enabled&&i.enable(e,this)}))),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],(function(e){e(t)})),"error"===e&&delete this.events[e]}},(i={config:s,contextName:e,registry:a,defined:l,urlFetched:p,defQueue:d,defQueueMap:{},Module:n,makeModuleMap:x,nextTick:req.nextTick,onError:j,configure:function(e){var t;e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(t=e.urlArgs,e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t});var n=s.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,(function(e,t){r[t]?(s[t]||(s[t]={}),mixin(s[t],e,!0,!0)):s[t]=e})),e.bundles&&eachProp(e.bundles,(function(e,t){each(e,(function(e){e!==t&&(f[e]=t)}))})),e.shim&&(eachProp(e.shim,(function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=i.makeShimExports(e)),n[t]=e})),s.shim=n),e.packages&&each(e.packages,(function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(s.paths[t]=e.location),s.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})),eachProp(a,(function(e,t){e.inited||e.map.unnormalized||(e.map=x(t,null,!0))})),(e.deps||e.callback)&&i.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,n){function o(s,u,c){var d,p;return n.enableBuildCallback&&u&&isFunction(u)&&(u.__requireJsBuild=!0),"string"==typeof s?isFunction(u)?j(makeError("requireargs","Invalid require call"),c):t&&hasProp(r,s)?r[s](a[t.id]):req.get?req.get(i,s,t,o):(d=x(s,t,!1,!0).id,hasProp(l,d)?l[d]:j(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(M(),i.nextTick((function(){M(),(p=k(x(null,t))).skipMap=n.skipMap,p.init(s,u,c,{enabled:!0}),A()})),o)}return n=n||{},mixin(o,{isBrowser,toUrl:function(e){var n,r=e.lastIndexOf("."),o=e.split("/")[0];return-1!==r&&(!("."===o||".."===o)||1<r)&&(n=e.substring(r,e.length),e=e.substring(0,r)),i.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(l,x(e,t,!1,!0).id)},specified:function(e){return e=x(e,t,!1,!0).id,hasProp(l,e)||hasProp(a,e)}}),t||(o.undef=function(e){P();var n=x(e,t,!0),r=getOwn(a,e);r.undefed=!0,b(e),delete l[e],delete p[n.url],delete c[e],eachReverse(d,(function(t,n){t[0]===e&&d.splice(n,1)})),delete i.defQueueMap[e],r&&(r.events.defined&&(c[e]=r.events),q(e))}),o},enable:function(e){getOwn(a,e.id)&&k(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(s.shim,e)||{},u=o.exports;for(P();d.length;){if(null===(n=d.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);E(n)}if(i.defQueueMap={},r=getOwn(a,e),!t&&!hasProp(l,e)&&r&&!r.inited){if(!(!s.enforceDefine||u&&getGlobal(u)))return v(e)?void 0:j(makeError("nodefine","No define call for "+e,null,[e]));E([e,o.deps||[],o.exportsFn])}A()},nameToUrl:function(e,t,n){var r,o,a,u,c,d=getOwn(s.pkgs,e);if(d&&(e=d),d=getOwn(f,e))return i.nameToUrl(d,t,n);if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(r=s.paths,a=(o=e.split("/")).length;0<a;--a)if(c=getOwn(r,o.slice(0,a).join("/"))){isArray(c)&&(c=c[0]),o.splice(0,a,c);break}u=o.join("/"),u=("/"===(u+=t||(/^data\:|^blob\:|\?/.test(u)||n?"":".js")).charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":s.baseUrl)+u}return s.urlArgs&&!/^blob\:/.test(u)?u+s.urlArgs(e,u):u},load:function(e,t){req.load(i,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=S(e),i.completeLoad(e.id))},onScriptError:function(e){var t=S(e);if(!v(t.id)){var n=[];return eachProp(a,(function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,(function(e){if(e.id===t.id)return n.push(i),!0}))})),j(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}}).require=i.makeRequire(),i}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),(function(e){if("interactive"===e.readyState)return interactiveScript=e})),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),function(){"use strict";var e,t=function(){var e={"browser-detect":["../node_modules/browser-detect/dist/browser-detect.umd","https://unpkg.com/browser-detect@0.2.28/dist/browser-detect.umd"],marked:["../node_modules/marked/marked.min","https://unpkg.com/marked@1.0.0/marked.min"],chartjs:["../node_modules/chart.js/dist/Chart","https://unpkg.com/chart.js@2.9.2/dist/Chart.min"],colorpicker:["../node_modules/jquery-colpick/js/colpick","https://unpkg.com/jquery-colpick@3.0.0/js/colpick"],rangeslider:["../node_modules/rangeslider.js/dist/rangeslider","https://unpkg.com/rangeslider.js@2.3.2/dist/rangeslider.min"],clipboard:["../node_modules/clipboard/dist/clipboard","https://unpkg.com/clipboard@1.5.10/dist/clipboard.min"],cocktail:["../node_modules/backbone.cocktail/Cocktail","https://unpkg.com/backbone.cocktail@0.5.15/Cocktail"],accounting:["../node_modules/accounting/accounting","https://unpkg.com/accounting@0.3.2/accounting.min"],ifvisible:["../node_modules/ifvisible.js/src/ifvisible","https://unpkg.com/ifvisible.js@1.0.6/src/ifvisible.min"],device:["../node_modules/current-device/umd/current-device","https://unpkg.com/current-device@0.8.0/umd/current-device.min"],enquire:["../node_modules/enquire.js/dist/enquire","https://unpkg.com/enquire.js@2.1.1/dist/enquire.min"],FileAPI:["../node_modules/fileapi/dist/FileAPI","https://unpkg.com/fileapi@2.0.5/dist/FileAPI.min"],"google-libphonenumber":["../node_modules/google-libphonenumber/dist/libphonenumber","https://unpkg.com/google-libphonenumber@3.0.0/dist/libphonenumber"],jplayer:["../node_modules/jplayer/dist/jplayer/jquery.jplayer","https://unpkg.com/jplayer@2.9.2/dist/jplayer/jquery.jplayer.min"],"js-uuid":["../node_modules/js-uuid/js-uuid","https://unpkg.com/js-uuid@0.0.6/js-uuid"],fullcalendar:["../node_modules/fullcalendar/dist/fullcalendar","https://unpkg.com/fullcalendar@2.9.1/dist/fullcalendar.min"],pubsub:["../node_modules/pubsub-js/src/pubsub","https://unpkg.com/pubsub-js@1.5.3/src/pubsub"],steady:["../node_modules/steady/Steady","https://unpkg.com/steady@2.0.0/Steady"],store:["../node_modules/store/store","https://unpkg.com/store@1.3.20/store.min"],"twigjs-core":["vendor/twig/for-widgets","https://unpkg.com/twig@0.8.9/twig.min"],webfontloader:["../node_modules/webfontloader/webfontloader","https://unpkg.com/webfontloader@1.6.20/webfontloader"],"wheel-indicator":["../node_modules/wheel-indicator/lib/wheel-indicator","https://unpkg.com/wheel-indicator@1.1.4/lib/wheel-indicator"],cropperjs:["../node_modules/cropperjs/dist/cropper.min","https://unpkg.com/cropperjs@1.2.2/dist/cropper.min"],"virtualized-list":["../node_modules/virtualized-list/umd/virtualized-list","https://unpkg.com/virtualized-list@2.2.0/umd/virtualized-list.min"],atjs:["../node_modules/at.js/dist/js/jquery.atwho","https://unpkg.com/at.js@1.5.4/dist/js/jquery.atwho.min"],scrollMonitor:["../node_modules/scrollmonitor/scrollMonitor","https://unpkg.com/scrollmonitor@1.2.4/scrollMonitor"],elements_view:["vendor/backbone.view.elements/backbone.view.elements","https://cdn.jsdelivr.net/gh/backbonex/backbone.view.elements@1.0.5/lib/Backbone.View.Elements"],"moment-timezone":["../node_modules/moment-timezone/builds/moment-timezone-with-data","https://unpkg.com/moment-timezone@0.5.26/builds/moment-timezone-with-data"],quill:["../node_modules/quill/dist/quill","https://unpkg.com/quill@1.3.7/dist/quill"],moment:["../node_modules/moment/moment","https://unpkg.com/moment@2.24.0/moment"],visibilitycore:["../node_modules/visibilityjs/lib/visibility.core","https://unpkg.com/visibilityjs@1.2.1/lib/visibility.core"],visibilityjs:["../node_modules/visibilityjs/lib/visibility.timers","https://unpkg.com/visibilityjs@1.2.1/lib/visibility.timers"],"url-regex-safe":["../node_modules/url-regex-safe/dist/url-regex-safe.js","https://unpkg.com/url-regex-safe@3.0.0/dist/url-regex-safe.min"],twigjs:"lib/common/twig_additions"},t=Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t.paths[n]=e[n]:(t.paths[n]=e[n][0],t.cdn[n]=e[n][1]),t}),{paths:{},cdn:{}});return{baseUrl:"/frontend/js/",noGlobal:!1,shim:{colorpicker:["jquery"],"moment-langs":["moment"],fullcalendar:{deps:["jquery","moment","moment-langs","moment-timezone"],exports:"Fullcalendar"},"vendor/kalendae/kalendae":{deps:["jquery","moment","moment-timezone","moment-langs"],exports:"Kalendae"},underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},ifvisible:{exports:"ifvisible"},"google-picker":{exports:"gapi"},device:{exports:"device"},steady:{exports:"Steady"},facebook:{exports:"FB"},visibilityjs:{deps:["visibilitycore"],exports:"Visibility"},rxjs:{exports:"rx"},"wheel-indicator":{exports:"WheelIndicator"},jplayer:["jquery"],"vendor/jquery-plugins/jquery.swipe":["jquery"],"vendor/jquery-plugins/jquery.autosize":["jquery"],"vendor/jquery-plugins/jquery.gallery":["jquery"],"jquery.mousewheel":["jquery"],"jquery.visible":["jquery"],"jquery.dotdotdot":["jquery"],"intl-tel-input":["jquery"],"intl-tel-input-utils":["intl-tel-input"],"vendor/nonbounce":["jquery"],touchpounch:["jquery","jquery-ui"]},paths:Object.assign({"app-storybook":"storybook/index","langs/app":"../build/langs/app",tour:"../build/tour","salesbot-designer":"../build/salesbot-designer",facebook:"https://connect.facebook.net/en_US/sdk","google-picker":"https://apis.google.com/js/api.js?onload=loadPicker","magnific-popup":"vendor/magnific-popup/magnific-popup-custom","moment-langs":"vendor/moment/langs",twig:"vendor/twig/ext","twig-core":"vendor/twig/core","intl-tel-input":"vendor/intl-tel-input/build/js/intlTelInput","intl-tel-input-utils":"vendor/intl-tel-libphonenumber/utils",touchpounch:"vendor/touchpounch"},t.paths),map:{"*":{lib:"../build/transpiled","lib/common/router":"../build/transpiled/core/router","lib/widgets":"../build/transpiled/widgets/index","lib/Widget":"../build/transpiled/widgets/Widget","vendor/jplayer":"jplayer","vendor/underscore":"underscore","vendor/backbone":"backbone","vendor/ifvisible":"ifvisible","vendor/jquery-ui/ui/widget":"jquery-ui",intl_tel_input:"intl-tel-input","vendor/intl-tel-input/build/js/intlTelInput":"intl-tel-input","vendor/intl-tel-input/lib/libphonenumber/build/utils":"intl-tel-input-utils","vendor/twig":"twigjs-core",css:"require-css","jquery-ui":"jquery"},"vendor/pikaday/pikaday.jquery":{pikaday:"vendor/pikaday/pikaday"}},paths_cdn:t.cdn,packages:[{name:"jquery-ui-bundle",location:"../node_modules/jquery-ui/",main:"ui/widget"},{name:"require-css",location:"../node_modules/require-css/",main:"css"}]}}();"object"==typeof module&&module.exports?module.exports=t:(e="dev"===APP.environment?"":APP.constant("version"),t.urlArgs=e,t.waitSeconds=45,Object.assign(t.paths,t.paths_cdn),require(t))}(),define("text",["module"],(function(e){"use strict";var t,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o="undefined"!=typeof location&&location.href,s=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,u=o&&(location.port||void 0),c=[],d=e.config&&e.config()||{},l={version:"2.0.5",strip:function(e){var t;return e?(t=(e=e.replace(i,"")).match(r))&&(e=t[1]):e="",e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){i=n[t];try{e=new ActiveXObject(i)}catch(e){}if(e){n=[i];break}}return e},parseName:function(e){var t,n,i=!1,r=e.indexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==r&&(!o||1<r)?(t=e.substring(0,r),n=e.substring(r+1,e.length)):t=e,-1!==(r=(e=n||t).indexOf("!"))&&(i="strip"===e.substring(r+1),e=e.substring(0,r),n?n=e:t=e),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,i){var r,o=l.xdRegExp.exec(e);return!(o&&(r=o[2],o=(e=(e=o[3]).split(":"))[1],e=e[0],r&&r!==t||e&&e.toLowerCase()!==n.toLowerCase()||(o||e)&&o!==i))},finishLoad:function(e,t,n,i){n=t?l.strip(n):n,d.isBuild&&(c[e]=n),i(n)},load:function(e,t,n,i){var r,c,p;!i.isBuild||i.inlineText?(d.isBuild=i.isBuild,c=(r=l.parseName(e)).moduleName+(r.ext?"."+r.ext:""),p=t.toUrl(c),i=d.useXhr||l.useXhr,!o||i(p,s,a,u)?l.get(p,(function(t){l.finishLoad(e,r.strip,t,n)}),(function(e){n.error&&n.error(e)})):t([c],(function(e){l.finishLoad(r.moduleName+"."+r.ext,r.strip,e,n)}))):n()},write:function(e,t,n,i){var r;c.hasOwnProperty(t)&&(r=l.jsEscape(c[t]),n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n"))},writeFile:function(e,t,n,i,r){var o=l.parseName(t),s=(t=o.ext?"."+o.ext:"",o.moduleName+t),a=n.toUrl(o.moduleName+t)+".js";l.load(s,n,(function(t){function n(e){return i(a,e)}n.asModule=function(e,t){return i.asModule(e,a,t)},l.write(e,s,n,r)}),r)}};return"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(t=require.nodeRequire("fs"),l.get=function(e,n){0===(e=t.readFileSync(e,"utf8")).indexOf("\ufeff")&&(e=e.substring(1)),n(e)}):"xhr"===d.env||!d.env&&l.createXhr()?l.get=function(e,t,n,i){var r,o=l.createXhr();if(o.open("GET",e,!0),i)for(r in i)i.hasOwnProperty(r)&&o.setRequestHeader(r.toLowerCase(),i[r]);d.onXhr&&d.onXhr(o,e),o.onreadystatechange=function(i){var r;4===o.readyState&&(399<(r=o.status)&&r<600?((r=new Error(e+" HTTP status: "+r)).xhr=o,n(r)):t(o.responseText))},o.send(null)}:"rhino"!==d.env&&(d.env||"undefined"==typeof Packages||"undefined"==typeof java)||(l.get=function(e,t){e=new java.io.File(e);var n,i,r=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),s="";try{for(n=new java.lang.StringBuffer,(i=o.readLine())&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=o.readLine());)n.append(r),n.append(i);s=String(n.toString())}finally{o.close()}t(s)}),l})),define("json",["text"],(function(text){var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),(e+=e.indexOf("?")<0?"?":"&")+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}return{load:function(e,t,n,i){i.isBuild&&(!1===i.inlineJSON||-1!==e.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===t.toUrl(e).indexOf("empty:")?n(null):text.get(t.toUrl(e),(function(t){i.isBuild?(buildMap[e]=t,n(t)):n(jsonParse(t))}),n.error,{accept:"application/json"})},normalize:function(e,t){return-1!==e.indexOf(CACHE_BUST_FLAG)&&(e=cacheBust(e)),t(e)},write:function(e,t,n){t in buildMap&&n('define("'+e+"!"+t+'", function(){ return '+buildMap[t]+";});\n")}}})),define("optional",(function(){return{version:"0.1.0",failed:[],load:function(e,t,n,i){0!==e.length?t([e],n,function(){this.failed.push(e),requirejs.undef(e),n({})}.bind(this)):n(this)}}})),define("es6",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("require-css",[],(function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,i=!0;function r(){s=document.createElement("style"),e.appendChild(s),a=s.styleSheet||s.sheet}function o(e){a.addImport(e),s.onload=function(){l()},31==++c&&(r(),c=0)}t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]||"WebkitAppearance"in document.documentElement.style?i=!1:t[4]&&(n=parseInt(t[4])<18);var s,a,u,c=0,d=[],l=function(){u();var e=d.shift();e?(u=e[1],o(e[0])):u=null};return(t={pluginBuilder:"./css-builder"}).normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},t.load=function(t,c,l,p){(n?function(e,t){var n;a&&a.addImport||r(),a&&a.addImport?u?d.push([e,t]):(o(e),u=t):(s.textContent='@import "'+e+'";',n=setInterval((function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}}),10))}:function(t,n){var r,o=document.createElement("link");o.type="text/css",o.rel="stylesheet",i?o.onload=function(){o.onload=function(){},setTimeout(n,7)}:r=setInterval((function(){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].href==o.href)return clearInterval(r),n()}),10),o.href=t,e.appendChild(o)})(c.toUrl(t+".css"),l)},t}));