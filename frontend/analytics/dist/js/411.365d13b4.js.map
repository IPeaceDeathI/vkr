{"version":3,"file":"js/411.365d13b4.js","mappings":"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","sources":["webpack://test/./src/entities/integrations/store.ts","webpack://test/./src/entities/yandex-direct/model.ts","webpack://test/./src/pages/settings/integrations/edit/amo/useAmoStep.ts","webpack://test/./src/pages/settings/integrations/edit/amo/step-auth.vue?d2c7","webpack://test/./src/pages/settings/integrations/edit/amo/step-auth.vue","webpack://test/./src/pages/settings/integrations/edit/amo/step-auth.vue?5fef","webpack://test/./src/shared/libs/information-icon/types.ts","webpack://test/./src/shared/libs/information-icon/information_icon.vue?ce16","webpack://test/./src/shared/libs/information-icon/information_icon.vue","webpack://test/./src/shared/libs/information-icon/information_icon.vue?9597","webpack://test/./src/pages/settings/integrations/edit/amo/_status_card.vue?d73d","webpack://test/./src/pages/settings/integrations/edit/amo/_status_card.vue","webpack://test/./src/pages/settings/integrations/edit/amo/_status_card.vue?65a6","webpack://test/./src/pages/settings/integrations/edit/amo/types.ts","webpack://test/./src/pages/settings/integrations/edit/amo/step-statuses.vue?c9bc","webpack://test/./src/pages/settings/integrations/edit/amo/step-statuses.vue","webpack://test/./src/pages/settings/integrations/edit/amo/step-statuses.vue?5e6a","webpack://test/./src/pages/settings/integrations/edit/amo/step-proxy-lead.vue?14ee","webpack://test/./src/pages/settings/integrations/edit/amo/step-proxy-lead.vue","webpack://test/./src/pages/settings/integrations/edit/amo/step-proxy-lead.vue?ef68","webpack://test/./src/pages/settings/integrations/edit/amo/step-settings.vue?a68c","webpack://test/./src/pages/settings/integrations/edit/amo/step-settings.vue","webpack://test/./src/pages/settings/integrations/edit/amo/step-settings.vue?ff60","webpack://test/./src/shared/types.ts","webpack://test/../../../src/components/VSwitch/VSwitch.tsx","webpack://test/./src/pages/settings/integrations/edit/amo/step-basic-settings.vue?9ebb","webpack://test/./src/pages/settings/integrations/edit/amo/step-basic-settings.vue","webpack://test/./src/pages/settings/integrations/edit/amo/step-basic-settings.vue?4bf8","webpack://test/./src/pages/settings/integrations/edit/useIntegrationEdit.ts","webpack://test/../../../src/components/VStepper/VStepperActions.tsx","webpack://test/../../../src/components/VStepper/VStepperHeader.ts","webpack://test/../../../src/directives/touch/index.ts","webpack://test/../../../src/components/VWindow/VWindow.tsx","webpack://test/../../../src/components/VStepper/VStepperWindow.tsx","webpack://test/../../../src/components/VWindow/VWindowItem.tsx","webpack://test/../../../src/components/VStepper/VStepperWindowItem.tsx","webpack://test/../../../src/components/VStepper/VStepper.tsx","webpack://test/../../../src/components/VStepper/VStepperItem.tsx","webpack://test/./src/shared/libs/url-stepper/index.vue?abc8","webpack://test/./src/shared/libs/url-stepper/index.vue","webpack://test/./src/shared/libs/url-stepper/index.vue?7ed9","webpack://test/./src/shared/libs/url-stepper/index.ts","webpack://test/./src/pages/settings/integrations/edit/amo/index.vue?a3f7","webpack://test/./src/pages/settings/integrations/edit/amo/index.vue","webpack://test/./src/pages/settings/integrations/edit/amo/index.vue?82f7","webpack://test/./src/pages/settings/integrations/edit/amo/index.ts","webpack://test/./src/entities/channel-campaign/scheme.ts","webpack://test/./src/entities/channel-campaign/mock.data.ts","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/_campaign.vue?f477","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/_campaign.vue","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/_campaign.vue?f606","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/_channel.vue","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/_channel.vue?2669","webpack://test/../../../src/components/VTabs/shared.ts","webpack://test/../../../src/components/VTabs/VTab.tsx","webpack://test/../../../src/components/VSlideGroup/helpers.ts","webpack://test/../../../src/components/VSlideGroup/VSlideGroup.tsx","webpack://test/../../../src/components/VTabs/VTabs.tsx","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/index.vue?8fbb","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/index.vue","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/index.vue?1e7a","webpack://test/./src/pages/settings/integrations/edit/yandex-direct/index.ts","webpack://test/./src/pages/settings/integrations/edit/lead-source/index.vue?805d","webpack://test/./src/pages/settings/integrations/edit/lead-source/index.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source/index.vue?8f48","webpack://test/./src/pages/settings/integrations/edit/lead-source/step-instruction.vue?8d31","webpack://test/./src/pages/settings/integrations/edit/lead-source/step-instruction.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source/index.ts","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/index.vue?bed5","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/index.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/index.vue?7c9e","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-instruction.vue?9674","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-instruction.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-instruction.vue?db03","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-custom.vue?6679","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-custom.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-custom.vue?4aa5","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-counter.vue?6240","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-counter.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/step-counter.vue?a870","webpack://test/./src/pages/settings/integrations/edit/lead-source-webhook/index.ts","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/index.vue?606c","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/index.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/index.vue?5015","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-instruction.vue?6933","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-instruction.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-instruction.vue?5eff","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-custom.vue?7f77","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-custom.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/step-custom.vue?8f1d","webpack://test/./src/pages/settings/integrations/edit/lead-source-flexbe/index.ts","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/index.vue?914a","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/index.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/index.vue?20c4","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-instruction.vue?ca09","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-instruction.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-instruction.vue?9547","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-custom.vue?6abd","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-custom.vue","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/step-custom.vue?83a6","webpack://test/./src/pages/settings/integrations/edit/lead-source-tilda/index.ts","webpack://test/./src/pages/settings/integrations/edit/index.vue?57dd","webpack://test/./src/pages/settings/integrations/edit/index.vue","webpack://test/./src/pages/settings/integrations/edit/index.vue?406e","webpack://test/./src/pages/settings/integrations/edit/index.ts"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { Integration, IntegrationItem } from \"./types\";\r\nimport { IntegrationModel } from \"./model\";\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_STATUS,\r\n    INTEGRATION_TYPE,\r\n    CATEGORY_CRM,\r\n} from \"./scheme\";\r\nimport { postYandexDirectIntegration } from \"../yandex-direct\";\r\nimport { WebhookModel, WebhookSettingsSource } from \"../webhook\";\r\nimport { intersection } from \"zod\";\r\nimport { ApiIntegration } from \"@/shared/api/modules/Integration\";\r\n\r\nexport const useIntegrationStore = defineStore(\"integration-store\", {\r\n    state: () => ({\r\n        integrationListIsUpdating: true as boolean,\r\n        integrationListUpdatingError: false as false | string,\r\n        integrationList: [] as Array<IntegrationItem>,\r\n        integrationWebhookSettings: undefined as\r\n            | undefined\r\n            | WebhookSettingsSource,\r\n        integrationLeadSourceType: -1 as number,\r\n    }),\r\n    getters: {\r\n        getAllCRM: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return int.integration_type === INTEGRATION_CATEGORY.CRM;\r\n            });\r\n        },\r\n        getAmoCRM: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.type === CATEGORY_CRM.amoCRM &&\r\n                    int.integration_type === INTEGRATION_CATEGORY.CRM\r\n                );\r\n            });\r\n        },\r\n        getWehookIntegration: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.type ===\r\n                        INTEGRATION_TYPE[INTEGRATION_CATEGORY.LEAD_SOURCE]\r\n                            .WEBHOOK &&\r\n                    int.integration_type === INTEGRATION_CATEGORY.LEAD_SOURCE\r\n                );\r\n            });\r\n        },\r\n        getAllLeadSource: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.integration_type === INTEGRATION_CATEGORY.LEAD_SOURCE\r\n                );\r\n            });\r\n        },\r\n        getAllAdvertisingChannels: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.integration_type ===\r\n                    INTEGRATION_CATEGORY.ADVERTISING_CHANNELS\r\n                );\r\n            });\r\n        },\r\n    },\r\n\r\n    actions: {\r\n        async updateIntegrationList(stat_id: number) {\r\n            this.integrationListIsUpdating = true;\r\n            this.integrationListUpdatingError = false;\r\n            try {\r\n                this.integrationList = await IntegrationModel.getAll(stat_id);\r\n            } catch (error: any) {\r\n                this.integrationListUpdatingError = error.toString\r\n                    ? error.toString()\r\n                    : \"При обновлении интеграция произошла ошибка\";\r\n            }\r\n            this.integrationListIsUpdating = true;\r\n        },\r\n        async add(\r\n            stat_id: number,\r\n            status: INTEGRATION_STATUS,\r\n            type: number,\r\n            data: postYandexDirectIntegration,\r\n            integration_type: INTEGRATION_CATEGORY\r\n        ): Promise<number> {\r\n            const result = await IntegrationModel.postIntegration(\r\n                stat_id,\r\n                status,\r\n                type,\r\n                data,\r\n                integration_type\r\n            );\r\n            const addedIntegration = await IntegrationModel.get(\r\n                stat_id,\r\n                result\r\n            );\r\n\r\n            this.integrationList.push(addedIntegration);\r\n\r\n            //По полученному id получить информацию об интеграции и положить в стору.\r\n            return result;\r\n        },\r\n        async getLeadSourceIntegrationType(integration_type: number) {\r\n            // const result =\r\n            //     await ApiIntegration.getInstance().getIntegrationById(\r\n            //         stat_id,\r\n            //         integration_id\r\n            //     );\r\n            // console.log(\"getLeadSourceIntegrationType\", result[0].type);\r\n            this.integrationLeadSourceType = integration_type;\r\n        },\r\n        async getSettingsWebhook(\r\n            stat_id: number,\r\n            integration_id: number\r\n        ): Promise<WebhookSettingsSource | undefined> {\r\n            const result = await WebhookModel.getSettingSourceWebhook(\r\n                stat_id,\r\n                integration_id,\r\n                this.integrationLeadSourceType\r\n            );\r\n            this.integrationWebhookSettings = result;\r\n            return result;\r\n        },\r\n        async init(stat_id: number): Promise<boolean> {\r\n            try {\r\n                await Promise.all([this.updateIntegrationList(stat_id)]);\r\n                return true;\r\n            } catch (error) {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        async remove(id: number) {\r\n            // console.log(\"remove\");\r\n            // const result = await IntegrationModel.delete(id);\r\n            // if (result) {\r\n            //     this.integrationList = this.integrationList.filter(\r\n            //         (value) => value.id !== id\r\n            //     );\r\n            // }\r\n            return true;\r\n        },\r\n    },\r\n});\r\n","// import { ApiYandexDirect } from \"@/shared/api/modules/YandexDirect\";\r\nimport { ApiYandexDirect } from \"@/shared/api/modules\";\r\nimport {\r\n    YandexDirectAuth,\r\n    YandexDirectSetting,\r\n    putYandexDirectSetting,\r\n    postYandexDirectIntegration,\r\n    putYandexDirectCampaign,\r\n    postYandexDirectAuth,\r\n} from \"./types\";\r\n// import { ApiYandexDirect } from \"../../api/modules/YandexDirect\";\r\n\r\nexport class YandexDirectModel {\r\n    // SETTING CHANNEL YANDEX DIRECT\r\n    static async putSettingChannel(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: putYandexDirectSetting\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().PUT_SETTING(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // INTEGRATION CHANNEL YANDEX.DIRECT\r\n    static async postIntegrationChannel(\r\n        stat_id: number,\r\n        data: postYandexDirectIntegration\r\n    ): Promise<number> {\r\n        return ApiYandexDirect.getInstance().POST_INTEGRATION(stat_id, data);\r\n    }\r\n\r\n    // SETTING CAMPAIGN\r\n    static async putSettingCampaign(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: putYandexDirectCampaign\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().PUT_CAMPAIGN(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // SETTING CHANNEL YANDEX DIRECT\r\n    static async getSettingChannel(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<YandexDirectSetting> {\r\n        return ApiYandexDirect.getInstance().GET_SETTING(\r\n            stat_id,\r\n            integration_id\r\n        );\r\n    }\r\n\r\n    // AUTH CHANNEL YANDEX DIRECT\r\n    static async postAuthChannel(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: postYandexDirectAuth\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().POST_AUTH(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // EXIST COMPLEX CHANNEL YANDEX.DIRECT\r\n    static async getExistChannel(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<YandexDirectAuth> {\r\n        return ApiYandexDirect.getInstance().GET_EXIST(stat_id, integration_id);\r\n    }\r\n\r\n    static async getCampaignChannels(stat_id: number, integration_id: number) {\r\n        return ApiYandexDirect.getInstance().getCampaignChannels(\r\n            stat_id,\r\n            integration_id\r\n        );\r\n    }\r\n}\r\n","import { watch, Ref, onMounted } from \"vue\";\r\n\r\nexport type Props = {\r\n    isOpen: boolean;\r\n};\r\n\r\n//предоставляет возможность выполнить инициализирующий запрос при переходе на вкладку шага\r\n\r\nexport default function useAmoStep(\r\n    isOpen: Ref<boolean>,\r\n    initialRequest?: (integration_id: number, stat_id: number) => any\r\n) {\r\n    watch(isOpen, (newValue) => {\r\n        if (initialRequest) {\r\n            // initialRequest(11, 12);\r\n        }\r\n    });\r\n\r\n    return { isOpen };\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"ml-3 text-medium-emphasis\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-error\"\n}\n\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel } from \"@/entities/amo\";\r\n\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { toRef } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { watch } from \"vue\";\r\nimport { watchEffect } from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-auth',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst { data, isLoading, executeRequest, isError, error } = useAsyncState({\r\n    request: AmoModel.getUrlForIntegration,\r\n    initialArgs: [Number(route.params.id), Number(route.params.statId)],\r\n});\r\n\r\nconst { data: existComlex, executeRequest: updateExistComplex } = useAsyncState(\r\n    {\r\n        immediate: true,\r\n        request: AmoModel.getIntegrationExistComplex,\r\n        initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n    }\r\n);\r\n\r\nconst props = __props;\r\n\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    () => {\r\n        executeRequest(Number(integrationId.value), Number(statId.value));\r\n    }\r\n);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_scroll_x_transition = _resolveComponent(\"v-scroll-x-transition\")!\n  const _component_v_scale_transition = _resolveComponent(\"v-scale-transition\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _withDirectives(_createVNode(_component_v_btn, {\n      loading: _unref(isLoading),\n      color: \"primary\",\n      variant: \"flat\",\n      size: \"default\",\n      href: _unref(data),\n      text: \"Авторизовать приложение\"\n    }, null, 8, [\"loading\", \"href\"]), [\n      [_vShow, !_unref(existComlex)?.status_allocation]\n    ]),\n    _createVNode(_component_v_scroll_x_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isLoading))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \" Загружаем ссылку для авторизации \"))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_scale_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(_unref(error)), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})","<template>\r\n    <v-btn\r\n        :loading=\"isLoading\"\r\n        color=\"primary\"\r\n        variant=\"flat\"\r\n        size=\"default\"\r\n        :href=\"data\"\r\n        text=\"Авторизовать приложение\"\r\n        v-show=\"!existComlex?.status_allocation\"\r\n    />\r\n\r\n    <v-scroll-x-transition>\r\n        <span class=\"ml-3 text-medium-emphasis\" v-if=\"isLoading\">\r\n            Загружаем ссылку для авторизации\r\n        </span>\r\n    </v-scroll-x-transition>\r\n\r\n    <v-scale-transition>\r\n        <span v-if=\"isError\" class=\"text-error\">{{ error }}</span>\r\n    </v-scale-transition>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel } from \"@/entities/amo\";\r\nimport { defineProps } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { toRef } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { watch } from \"vue\";\r\nimport { watchEffect } from \"vue\";\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst { data, isLoading, executeRequest, isError, error } = useAsyncState({\r\n    request: AmoModel.getUrlForIntegration,\r\n    initialArgs: [Number(route.params.id), Number(route.params.statId)],\r\n});\r\n\r\nconst { data: existComlex, executeRequest: updateExistComplex } = useAsyncState(\r\n    {\r\n        immediate: true,\r\n        request: AmoModel.getIntegrationExistComplex,\r\n        initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n    }\r\n);\r\n\r\nconst props = defineProps<Props>();\r\n\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    () => {\r\n        executeRequest(Number(integrationId.value), Number(statId.value));\r\n    }\r\n);\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./step-auth.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-auth.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export enum InformationIconType {\r\n    alert = \"mdi-alert-circle-outline\",\r\n    info = \"mdi-information-outline\",\r\n    question = \"mdi-help-circle-outline\",\r\n}\r\nexport enum InformationIconLocation {\r\n    start = \"start\",\r\n    end = \"end\",\r\n    top = \"top\",\r\n    bottom = \"bottom\",\r\n}\r\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"span\", null, [\n    _createVNode(_component_v_icon, {\n      size: _ctx.size,\n      style: {\"cursor\":\"pointer\"},\n      icon: _ctx.type\n    }, null, 8, [\"size\", \"icon\"]),\n    _createVNode(_component_v_tooltip, {\n      activator: \"parent\",\n      text: _ctx.information,\n      location: _ctx.lacation,\n      \"open-delay\": \"300\",\n      \"max-width\": \"300\"\n    }, null, 8, [\"text\", \"location\"])\n  ]))\n}","<template>\r\n    <span>\r\n        <v-icon :size=\"size\" style=\"cursor: pointer\" :icon=\"type\" />\r\n\r\n        <v-tooltip\r\n            activator=\"parent\"\r\n            :text=\"information\"\r\n            :location=\"lacation\"\r\n            open-delay=\"300\"\r\n            max-width=\"300\"\r\n        />\r\n    </span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType, defineComponent } from \"vue\";\r\nimport { InformationIconType, InformationIconLocation } from \"./types\";\r\nexport default defineComponent({\r\n    name: \"information-icon\",\r\n    props: {\r\n        size: {\r\n            type: String,\r\n            default: \"medium\",\r\n        },\r\n        information: {\r\n            type: String,\r\n            default: \"Информация\",\r\n        },\r\n        type: {\r\n            type: String as PropType<InformationIconType>,\r\n            default: InformationIconType.info,\r\n        },\r\n        color: {\r\n            type: String,\r\n            default: \"\",\r\n        },\r\n        lacation: {\r\n            type: String as PropType<InformationIconLocation>,\r\n            default: InformationIconLocation.top,\r\n        },\r\n    },\r\n});\r\n</script>\r\n","import { render } from \"./information_icon.vue?vue&type=template&id=0b116b46&ts=true\"\nimport script from \"./information_icon.vue?vue&type=script&lang=ts\"\nexport * from \"./information_icon.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createVNode as _createVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, mergeProps as _mergeProps, withCtx as _withCtx, withDirectives as _withDirectives, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b5583d44\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-statuses-card\" }\nconst _hoisted_2 = { class: \"amo-statuses-card__body__item\" }\n\nimport { toRefs, Ref } from \"vue\";\r\nimport { informationIcon } from \"@/shared/libs/information-icon\";\r\nimport { AmoPipelineStatus, AmoPipelineStatusItems } from \"@/entities/amo\";\r\nimport draggable from \"vuedraggable\";\r\nimport { watch } from \"vue\";\r\nimport { toRef } from \"vue\";\r\nimport { CARDS_TYPE } from \"./types\";\r\ntype StatusTypeProps = {\r\n    allocationId: CARDS_TYPE;\r\n    title: string;\r\n    hint: string;\r\n    headerClasses: string;\r\n    itemList: Array<AmoPipelineStatusItems>;\r\n    isLoading?: boolean;\r\n};\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: '_status_card',\n  props: {\n    allocationId: {},\n    title: {},\n    hint: {},\n    headerClasses: {},\n    itemList: {},\n    isLoading: { type: Boolean }\n  },\n  setup(__props: any, { expose: __expose }) {\n\r\nconst props = __props;\r\nconst { title, headerClasses, hint, itemList, allocationId } = toRefs(props);\r\n\r\nconst statusList = toRef<Array<AmoPipelineStatusItems>>(props.itemList);\r\nwatch(itemList, (newVal) => {\r\n    statusList.value = newVal;\r\n});\r\n\r\nconst draggableAttr = {\r\n    animation: 400,\r\n    disabled: false,\r\n    forceFallback: true,\r\n    ghostClass: \"draggable-ghost\",\r\n    dragClass: \"draggable-drag\",\r\n    chosenClass: \"draggable-chosen\",\r\n    fallbackTolerance: 10,\r\n    scrollSensitivity: 200,\r\n};\r\nconst getStatusList = (): Ref<Array<AmoPipelineStatusItems>> => {\r\n    return statusList;\r\n};\r\n\r\n__expose({\r\n    getStatusList,\r\n    allocationId,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_fade_transition = _resolveComponent(\"v-fade-transition\")!\n\n  return (_openBlock(), _createElementBlock(\"article\", _hoisted_1, [\n    _createElementVNode(\"header\", {\n      class: _normalizeClass(`amo-statuses-card__header ` + _unref(headerClasses))\n    }, [\n      _createTextVNode(_toDisplayString(_unref(title)) + \" \", 1),\n      _createVNode(_unref(informationIcon), { information: _unref(hint) }, null, 8, [\"information\"])\n    ], 2),\n    (_ctx.isLoading)\n      ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n          key: 0,\n          indeterminate: \"\",\n          color: \"secondary\"\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_v_fade_transition, null, {\n      default: _withCtx(() => [\n        _withDirectives(_createVNode(_unref(draggable), _mergeProps({\n          modelValue: statusList.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((statusList).value = $event)),\n          group: \"amo-statuses\",\n          \"item-key\": \"id\",\n          tag: \"ul\"\n        }, draggableAttr, { class: \"amo-statuses-card__body\" }), {\n          item: _withCtx(({ element }) => [\n            _createElementVNode(\"li\", _hoisted_2, _toDisplayString(element.show_name), 1)\n          ]),\n          _: 1\n        }, 16, [\"modelValue\"]), [\n          [_vShow, !_ctx.isLoading]\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <article class=\"amo-statuses-card\">\r\n        <header :class=\"`amo-statuses-card__header ` + headerClasses\">\r\n            {{ title }}\r\n            <information-icon :information=\"hint\" />\r\n        </header>\r\n        <v-progress-linear v-if=\"isLoading\" indeterminate color=\"secondary\" />\r\n        <v-fade-transition>\r\n            <draggable\r\n                v-model=\"statusList\"\r\n                v-show=\"!isLoading\"\r\n                group=\"amo-statuses\"\r\n                item-key=\"id\"\r\n                tag=\"ul\"\r\n                v-bind=\"draggableAttr\"\r\n                class=\"amo-statuses-card__body\"\r\n            >\r\n                <template #item=\"{ element }\">\r\n                    <li class=\"amo-statuses-card__body__item\">\r\n                        {{ element.show_name }}\r\n                    </li>\r\n                </template>\r\n            </draggable>\r\n        </v-fade-transition>\r\n    </article>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, defineExpose, toRefs, Ref } from \"vue\";\r\nimport { informationIcon } from \"@/shared/libs/information-icon\";\r\nimport { AmoPipelineStatus, AmoPipelineStatusItems } from \"@/entities/amo\";\r\nimport draggable from \"vuedraggable\";\r\nimport { watch } from \"vue\";\r\nimport { toRef } from \"vue\";\r\nimport { CARDS_TYPE } from \"./types\";\r\ntype StatusTypeProps = {\r\n    allocationId: CARDS_TYPE;\r\n    title: string;\r\n    hint: string;\r\n    headerClasses: string;\r\n    itemList: Array<AmoPipelineStatusItems>;\r\n    isLoading?: boolean;\r\n};\r\n\r\nconst props = defineProps<StatusTypeProps>();\r\nconst { title, headerClasses, hint, itemList, allocationId } = toRefs(props);\r\n\r\nconst statusList = toRef<Array<AmoPipelineStatusItems>>(props.itemList);\r\nwatch(itemList, (newVal) => {\r\n    statusList.value = newVal;\r\n});\r\n\r\nconst draggableAttr = {\r\n    animation: 400,\r\n    disabled: false,\r\n    forceFallback: true,\r\n    ghostClass: \"draggable-ghost\",\r\n    dragClass: \"draggable-drag\",\r\n    chosenClass: \"draggable-chosen\",\r\n    fallbackTolerance: 10,\r\n    scrollSensitivity: 200,\r\n};\r\nconst getStatusList = (): Ref<Array<AmoPipelineStatusItems>> => {\r\n    return statusList;\r\n};\r\n\r\ndefineExpose({\r\n    getStatusList,\r\n    allocationId,\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$border: #d1d4d6 solid 1px;\r\n.amo-statuses-card {\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    border: $border;\r\n}\r\n.amo-statuses-card__header {\r\n    font-size: 0.9em;\r\n    padding: 4px 9px;\r\n}\r\n.amo-statuses-card__body {\r\n    min-height: 100px;\r\n    padding: 0.3em;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.3em;\r\n}\r\n.amo-statuses-card__body__item {\r\n    border-radius: 5px;\r\n    padding: 0.3em;\r\n    border: $border;\r\n    cursor: pointer;\r\n    transition: background 0.3s ease;\r\n    &:hover {\r\n        background-color: #d1d4d6;\r\n    }\r\n}\r\n</style>\r\n","import script from \"./_status_card.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./_status_card.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./_status_card.vue?vue&type=style&index=0&id=b5583d44&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b5583d44\"]])\n\nexport default __exports__","import { STATUS_ALLOCATION } from \"@/entities/amo\";\r\nexport enum CARDS_TYPE {\r\n    UNDEFINED = 0,\r\n    IN_PROGRESS = 1,\r\n    PAID = 2,\r\n    CANSELED = 3,\r\n}\r\nexport const cardsToAllocationStatus: {\r\n    [key in\r\n        | CARDS_TYPE.IN_PROGRESS\r\n        | CARDS_TYPE.PAID\r\n        | CARDS_TYPE.CANSELED]: STATUS_ALLOCATION;\r\n} = {\r\n    [CARDS_TYPE.PAID]: STATUS_ALLOCATION.PAID,\r\n    [CARDS_TYPE.IN_PROGRESS]: STATUS_ALLOCATION.IN_PROGRESS,\r\n    [CARDS_TYPE.CANSELED]: STATUS_ALLOCATION.CANCELED,\r\n};\r\n\r\nexport const formFieldsOptions: {\r\n    hideDetails: boolean;\r\n    itemTitle: string;\r\n    itemValue: string;\r\n    returnObject: boolean;\r\n    clearable: boolean;\r\n    class: string;\r\n    noDataText: string;\r\n} = {\r\n    clearable: true,\r\n    hideDetails: false,\r\n    itemTitle: \"name\",\r\n    itemValue: \"id\",\r\n    returnObject: false,\r\n    class: \"mt-2\",\r\n    noDataText: \"Результатов не найдено\",\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createBlock as _createBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-677200ed\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-statuses\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \" Загрузка заявок из CRM: распределение статусов \", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"amo-card__paragraph\" }, \" Распределите статусы ваших заявок по трем группам статусов, которые затем будут учитываться в аналитике как сделки в работе, оплаченные или отмененные сделки. Статусы, которые не нужно учитывать в аналитике оставьте в группе \\\"не учитываются\\\". \", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"amo-card__paragraph mt-2\" }, \" После распределения статусов заказы из CRM будут загружены в ваш проект в течение часа. \", -1))\nconst _hoisted_5 = { class: \"amo-statuses__container mt-3\" }\nconst _hoisted_6 = { class: \"amo-statuses__action mt-4\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_8 = {\n  key: 1,\n  class: \"text-error\"\n}\n\nimport { computed, ref, toRef, watch } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport statusCard from \"./_status_card.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport {\r\n    AmoModel,\r\n    AmoPipelineItems,\r\n    AmoPipelineStatus,\r\n    AmoPipelineStatusItems,\r\n    AmoPostSettingAllocation,\r\n} from \"@/entities/amo\";\r\nimport { CARDS_TYPE, cardsToAllocationStatus } from \"./types\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\nimport { ApiAmo } from \"@/shared/api/modules\";\r\n\r\ntype Card = {\r\n    id: CARDS_TYPE;\r\n    title: string;\r\n    hint: string;\r\n    headerClasses: string;\r\n    itemList: Array<AmoPipelineStatusItems>;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-statuses',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst props = __props;\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\n//getStatuses\r\nconst {\r\n    data: statuses,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: AmoModel.getAllStatusByPipeline,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\n// useAmoState(\r\n//     toRef(() => props.isOpen),\r\n//     () => {\r\n//         executeRequest(Number(integrationId.value), Number(statId.value));\r\n//     }\r\n// );\r\n\r\nwatch(statuses, (newVal) => {\r\n    //TODO добавить проверку на то, установлены ли уже статусы и если да, то вывдить данные с другого Api\r\n    if (newVal === undefined) return;\r\n\r\n    const undefiCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.UNDEFINED\r\n    );\r\n\r\n    const inProgCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.IN_PROGRESS\r\n    );\r\n    const paidCard = cards.value.find((card) => card.id === CARDS_TYPE.PAID);\r\n    const canseledCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.CANSELED\r\n    );\r\n    if (undefiCard && inProgCard && paidCard && canseledCard) {\r\n        undefiCard.itemList = newVal;\r\n        inProgCard.itemList = [];\r\n        paidCard.itemList = [];\r\n        canseledCard.itemList = [];\r\n    }\r\n});\r\n\r\n//cards\r\nconst cardRefs = ref<Array<typeof statusCard>>([]);\r\nconst cards = ref<Card[]>([\r\n    {\r\n        id: CARDS_TYPE.UNDEFINED,\r\n        title: \"Не учитываются\",\r\n        hint: \"Сделки, которые не будут учитываться Roistat. Например, мусорные сделки или дубли\",\r\n        headerClasses: \"bg-background\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.IN_PROGRESS,\r\n        title: \"В работе\",\r\n        hint: \"Сделки в процессе. Например, сделки в процессе переговоров или отгрузки товара\",\r\n        headerClasses: \"bg-primary\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.PAID,\r\n        hint: \"Сделки, по которым совершена оплата или точно будет совершена оплата\",\r\n        title: \"Оплаченные\",\r\n        headerClasses: \"bg-success\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.CANSELED,\r\n        title: \"Отмененные\",\r\n        hint: \"Отмененные сделки. Например, отказ или возврат товара\",\r\n        headerClasses: \"bg-error\",\r\n        itemList: [],\r\n    },\r\n]);\r\n\r\n//post\r\nconst postButtonText = ref(\"Сохранить и продолжить\");\r\n\r\nconst saveAndContinue = () => {\r\n    isPostLoading.value = true;\r\n    let settingsAllocation: Array<AmoPostSettingAllocation> = [];\r\n\r\n    cardRefs.value.forEach((cardComponent) => {\r\n        const cardId = cardComponent.allocationId as CARDS_TYPE;\r\n        if (cardId === CARDS_TYPE.UNDEFINED) return;\r\n        const statuses: Array<AmoPostSettingAllocation> = (\r\n            cardComponent.getStatusList().value as Array<AmoPipelineStatusItems>\r\n        ).map((status) => {\r\n            return {\r\n                status_id: status.id,\r\n                status_allocation: cardsToAllocationStatus[cardId],\r\n                pipeline_id: status.pipeline_id,\r\n            };\r\n        });\r\n        settingsAllocation = settingsAllocation.concat(statuses);\r\n    });\r\n    // executePost(Number(statId.value),Number(integrationId.value,settingsAllocation),\r\n    executePost(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        settingsAllocation\r\n    );\r\n};\r\n\r\nconst onPostSuccess = (data: boolean) => {\r\n    postButtonText.value = \"Сохранено\";\r\n    setTimeout(() => {\r\n        router\r\n            .push({\r\n                ...route,\r\n                query: { step: possibleSteps[2] },\r\n            })\r\n            .finally(() => {\r\n                postButtonText.value = \"Сохранить и продолжить\";\r\n            });\r\n    }, 1000);\r\n};\r\n//после наж кнопки сохранить\r\nconst {\r\n    isLoading: isPostLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: AmoModel.postSettingsAllocation,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_scale_transition = _resolveComponent(\"v-scale-transition\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _hoisted_4,\n    _createElementVNode(\"div\", _hoisted_5, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(cards.value, (card) => {\n        return (_openBlock(), _createBlock(statusCard, {\n          ref_for: true,\n          ref_key: \"cardRefs\",\n          ref: cardRefs,\n          \"allocation-id\": card.id,\n          title: card.title,\n          hint: card.hint,\n          \"is-loading\": _unref(isLoading),\n          \"item-list\": card.itemList,\n          \"header-classes\": card.headerClasses,\n          key: card.id\n        }, null, 8, [\"allocation-id\", \"title\", \"hint\", \"is-loading\", \"item-list\", \"header-classes\"]))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(_component_v_btn, {\n        size: \"default\",\n        color: \"primary\",\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (saveAndContinue())),\n        loading: _unref(isPostLoading)\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(postButtonText.value) + \" \", 1),\n          _createVNode(_component_v_tooltip, {\n            activator: \"parent\",\n            text: \"Сохранить распределение статусов и продолжить настройку\"\n          })\n        ]),\n        _: 1\n      }, 8, [\"loading\"])\n    ]),\n    _createVNode(_component_v_scale_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString(_unref(error)), 1))\n          : _createCommentVNode(\"\", true),\n        (_unref(postIsError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString(_unref(postError)), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-statuses\">\r\n        <h3 class=\"amo-card__header\">\r\n            Загрузка заявок из CRM: распределение статусов\r\n        </h3>\r\n        <p class=\"amo-card__paragraph\">\r\n            Распределите статусы ваших заявок по трем группам статусов, которые\r\n            затем будут учитываться в аналитике как сделки в работе, оплаченные\r\n            или отмененные сделки. Статусы, которые не нужно учитывать в\r\n            аналитике оставьте в группе \"не учитываются\".\r\n        </p>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            После распределения статусов заказы из CRM будут загружены в ваш\r\n            проект в течение часа.\r\n        </p>\r\n\r\n        <div class=\"amo-statuses__container mt-3\">\r\n            <status-card\r\n                v-for=\"card in cards\"\r\n                ref=\"cardRefs\"\r\n                :allocation-id=\"card.id\"\r\n                :title=\"card.title\"\r\n                :hint=\"card.hint\"\r\n                :is-loading=\"isLoading\"\r\n                :item-list=\"card.itemList\"\r\n                :header-classes=\"card.headerClasses\"\r\n                :key=\"card.id\"\r\n            />\r\n        </div>\r\n        <div class=\"amo-statuses__action mt-4\">\r\n            <v-btn\r\n                size=\"default\"\r\n                color=\"primary\"\r\n                @click=\"saveAndContinue()\"\r\n                :loading=\"isPostLoading\"\r\n            >\r\n                {{ postButtonText }}\r\n                <v-tooltip\r\n                    activator=\"parent\"\r\n                    text=\"Сохранить распределение статусов и продолжить настройку\"\r\n                />\r\n            </v-btn>\r\n        </div>\r\n\r\n        <v-scale-transition>\r\n            <span v-if=\"isError\" class=\"text-error\">{{ error }}</span>\r\n            <span v-if=\"postIsError\" class=\"text-error\">{{ postError }}</span>\r\n        </v-scale-transition>\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, ref, toRef, watch } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport statusCard from \"./_status_card.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport {\r\n    AmoModel,\r\n    AmoPipelineItems,\r\n    AmoPipelineStatus,\r\n    AmoPipelineStatusItems,\r\n    AmoPostSettingAllocation,\r\n} from \"@/entities/amo\";\r\nimport { CARDS_TYPE, cardsToAllocationStatus } from \"./types\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\nimport { ApiAmo } from \"@/shared/api/modules\";\r\n\r\ntype Card = {\r\n    id: CARDS_TYPE;\r\n    title: string;\r\n    hint: string;\r\n    headerClasses: string;\r\n    itemList: Array<AmoPipelineStatusItems>;\r\n};\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst props = defineProps<Props>();\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\n//getStatuses\r\nconst {\r\n    data: statuses,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: AmoModel.getAllStatusByPipeline,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\n// useAmoState(\r\n//     toRef(() => props.isOpen),\r\n//     () => {\r\n//         executeRequest(Number(integrationId.value), Number(statId.value));\r\n//     }\r\n// );\r\n\r\nwatch(statuses, (newVal) => {\r\n    //TODO добавить проверку на то, установлены ли уже статусы и если да, то вывдить данные с другого Api\r\n    if (newVal === undefined) return;\r\n\r\n    const undefiCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.UNDEFINED\r\n    );\r\n\r\n    const inProgCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.IN_PROGRESS\r\n    );\r\n    const paidCard = cards.value.find((card) => card.id === CARDS_TYPE.PAID);\r\n    const canseledCard = cards.value.find(\r\n        (card) => card.id === CARDS_TYPE.CANSELED\r\n    );\r\n    if (undefiCard && inProgCard && paidCard && canseledCard) {\r\n        undefiCard.itemList = newVal;\r\n        inProgCard.itemList = [];\r\n        paidCard.itemList = [];\r\n        canseledCard.itemList = [];\r\n    }\r\n});\r\n\r\n//cards\r\nconst cardRefs = ref<Array<typeof statusCard>>([]);\r\nconst cards = ref<Card[]>([\r\n    {\r\n        id: CARDS_TYPE.UNDEFINED,\r\n        title: \"Не учитываются\",\r\n        hint: \"Сделки, которые не будут учитываться Roistat. Например, мусорные сделки или дубли\",\r\n        headerClasses: \"bg-background\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.IN_PROGRESS,\r\n        title: \"В работе\",\r\n        hint: \"Сделки в процессе. Например, сделки в процессе переговоров или отгрузки товара\",\r\n        headerClasses: \"bg-primary\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.PAID,\r\n        hint: \"Сделки, по которым совершена оплата или точно будет совершена оплата\",\r\n        title: \"Оплаченные\",\r\n        headerClasses: \"bg-success\",\r\n        itemList: [],\r\n    },\r\n    {\r\n        id: CARDS_TYPE.CANSELED,\r\n        title: \"Отмененные\",\r\n        hint: \"Отмененные сделки. Например, отказ или возврат товара\",\r\n        headerClasses: \"bg-error\",\r\n        itemList: [],\r\n    },\r\n]);\r\n\r\n//post\r\nconst postButtonText = ref(\"Сохранить и продолжить\");\r\n\r\nconst saveAndContinue = () => {\r\n    isPostLoading.value = true;\r\n    let settingsAllocation: Array<AmoPostSettingAllocation> = [];\r\n\r\n    cardRefs.value.forEach((cardComponent) => {\r\n        const cardId = cardComponent.allocationId as CARDS_TYPE;\r\n        if (cardId === CARDS_TYPE.UNDEFINED) return;\r\n        const statuses: Array<AmoPostSettingAllocation> = (\r\n            cardComponent.getStatusList().value as Array<AmoPipelineStatusItems>\r\n        ).map((status) => {\r\n            return {\r\n                status_id: status.id,\r\n                status_allocation: cardsToAllocationStatus[cardId],\r\n                pipeline_id: status.pipeline_id,\r\n            };\r\n        });\r\n        settingsAllocation = settingsAllocation.concat(statuses);\r\n    });\r\n    // executePost(Number(statId.value),Number(integrationId.value,settingsAllocation),\r\n    executePost(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        settingsAllocation\r\n    );\r\n};\r\n\r\nconst onPostSuccess = (data: boolean) => {\r\n    postButtonText.value = \"Сохранено\";\r\n    setTimeout(() => {\r\n        router\r\n            .push({\r\n                ...route,\r\n                query: { step: possibleSteps[2] },\r\n            })\r\n            .finally(() => {\r\n                postButtonText.value = \"Сохранить и продолжить\";\r\n            });\r\n    }, 1000);\r\n};\r\n//после наж кнопки сохранить\r\nconst {\r\n    isLoading: isPostLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: AmoModel.postSettingsAllocation,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.amo-statuses__container {\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    gap: 20px 40px;\r\n}\r\n@media (max-width: 1200px) {\r\n    .amo-statuses__container {\r\n        grid-template-columns: repeat(2, 1fr);\r\n    }\r\n}\r\n@media (max-width: 600px) {\r\n    .amo-statuses__container {\r\n        grid-template-columns: repeat(1, 1fr);\r\n    }\r\n}\r\n.amo-statuses__container__card {\r\n    border: 1px red solid;\r\n    width: 100%;\r\n}\r\n.amo-statuses-card__header {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\nbody {\r\n    -webkit-user-select: none; /* Safari */\r\n    -moz-user-select: none; /* Firefox */\r\n    -ms-user-select: none; /* IE10+/Edge */\r\n    user-select: none; /* Standard syntax */\r\n}\r\n</style>\r\n","import script from \"./step-statuses.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-statuses.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-statuses.vue?vue&type=style&index=0&id=677200ed&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-677200ed\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"amo-proxy-lead\" }\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<h3 class=\\\"amo-card__header\\\"> Инструкция по включению отправки заявок </h3><p class=\\\"amo-card__paragraph mt-2\\\"> Распределив статусы вашей воронки по группам, вы уже будете видеть заявки в системе аналитики. </p><p class=\\\"amo-card__paragraph mt-2\\\"> Для отслеживания источников заявок, необходимо настроить передачу в CRM дополнительного поля. Подробнее можете прочесть в документации. </p><p class=\\\"amo-card__paragraph mt-2\\\"> Вы можете подключить формы вашего сайта к Roistat через интерфейс, тогда заявки из этих форм будут автоматически попадать в CRM. </p><p class=\\\"amo-card__paragraph mt-2\\\"> Также передачу заявок в CRM можно настроить, добавив код на ваш сайт. Описание с примерами кода находится в нашей документации. </p>\", 5)\nconst _hoisted_7 = { class: \"amo-card__paragraph mt-2\" }\n\nimport { toRef } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport { RouterLink } from \"vue-router\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-proxy-lead',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\nconst route = useRoute();\r\nuseAmoState(toRef(() => props.isOpen));\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"p\", _hoisted_7, [\n      _createTextVNode(\" Если вы используете конструкторы сайтов, форм, сервисы обратного звонка, коллтрекинга для получения заявок, то можете настроить их в \"),\n      _createVNode(_unref(RouterLink), {\n        to: {\r\n                    name: _unref(ROUTE_NAMES).Settings_Integrations,\r\n                }\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" каталоге интеграций.\")\n        ]),\n        _: 1\n      }, 8, [\"to\"])\n    ]),\n    _createVNode(_component_v_btn, {\n      to: { ..._unref(route), query: { step: _unref(possibleSteps)[3] } },\n      text: \"Продолжить\",\n      size: \"default\",\n      color: \"primary\",\n      class: \"mt-5\"\n    }, null, 8, [\"to\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-proxy-lead\">\r\n        <h3 class=\"amo-card__header\">\r\n            Инструкция по включению отправки заявок\r\n        </h3>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            Распределив статусы вашей воронки по группам, вы уже будете видеть\r\n            заявки в системе аналитики.\r\n        </p>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            Для отслеживания источников заявок, необходимо настроить передачу в\r\n            CRM дополнительного поля. Подробнее можете прочесть в документации.\r\n        </p>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            Вы можете подключить формы вашего сайта к Roistat через интерфейс,\r\n            тогда заявки из этих форм будут автоматически попадать в CRM.\r\n        </p>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            Также передачу заявок в CRM можно настроить, добавив код на ваш\r\n            сайт. Описание с примерами кода находится в нашей документации.\r\n        </p>\r\n        <p class=\"amo-card__paragraph mt-2\">\r\n            Если вы используете конструкторы сайтов, форм, сервисы обратного\r\n            звонка, коллтрекинга для получения заявок, то можете настроить их в\r\n            <router-link\r\n                :to=\"{\r\n                    name: ROUTE_NAMES.Settings_Integrations,\r\n                }\"\r\n            >\r\n                каталоге интеграций.</router-link\r\n            >\r\n        </p>\r\n\r\n        <v-btn\r\n            :to=\"{ ...route, query: { step: possibleSteps[3] } }\"\r\n            text=\"Продолжить\"\r\n            size=\"default\"\r\n            color=\"primary\"\r\n            class=\"mt-5\"\r\n        />\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { toRef, defineProps } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport { RouterLink } from \"vue-router\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\n\r\nconst props = defineProps<Props>();\r\nconst route = useRoute();\r\nuseAmoState(toRef(() => props.isOpen));\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./step-proxy-lead.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-proxy-lead.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, mergeProps as _mergeProps, toDisplayString as _toDisplayString, withCtx as _withCtx, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"amo-settings\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \" Загрузка заявок из CRM: расширенные настройки \", -1)\nconst _hoisted_3 = { class: \"amo-card__paragraph\" }\nconst _hoisted_4 = { class: \"amo-card__paragraph\" }\nconst _hoisted_5 = { class: \"amo-card__paragraph\" }\nconst _hoisted_6 = { class: \"amo-card__paragraph\" }\nconst _hoisted_7 = { class: \"amo-card__paragraph\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_9 = {\n  key: 1,\n  class: \"text-error\"\n}\n\nimport { toRef } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { ref } from \"vue\";\r\nimport { informationIcon } from \"@/shared/libs/information-icon\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoPostSetting } from \"@/entities/amo\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\nimport { formFieldsOptions } from \"./types\";\r\nimport { computed } from \"vue\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-settings',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst {\r\n    data: fields,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllFields,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    executeRequest\r\n);\r\n//TODO перенести в библу для валидаций\r\nconst maxLengthRule = (value: string) => {\r\n    if (value.length > 30) return \"Длина поля не должна превышать 30 символов\";\r\n    return true;\r\n};\r\n\r\nconst form = ref();\r\n\r\nconst filter = ref<null | number>(null);\r\nconst filterValue = ref<string>(\"\");\r\nconst revenue = ref<null | number>(null);\r\nconst cost = ref<null | number>(null);\r\nconst profit = ref<null | number>(null);\r\n\r\nconst submit = async () => {\r\n    try {\r\n        if (!form.value) return;\r\n        if (!(await form.value.validate()).valid) return;\r\n        executePost(\r\n            Number(statId.value),\r\n            Number(integrationId.value),\r\n            collectSetting()\r\n        );\r\n    } catch (error: any) {\r\n        postError.value = \"При сохранении возникла ошибка\";\r\n        postIsError.value = true;\r\n    }\r\n};\r\n\r\nconst postBtnText = ref(\"Сохранить и продолжить\");\r\n\r\nconst onPostSuccess = (data: boolean) => {\r\n    postBtnText.value = \"Сохранено\";\r\n    setTimeout(async () => {\r\n        await router.push({ ...route, query: { step: possibleSteps[4] } });\r\n        postBtnText.value = \"Сохранить и продолжить\";\r\n    }, 1000);\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: AmoModel.postSetting,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n\r\nconst collectSetting = (): AmoPostSetting => {\r\n    return {\r\n        responsible_user_id: null,\r\n        pipeline_id: null,\r\n        profit: profit.value,\r\n        cost: cost.value,\r\n        revenue: revenue.value,\r\n        filter: filter.value,\r\n        send_leads_to_unsorted: null,\r\n        filtering_value: filterValue.value === \"\" ? null : filterValue.value, //regex\r\n        form_id: null,\r\n        form_name: null,\r\n    };\r\n};\r\n\r\nconst refresh = () => {\r\n    executeRequest(Number(integrationId.value), Number(statId.value));\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_fade_transition = _resolveComponent(\"v-fade-transition\")!\n  const _component_v_scale_transition = _resolveComponent(\"v-scale-transition\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_component_v_fade_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isLoading))\n          ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n              key: 0,\n              indeterminate: \"\",\n              color: \"secondary\"\n            }))\n          : (_openBlock(), _createBlock(_component_v_form, {\n              key: 1,\n              ref_key: \"form\",\n              ref: form,\n              class: \"amo-settings__form mt-2 mb-2\",\n              onSubmit: _withModifiers(submit, [\"prevent\"])\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"label\", _hoisted_3, [\n                  _createTextVNode(\" Поле для фильтрации \"),\n                  _createVNode(_unref(informationIcon), { information: \"Если вы ведете несколько бизнесов в одной CRM, вы можете выделить каждый из бизнесов через поле фильтрации.\" })\n                ]),\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  modelValue: filter.value,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((filter).value = $event)),\n                  autofocus: \"\",\n                  items: _unref(fields)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _createElementVNode(\"label\", _hoisted_4, [\n                  _createTextVNode(\" Значение фильтрации \"),\n                  _createVNode(_unref(informationIcon), { information: \"Если выбрано поле для фильтрации но не введено значение, то будут загружены только те сделки у которых поле пустое . Вы можете использовать Регулярные Выражения для этого фильтра.\" })\n                ]),\n                _createVNode(_component_v_text_field, _mergeProps({\n                  modelValue: filterValue.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((filterValue).value = $event)),\n                  counter: 30,\n                  rules: [maxLengthRule]\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"rules\"]),\n                _createElementVNode(\"label\", _hoisted_5, [\n                  _createTextVNode(\" Поле с выручкой \"),\n                  _createVNode(_unref(informationIcon), { information: \"Выберите дополнительное поле сделки, из которого будет загружаться выручка. Если поле не выбрано, то выручка будет загружаться из стандартного поля в CRM.\" })\n                ]),\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  modelValue: revenue.value,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((revenue).value = $event)),\n                  items: _unref(fields)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _createElementVNode(\"label\", _hoisted_6, [\n                  _createTextVNode(\" Поле себестоимости \"),\n                  _createVNode(_unref(informationIcon), { information: \"Выберите дополнительное поле сделки, из которого будет загружаться себестоимость. Прибыль будет подсчитана автоматически.\" })\n                ]),\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  modelValue: cost.value,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((cost).value = $event)),\n                  items: _unref(fields)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _createElementVNode(\"label\", _hoisted_7, [\n                  _createTextVNode(\" Поле с прибылью \"),\n                  _createVNode(_unref(informationIcon), { information: \"Выберите дополнительное поле сделки, из которого будет загружаться прибыль. Значение будет использоваться для автоматического подсчета себестоимости.\" })\n                ]),\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  modelValue: profit.value,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((profit).value = $event)),\n                  items: _unref(fields)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _createVNode(_component_v_btn, {\n                  type: \"submit\",\n                  size: \"default\",\n                  variant: \"flat\",\n                  color: \"primary\",\n                  class: \"mt-2\",\n                  loading: _unref(postIsLoading)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(postBtnText.value), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"loading\"]),\n                _createVNode(_component_v_btn, {\n                  size: \"small\",\n                  variant: \"flat\",\n                  color: \"primary\",\n                  class: \"mt-2 ml-2\",\n                  icon: \"mdi-refresh\",\n                  onClick: refresh\n                })\n              ]),\n              _: 1\n            }, 512))\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_scale_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString(_unref(error)), 1))\n          : _createCommentVNode(\"\", true),\n        (_unref(postIsError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString(_unref(postError)), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-settings\">\r\n        <h3 class=\"amo-card__header\">\r\n            Загрузка заявок из CRM: расширенные настройки\r\n        </h3>\r\n        <v-fade-transition>\r\n            <v-progress-linear\r\n                v-if=\"isLoading\"\r\n                indeterminate\r\n                color=\"secondary\"\r\n            />\r\n            <v-form\r\n                v-else\r\n                ref=\"form\"\r\n                class=\"amo-settings__form mt-2 mb-2\"\r\n                @submit.prevent=\"submit\"\r\n            >\r\n                <!-- filter -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Поле для фильтрации\r\n                    <information-icon\r\n                        information=\"Если вы ведете несколько бизнесов в одной CRM, вы можете выделить каждый из бизнесов через поле фильтрации.\"\r\n                    />\r\n                </label>\r\n                <v-autocomplete\r\n                    v-model=\"filter\"\r\n                    autofocus\r\n                    :items=\"fields\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <!-- filte value -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Значение фильтрации\r\n                    <information-icon\r\n                        information=\"Если выбрано поле для фильтрации но не введено значение, то будут загружены только те сделки у которых поле пустое . Вы можете использовать Регулярные Выражения для этого фильтра.\"\r\n                    />\r\n                </label>\r\n                <v-text-field\r\n                    v-model=\"filterValue\"\r\n                    :counter=\"30\"\r\n                    :rules=\"[maxLengthRule]\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <!-- revenue -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Поле с выручкой\r\n                    <information-icon\r\n                        information=\"Выберите дополнительное поле сделки, из которого будет загружаться выручка. Если поле не выбрано, то выручка будет загружаться из стандартного поля в CRM.\"\r\n                    />\r\n                </label>\r\n                <v-autocomplete\r\n                    v-model=\"revenue\"\r\n                    :items=\"fields\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <!-- cost -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Поле себестоимости\r\n                    <information-icon\r\n                        information=\"Выберите дополнительное поле сделки, из которого будет загружаться себестоимость. Прибыль будет подсчитана автоматически.\"\r\n                    />\r\n                </label>\r\n                <v-autocomplete\r\n                    v-model=\"cost\"\r\n                    :items=\"fields\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <!-- profit -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Поле с прибылью\r\n                    <information-icon\r\n                        information=\"Выберите дополнительное поле сделки, из которого будет загружаться прибыль. Значение будет использоваться для автоматического подсчета себестоимости.\"\r\n                    />\r\n                </label>\r\n                <v-autocomplete\r\n                    v-model=\"profit\"\r\n                    :items=\"fields\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <v-btn\r\n                    type=\"submit\"\r\n                    size=\"default\"\r\n                    variant=\"flat\"\r\n                    color=\"primary\"\r\n                    class=\"mt-2\"\r\n                    :loading=\"postIsLoading\"\r\n                >\r\n                    {{ postBtnText }}\r\n                </v-btn>\r\n                <v-btn\r\n                    size=\"small\"\r\n                    variant=\"flat\"\r\n                    color=\"primary\"\r\n                    class=\"mt-2 ml-2\"\r\n                    icon=\"mdi-refresh\"\r\n                    @click=\"refresh\"\r\n                >\r\n                </v-btn>\r\n            </v-form>\r\n        </v-fade-transition>\r\n        <v-scale-transition>\r\n            <span v-if=\"isError\" class=\"text-error\">{{ error }}</span>\r\n            <span v-if=\"postIsError\" class=\"text-error\">{{ postError }}</span>\r\n        </v-scale-transition>\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, toRef } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport { ref } from \"vue\";\r\nimport { informationIcon } from \"@/shared/libs/information-icon\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoPostSetting } from \"@/entities/amo\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { possibleSteps } from \".\";\r\nimport { formFieldsOptions } from \"./types\";\r\nimport { computed } from \"vue\";\r\nconst props = defineProps<Props>();\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst {\r\n    data: fields,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllFields,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    executeRequest\r\n);\r\n//TODO перенести в библу для валидаций\r\nconst maxLengthRule = (value: string) => {\r\n    if (value.length > 30) return \"Длина поля не должна превышать 30 символов\";\r\n    return true;\r\n};\r\n\r\nconst form = ref();\r\n\r\nconst filter = ref<null | number>(null);\r\nconst filterValue = ref<string>(\"\");\r\nconst revenue = ref<null | number>(null);\r\nconst cost = ref<null | number>(null);\r\nconst profit = ref<null | number>(null);\r\n\r\nconst submit = async () => {\r\n    try {\r\n        if (!form.value) return;\r\n        if (!(await form.value.validate()).valid) return;\r\n        executePost(\r\n            Number(statId.value),\r\n            Number(integrationId.value),\r\n            collectSetting()\r\n        );\r\n    } catch (error: any) {\r\n        postError.value = \"При сохранении возникла ошибка\";\r\n        postIsError.value = true;\r\n    }\r\n};\r\n\r\nconst postBtnText = ref(\"Сохранить и продолжить\");\r\n\r\nconst onPostSuccess = (data: boolean) => {\r\n    postBtnText.value = \"Сохранено\";\r\n    setTimeout(async () => {\r\n        await router.push({ ...route, query: { step: possibleSteps[4] } });\r\n        postBtnText.value = \"Сохранить и продолжить\";\r\n    }, 1000);\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: AmoModel.postSetting,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n\r\nconst collectSetting = (): AmoPostSetting => {\r\n    return {\r\n        responsible_user_id: null,\r\n        pipeline_id: null,\r\n        profit: profit.value,\r\n        cost: cost.value,\r\n        revenue: revenue.value,\r\n        filter: filter.value,\r\n        send_leads_to_unsorted: null,\r\n        filtering_value: filterValue.value === \"\" ? null : filterValue.value, //regex\r\n        form_id: null,\r\n        form_name: null,\r\n    };\r\n};\r\n\r\nconst refresh = () => {\r\n    executeRequest(Number(integrationId.value), Number(statId.value));\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./step-settings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-settings.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export enum DB_BOOLEAN {\r\n    TRUE = 1,\r\n    FALSE = 0,\r\n}\r\n","// Styles\nimport './VSwitch.sass'\n\n// Components\nimport { VScaleTransition } from '@/components/transitions'\nimport { VIcon } from '@/components/VIcon'\nimport { makeVInputProps, VInput } from '@/components/VInput/VInput'\nimport { VProgressCircular } from '@/components/VProgressCircular'\nimport { makeVSelectionControlProps, VSelectionControl } from '@/components/VSelectionControl/VSelectionControl'\n\n// Composables\nimport { useFocus } from '@/composables/focus'\nimport { LoaderSlot, useLoader } from '@/composables/loader'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, ref } from 'vue'\nimport { filterInputAttrs, genericComponent, getUid, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VInputSlots } from '@/components/VInput/VInput'\nimport type { VSelectionControlSlots } from '@/components/VSelectionControl/VSelectionControl'\nimport type { LoaderSlotProps } from '@/composables/loader'\nimport type { GenericProps } from '@/util'\n\nexport type VSwitchSlots =\n  & VInputSlots\n  & VSelectionControlSlots\n  & { loader: LoaderSlotProps }\n\nexport const makeVSwitchProps = propsFactory({\n  indeterminate: Boolean,\n  inset: Boolean,\n  flat: Boolean,\n  loading: {\n    type: [Boolean, String],\n    default: false,\n  },\n\n  ...makeVInputProps(),\n  ...makeVSelectionControlProps(),\n}, 'VSwitch')\n\nexport const VSwitch = genericComponent<new <T>(\n  props: {\n    modelValue?: T | null\n    'onUpdate:modelValue'?: (value: T | null) => void\n  },\n  slots: VSwitchSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VSwitch',\n\n  inheritAttrs: false,\n\n  props: makeVSwitchProps(),\n\n  emits: {\n    'update:focused': (focused: boolean) => true,\n    'update:modelValue': (value: any) => true,\n    'update:indeterminate': (value: boolean) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const indeterminate = useProxiedModel(props, 'indeterminate')\n    const model = useProxiedModel(props, 'modelValue')\n    const { loaderClasses } = useLoader(props)\n    const { isFocused, focus, blur } = useFocus(props)\n    const control = ref<VSelectionControl>()\n\n    const loaderColor = computed(() => {\n      return typeof props.loading === 'string' && props.loading !== ''\n        ? props.loading\n        : props.color\n    })\n\n    const uid = getUid()\n    const id = computed(() => props.id || `switch-${uid}`)\n\n    function onChange () {\n      if (indeterminate.value) {\n        indeterminate.value = false\n      }\n    }\n    function onTrackClick (e: Event) {\n      e.stopPropagation()\n      e.preventDefault()\n      control.value?.input?.click()\n    }\n\n    useRender(() => {\n      const [rootAttrs, controlAttrs] = filterInputAttrs(attrs)\n      const inputProps = VInput.filterProps(props)\n      const controlProps = VSelectionControl.filterProps(props)\n\n      return (\n        <VInput\n          class={[\n            'v-switch',\n            { 'v-switch--inset': props.inset },\n            { 'v-switch--indeterminate': indeterminate.value },\n            loaderClasses.value,\n            props.class,\n          ]}\n          { ...rootAttrs }\n          { ...inputProps }\n          v-model={ model.value }\n          id={ id.value }\n          focused={ isFocused.value }\n          style={ props.style }\n        >\n          {{\n            ...slots,\n            default: ({\n              id,\n              messagesId,\n              isDisabled,\n              isReadonly,\n              isValid,\n            }) => (\n              <VSelectionControl\n                ref={ control }\n                { ...controlProps }\n                v-model={ model.value }\n                id={ id.value }\n                aria-describedby={ messagesId.value }\n                type=\"checkbox\"\n                onUpdate:modelValue={ onChange }\n                aria-checked={ indeterminate.value ? 'mixed' : undefined }\n                disabled={ isDisabled.value }\n                readonly={ isReadonly.value }\n                onFocus={ focus }\n                onBlur={ blur }\n                { ...controlAttrs }\n              >\n                {{\n                  ...slots,\n                  default: ({ backgroundColorClasses, backgroundColorStyles }) => (\n                    <div\n                      class={[\n                        'v-switch__track',\n                        ...backgroundColorClasses.value,\n                      ]}\n                      style={ backgroundColorStyles.value }\n                      onClick={ onTrackClick }\n                    ></div>\n                  ),\n                  input: ({ inputNode, icon, backgroundColorClasses, backgroundColorStyles }) => (\n                    <>\n                      { inputNode }\n                      <div\n                        class={[\n                          'v-switch__thumb',\n                          { 'v-switch__thumb--filled': icon || props.loading },\n                          props.inset ? undefined : backgroundColorClasses.value,\n                        ]}\n                        style={ props.inset ? undefined : backgroundColorStyles.value }\n                      >\n                        <VScaleTransition>\n                          { !props.loading ? (\n                            icon && <VIcon key={ icon as any } icon={ icon } size=\"x-small\" />\n                          ) : (\n                            <LoaderSlot\n                              name=\"v-switch\"\n                              active\n                              color={ isValid.value === false ? undefined : loaderColor.value }\n                            >\n                              { slotProps => (\n                                slots.loader\n                                  ? slots.loader(slotProps)\n                                  : (\n                                    <VProgressCircular\n                                      active={ slotProps.isActive }\n                                      color={ slotProps.color }\n                                      indeterminate\n                                      size=\"16\"\n                                      width=\"2\"\n                                    />\n                                  )\n                              )}\n                            </LoaderSlot>\n                          )}\n                        </VScaleTransition>\n                      </div>\n                    </>\n                  ),\n                }}\n              </VSelectionControl>\n            ),\n          }}\n        </VInput>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VSwitch = InstanceType<typeof VSwitch>\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, mergeProps as _mergeProps, toDisplayString as _toDisplayString, withCtx as _withCtx, withModifiers as _withModifiers, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f9a4d46\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \" Отправка заявок в CRM-систему: базовые настройки \", -1))\nconst _hoisted_3 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_4 = { for: \"amo-send-lead-setting\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"amo-card__paragraph\" }, \" Идентификатор формы \", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"amo-card__paragraph\" }, \" Наименование формы \", -1))\nconst _hoisted_7 = { class: \"amo-card__paragraph\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"amo-card__paragraph\" }, \" Ответственные за заявки \", -1))\nconst _hoisted_9 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"text-error\"\n}\nconst _hoisted_11 = {\n  key: 2,\n  class: \"text-error\"\n}\n\nimport { ref, toRef } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoPostSetting } from \"@/entities/amo\";\r\nimport { computed } from \"vue\";\r\nimport { formFieldsOptions } from \"./types\";\r\nimport { DB_BOOLEAN } from \"@/shared/types\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { storeToRefs } from \"pinia\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-basic-settings',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst router = useRouter();\r\nconst props = __props;\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst {\r\n    data: users,\r\n    isLoading: usersIsLoading,\r\n    isError: usersIsError,\r\n    error: usersError,\r\n    executeRequest: usersExecuteRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllUsers,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\nconst {\r\n    data: pipelines,\r\n    isLoading: pipelinesIsLoading,\r\n    isError: pipelinesIsError,\r\n    error: pipelinesError,\r\n    executeRequest: pipelineExecuteRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllPipeline,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\nconst isLoading = computed<boolean>(() => {\r\n    return usersIsLoading.value || pipelinesIsLoading.value;\r\n});\r\n\r\nconst collectSetting = (): AmoPostSetting => {\r\n    return {\r\n        responsible_user_id: responsibleUserId.value,\r\n        pipeline_id: pipelineId.value,\r\n        profit: null,\r\n        cost: null,\r\n        revenue: null,\r\n        filter: null,\r\n        send_leads_to_unsorted: sendLeadsToUnsorted.value\r\n            ? DB_BOOLEAN.TRUE\r\n            : DB_BOOLEAN.FALSE,\r\n        filtering_value: null,\r\n        form_id: formId.value === \"\" ? null : formId.value,\r\n        form_name: formName.value === \"\" ? null : formName.value,\r\n    };\r\n};\r\n\r\nconst initialState = () => {\r\n    usersExecuteRequest(Number(integrationId.value), Number(statId.value));\r\n    pipelineExecuteRequest(Number(integrationId.value), Number(statId.value));\r\n};\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    initialState\r\n);\r\n\r\nconst pipelineId = ref<number | null>(null);\r\nconst responsibleUserId = ref<number | null>(null);\r\nconst sendLeadsToUnsorted = ref<boolean>(false);\r\n\r\n//TODO разобраться с формами\r\nconst formId = ref<string>(\"\");\r\nconst formName = ref<string>(\"\");\r\n\r\n//post\r\nconst form = ref();\r\nconst postBtnText = ref(\"Сохранить и завершить настройку\");\r\nconst onPostSucces = (data: boolean) => {\r\n    postBtnText.value = \"Сохранено\";\r\n    setTimeout(() => {\r\n        postBtnText.value = \"Сохранить и завершить настройку\";\r\n        router.push({\r\n            name: ROUTE_NAMES.Settings_Integrations,\r\n        });\r\n    }, 1000);\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: postRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.postSetting,\r\n    immediate: false,\r\n    onSuccess: onPostSucces,\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    if (!form.value) return;\r\n    if (!(await form.value.validate()).valid) return;\r\n    postRequest(\r\n        Number(statId.value),\r\n        Number(integrationId.value),\r\n        collectSetting()\r\n    );\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_fade_transition = _resolveComponent(\"v-fade-transition\")!\n  const _component_v_scale_transition = _resolveComponent(\"v-scale-transition\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_component_v_fade_transition, null, {\n      default: _withCtx(() => [\n        (isLoading.value)\n          ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n              key: 0,\n              indeterminate: \"\",\n              color: \"secondary\"\n            }))\n          : (_openBlock(), _createBlock(_component_v_form, {\n              key: 1,\n              class: \"amo-basic-settings__body\",\n              ref_key: \"form\",\n              ref: form,\n              onSubmit: _withModifiers(onSaveClick, [\"prevent\"])\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createVNode(_component_v_switch, {\n                    id: \"amo-send-lead-setting\",\n                    color: \"primary\",\n                    class: \"amo-basic-settings__body__switch-container__switch\",\n                    modelValue: sendLeadsToUnsorted.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sendLeadsToUnsorted).value = $event))\n                  }, null, 8, [\"modelValue\"]),\n                  _createElementVNode(\"label\", _hoisted_4, [\n                    _createTextVNode(\" Отправлять лиды в «Неразобранное» \"),\n                    _createVNode(informationIcon, { information: \"В связи с ограничениями со стороны AmoCRM, при отправке заявок в «неразобранное» настраиваемая проверка на дубли не применяется для заявок находящихся в этом статусе. Заявки находящиеся в статусе «неразобранное» не загружаются в Roistat. Чтобы заявки загрузились в проект переведите их в другой статус.\" })\n                  ])\n                ]),\n                _hoisted_5,\n                _createVNode(_component_v_text_field, _mergeProps({\n                  modelValue: formId.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((formId).value = $event))\n                }, _unref(formFieldsOptions), { disabled: \"\" }), null, 16, [\"modelValue\"]),\n                _hoisted_6,\n                _createVNode(_component_v_text_field, _mergeProps({\n                  modelValue: formName.value,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((formName).value = $event))\n                }, _unref(formFieldsOptions), { disabled: \"\" }), null, 16, [\"modelValue\"]),\n                _createElementVNode(\"label\", _hoisted_7, [\n                  _createTextVNode(\" Идентификатор воронки \"),\n                  _createVNode(informationIcon, { information: \"Если параметр не передан, заявка будет добавлена в неразобранное основной воронки.\" })\n                ]),\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  autofocus: \"\",\n                  modelValue: pipelineId.value,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((pipelineId).value = $event)),\n                  items: _unref(pipelines)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _hoisted_8,\n                _createVNode(_component_v_autocomplete, _mergeProps({\n                  modelValue: responsibleUserId.value,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((responsibleUserId).value = $event)),\n                  items: _unref(users)\n                }, _unref(formFieldsOptions)), null, 16, [\"modelValue\", \"items\"]),\n                _createVNode(_component_v_btn, {\n                  type: \"submit\",\n                  size: \"default\",\n                  variant: \"flat\",\n                  color: \"primary\",\n                  class: \"mt-2\",\n                  loading: _unref(postIsLoading)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(postBtnText.value), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"loading\"])\n              ]),\n              _: 1\n            }, 512))\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_scale_transition, null, {\n      default: _withCtx(() => [\n        (_unref(usersIsError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString(_unref(usersError)), 1))\n          : _createCommentVNode(\"\", true),\n        (_unref(pipelinesIsError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(_unref(pipelinesError)), 1))\n          : _createCommentVNode(\"\", true),\n        (_unref(postIsError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _toDisplayString(_unref(postError)), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">\r\n            Отправка заявок в CRM-систему: базовые настройки\r\n        </h3>\r\n        <v-fade-transition>\r\n            <v-progress-linear\r\n                v-if=\"isLoading\"\r\n                indeterminate\r\n                color=\"secondary\"\r\n            />\r\n            <v-form\r\n                v-else\r\n                class=\"amo-basic-settings__body\"\r\n                ref=\"form\"\r\n                @submit.prevent=\"onSaveClick\"\r\n            >\r\n                <div class=\"amo-basic-settings__body__switch-container\">\r\n                    <v-switch\r\n                        id=\"amo-send-lead-setting\"\r\n                        color=\"primary\"\r\n                        class=\"amo-basic-settings__body__switch-container__switch\"\r\n                        v-model=\"sendLeadsToUnsorted\"\r\n                    />\r\n                    <label for=\"amo-send-lead-setting\">\r\n                        Отправлять лиды в «Неразобранное»\r\n                        <information-icon\r\n                            information=\"В связи с ограничениями со стороны AmoCRM, при отправке заявок в «неразобранное» настраиваемая проверка на дубли не применяется для заявок находящихся в этом статусе. Заявки находящиеся в статусе «неразобранное» не загружаются в Roistat. Чтобы заявки загрузились в проект переведите их в другой статус.\"\r\n                        />\r\n                    </label>\r\n                </div>\r\n                <!-- formId -->\r\n                <label class=\"amo-card__paragraph\"> Идентификатор формы </label>\r\n                <v-text-field\r\n                    v-model=\"formId\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                    disabled\r\n                />\r\n                <!-- formName -->\r\n                <label class=\"amo-card__paragraph\"> Наименование формы </label>\r\n                <v-text-field\r\n                    v-model=\"formName\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                    disabled\r\n                />\r\n                <!-- pipeline -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Идентификатор воронки\r\n                    <information-icon\r\n                        information=\"Если параметр не передан, заявка будет добавлена в неразобранное основной воронки.\"\r\n                    />\r\n                </label>\r\n                <v-autocomplete\r\n                    autofocus\r\n                    v-model=\"pipelineId\"\r\n                    :items=\"pipelines\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <!-- responsible user -->\r\n                <label class=\"amo-card__paragraph\">\r\n                    Ответственные за заявки\r\n                </label>\r\n                <v-autocomplete\r\n                    v-model=\"responsibleUserId\"\r\n                    :items=\"users\"\r\n                    v-bind=\"formFieldsOptions\"\r\n                />\r\n                <v-btn\r\n                    type=\"submit\"\r\n                    size=\"default\"\r\n                    variant=\"flat\"\r\n                    color=\"primary\"\r\n                    class=\"mt-2\"\r\n                    :loading=\"postIsLoading\"\r\n                >\r\n                    {{ postBtnText }}\r\n                </v-btn>\r\n            </v-form>\r\n        </v-fade-transition>\r\n        <v-scale-transition>\r\n            <span v-if=\"usersIsError\" class=\"text-error\">{{ usersError }}</span>\r\n            <span v-if=\"pipelinesIsError\" class=\"text-error\">{{\r\n                pipelinesError\r\n            }}</span>\r\n            <span v-if=\"postIsError\" class=\"text-error\">{{ postError }}</span>\r\n        </v-scale-transition>\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, ref, toRef } from \"vue\";\r\nimport { Props } from \"./useAmoStep\";\r\nimport useAmoState from \"./useAmoStep\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoPostSetting } from \"@/entities/amo\";\r\nimport { computed } from \"vue\";\r\nimport { formFieldsOptions } from \"./types\";\r\nimport { DB_BOOLEAN } from \"@/shared/types\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { storeToRefs } from \"pinia\";\r\nconst router = useRouter();\r\nconst props = defineProps<Props>();\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst {\r\n    data: users,\r\n    isLoading: usersIsLoading,\r\n    isError: usersIsError,\r\n    error: usersError,\r\n    executeRequest: usersExecuteRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllUsers,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\nconst {\r\n    data: pipelines,\r\n    isLoading: pipelinesIsLoading,\r\n    isError: pipelinesIsError,\r\n    error: pipelinesError,\r\n    executeRequest: pipelineExecuteRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.getAllPipeline,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\nconst isLoading = computed<boolean>(() => {\r\n    return usersIsLoading.value || pipelinesIsLoading.value;\r\n});\r\n\r\nconst collectSetting = (): AmoPostSetting => {\r\n    return {\r\n        responsible_user_id: responsibleUserId.value,\r\n        pipeline_id: pipelineId.value,\r\n        profit: null,\r\n        cost: null,\r\n        revenue: null,\r\n        filter: null,\r\n        send_leads_to_unsorted: sendLeadsToUnsorted.value\r\n            ? DB_BOOLEAN.TRUE\r\n            : DB_BOOLEAN.FALSE,\r\n        filtering_value: null,\r\n        form_id: formId.value === \"\" ? null : formId.value,\r\n        form_name: formName.value === \"\" ? null : formName.value,\r\n    };\r\n};\r\n\r\nconst initialState = () => {\r\n    usersExecuteRequest(Number(integrationId.value), Number(statId.value));\r\n    pipelineExecuteRequest(Number(integrationId.value), Number(statId.value));\r\n};\r\nuseAmoState(\r\n    toRef(() => props.isOpen),\r\n    initialState\r\n);\r\n\r\nconst pipelineId = ref<number | null>(null);\r\nconst responsibleUserId = ref<number | null>(null);\r\nconst sendLeadsToUnsorted = ref<boolean>(false);\r\n\r\n//TODO разобраться с формами\r\nconst formId = ref<string>(\"\");\r\nconst formName = ref<string>(\"\");\r\n\r\n//post\r\nconst form = ref();\r\nconst postBtnText = ref(\"Сохранить и завершить настройку\");\r\nconst onPostSucces = (data: boolean) => {\r\n    postBtnText.value = \"Сохранено\";\r\n    setTimeout(() => {\r\n        postBtnText.value = \"Сохранить и завершить настройку\";\r\n        router.push({\r\n            name: ROUTE_NAMES.Settings_Integrations,\r\n        });\r\n    }, 1000);\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: postRequest,\r\n} = useAsyncState({\r\n    request: AmoModel.postSetting,\r\n    immediate: false,\r\n    onSuccess: onPostSucces,\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    if (!form.value) return;\r\n    if (!(await form.value.validate()).valid) return;\r\n    postRequest(\r\n        Number(statId.value),\r\n        Number(integrationId.value),\r\n        collectSetting()\r\n    );\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amo-basic-settings__body__switch-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.amo-basic-settings__body__switch-container__switch {\r\n    flex: unset;\r\n    margin-right: 1em;\r\n    padding-left: 10px;\r\n}\r\n</style>\r\n","import script from \"./step-basic-settings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-basic-settings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-basic-settings.vue?vue&type=style&index=0&id=5f9a4d46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f9a4d46\"]])\n\nexport default __exports__","import { ROUTE_NAMES } from \"@/pages\";\r\nimport { ref, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\n\r\nexport const useIntegrationEdit = (possibleSteps: Array<string>) => {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const step = ref(route.query.step as string);\r\n    watch(\r\n        () => route.query.step,\r\n        (newStep) => {\r\n            if (\r\n                newStep === undefined ||\r\n                typeof newStep !== \"string\" ||\r\n                !possibleSteps.includes(newStep)\r\n            ) {\r\n                router.replace({\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    query: { step: possibleSteps[0] },\r\n                });\r\n                return;\r\n            }\r\n            step.value = newStep;\r\n        },\r\n        { immediate: true }\r\n    );\r\n    return { step };\r\n};\r\n","// Components\nimport { VBtn } from '@/components/VBtn/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider/VDefaultsProvider'\n\n// Composables\nimport { useLocale } from '@/composables/locale'\n\n// Utilities\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport type VStepperActionsSlots = {\n  prev: {\n    props: { onClick: () => void }\n  }\n  next: {\n    props: { onClick: () => void }\n  }\n}\n\nexport const makeVStepperActionsProps = propsFactory({\n  color: String,\n  disabled: {\n    type: [Boolean, String] as PropType<boolean | 'next' | 'prev'>,\n    default: false,\n  },\n  prevText: {\n    type: String,\n    default: '$vuetify.stepper.prev',\n  },\n  nextText: {\n    type: String,\n    default: '$vuetify.stepper.next',\n  },\n}, 'VStepperActions')\n\nexport const VStepperActions = genericComponent<VStepperActionsSlots>()({\n  name: 'VStepperActions',\n\n  props: makeVStepperActionsProps(),\n\n  emits: {\n    'click:prev': () => true,\n    'click:next': () => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { t } = useLocale()\n    function onClickPrev () {\n      emit('click:prev')\n    }\n\n    function onClickNext () {\n      emit('click:next')\n    }\n\n    useRender(() => {\n      const prevSlotProps = {\n        onClick: onClickPrev,\n      }\n      const nextSlotProps = {\n        onClick: onClickNext,\n      }\n\n      return (\n        <div class=\"v-stepper-actions\">\n          <VDefaultsProvider\n            defaults={{\n              VBtn: {\n                disabled: ['prev', true].includes(props.disabled),\n                text: t(props.prevText),\n                variant: 'text',\n              },\n            }}\n          >\n            { slots.prev?.({ props: prevSlotProps }) ?? (\n              <VBtn { ...prevSlotProps } />\n            )}\n          </VDefaultsProvider>\n\n          <VDefaultsProvider\n            defaults={{\n              VBtn: {\n                color: props.color,\n                disabled: ['next', true].includes(props.disabled),\n                text: t(props.nextText),\n                variant: 'tonal',\n              },\n            }}\n          >\n            { slots.next?.({ props: nextSlotProps }) ?? (\n              <VBtn { ...nextSlotProps } />\n            )}\n          </VDefaultsProvider>\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperActions = InstanceType<typeof VStepperActions>\n","// Utilities\nimport { createSimpleFunctional } from '@/util'\n\nexport const VStepperHeader = createSimpleFunctional('v-stepper-header')\n\nexport type VStepperHeader = InstanceType<typeof VStepperHeader>\n","// Utilities\nimport { keys } from '@/util'\n\n// Types\nimport type {\n  DirectiveBinding,\n} from 'vue'\n\nexport interface TouchHandlers {\n  start?: (wrapperEvent: { originalEvent: TouchEvent } & TouchData) => void\n  end?: (wrapperEvent: { originalEvent: TouchEvent } & TouchData) => void\n  move?: (wrapperEvent: { originalEvent: TouchEvent } & TouchData) => void\n  left?: (wrapper: TouchData) => void\n  right?: (wrapper: TouchData) => void\n  up?: (wrapper: TouchData) => void\n  down?: (wrapper: TouchData) => void\n}\n\nexport interface TouchData {\n  touchstartX: number\n  touchstartY: number\n  touchmoveX: number\n  touchmoveY: number\n  touchendX: number\n  touchendY: number\n  offsetX: number\n  offsetY: number\n}\n\nexport type TouchWrapper = TouchHandlers & TouchData\n\nexport interface TouchValue extends TouchHandlers {\n  parent?: boolean\n  options?: AddEventListenerOptions\n}\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\nexport interface TouchDirectiveBinding extends Omit<DirectiveBinding, 'value'> {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start?.({ originalEvent: event, ...wrapper })\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end?.({ originalEvent: event, ...wrapper })\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move?.({ originalEvent: event, ...wrapper })\n}\n\nfunction createHandlers (value: TouchHandlers = {}): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const value = binding.value\n  const target = value?.parent ? el.parentElement : el\n  const options = value?.options ?? { passive: true }\n  const uid = binding.instance?.$.uid // TODO: use custom uid generator\n\n  if (!target || !uid) return\n\n  const handlers = createHandlers(binding.value)\n\n  target._touchHandlers = target._touchHandlers ?? Object.create(null)\n  target._touchHandlers![uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName], options)\n  })\n}\n\nfunction unmounted (el: HTMLElement, binding: TouchDirectiveBinding) {\n  const target = binding.value?.parent ? el.parentElement : el\n  const uid = binding.instance?.$.uid\n\n  if (!target?._touchHandlers || !uid) return\n\n  const handlers = target._touchHandlers[uid]\n\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n\n  delete target._touchHandlers[uid]\n}\n\nexport const Touch = {\n  mounted,\n  unmounted,\n}\n\nexport default Touch\n","// Styles\nimport './VWindow.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { useGroup } from '@/composables/group'\nimport { useLocale, useRtl } from '@/composables/locale'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\n\n// Directives\nimport { Touch } from '@/directives/touch'\n\n// Utilities\nimport { computed, provide, ref, shallowRef, watch } from 'vue'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { ComputedRef, InjectionKey, PropType, Ref } from 'vue'\nimport type { GroupItemProvide, GroupProvide } from '@/composables/group'\nimport type { IconValue } from '@/composables/icons'\nimport type { TouchHandlers } from '@/directives/touch'\nimport type { GenericProps } from '@/util'\n\nexport type VWindowSlots = {\n  default: { group: GroupProvide }\n  additional: { group: GroupProvide }\n  prev: { props: ControlProps }\n  next: { props: ControlProps }\n}\n\ntype WindowProvide = {\n  transition: ComputedRef<undefined | string>\n  transitionCount: Ref<number>\n  transitionHeight: Ref<undefined | string>\n  isReversed: Ref<boolean>\n  rootRef: Ref<HTMLElement | undefined>\n}\n\ntype ControlProps = {\n  icon: IconValue\n  class: string\n  onClick: () => void\n  ariaLabel: string\n}\n\nexport const VWindowSymbol: InjectionKey<WindowProvide> = Symbol.for('vuetify:v-window')\nexport const VWindowGroupSymbol: InjectionKey<GroupItemProvide> = Symbol.for('vuetify:v-window-group')\n\nexport const makeVWindowProps = propsFactory({\n  continuous: Boolean,\n  nextIcon: {\n    type: [Boolean, String, Function, Object] as PropType<IconValue>,\n    default: '$next',\n  },\n  prevIcon: {\n    type: [Boolean, String, Function, Object] as PropType<IconValue>,\n    default: '$prev',\n  },\n  reverse: Boolean,\n  showArrows: {\n    type: [Boolean, String],\n    validator: (v: any) => typeof v === 'boolean' || v === 'hover',\n  },\n  touch: {\n    type: [Object, Boolean] as PropType<boolean | TouchHandlers>,\n    default: undefined,\n  },\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'horizontal',\n  },\n\n  modelValue: null,\n  disabled: Boolean,\n  selectedClass: {\n    type: String,\n    default: 'v-window-item--active',\n  },\n  // TODO: mandatory should probably not be exposed but do this for now\n  mandatory: {\n    type: [Boolean, String] as PropType<boolean | 'force'>,\n    default: 'force' as const,\n  },\n\n  ...makeComponentProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n}, 'VWindow')\n\nexport const VWindow = genericComponent<new <T>(\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n  },\n  slots: VWindowSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VWindow',\n\n  directives: {\n    Touch,\n  },\n\n  props: makeVWindowProps(),\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const { themeClasses } = provideTheme(props)\n    const { isRtl } = useRtl()\n    const { t } = useLocale()\n\n    const group = useGroup(props, VWindowGroupSymbol)\n\n    const rootRef = ref()\n    const isRtlReverse = computed(() => isRtl.value ? !props.reverse : props.reverse)\n    const isReversed = shallowRef(false)\n    const transition = computed(() => {\n      const axis = props.direction === 'vertical' ? 'y' : 'x'\n      const reverse = isRtlReverse.value ? !isReversed.value : isReversed.value\n      const direction = reverse ? '-reverse' : ''\n\n      return `v-window-${axis}${direction}-transition`\n    })\n    const transitionCount = shallowRef(0)\n    const transitionHeight = ref<undefined | string>(undefined)\n\n    const activeIndex = computed(() => {\n      return group.items.value.findIndex(item => group.selected.value.includes(item.id))\n    })\n\n    watch(activeIndex, (newVal, oldVal) => {\n      const itemsLength = group.items.value.length\n      const lastIndex = itemsLength - 1\n\n      if (itemsLength <= 2) {\n        isReversed.value = newVal < oldVal\n      } else if (newVal === lastIndex && oldVal === 0) {\n        isReversed.value = true\n      } else if (newVal === 0 && oldVal === lastIndex) {\n        isReversed.value = false\n      } else {\n        isReversed.value = newVal < oldVal\n      }\n    })\n\n    provide(VWindowSymbol, {\n      transition,\n      isReversed,\n      transitionCount,\n      transitionHeight,\n      rootRef,\n    })\n\n    const canMoveBack = computed(() => props.continuous || activeIndex.value !== 0)\n    const canMoveForward = computed(() => props.continuous || activeIndex.value !== group.items.value.length - 1)\n\n    function prev () {\n      canMoveBack.value && group.prev()\n    }\n\n    function next () {\n      canMoveForward.value && group.next()\n    }\n\n    const arrows = computed(() => {\n      const arrows = []\n\n      const prevProps = {\n        icon: isRtl.value ? props.nextIcon : props.prevIcon,\n        class: `v-window__${isRtlReverse.value ? 'right' : 'left'}`,\n        onClick: group.prev,\n        ariaLabel: t('$vuetify.carousel.prev'),\n      }\n\n      arrows.push(canMoveBack.value\n        ? slots.prev\n          ? slots.prev({ props: prevProps })\n          : <VBtn { ...prevProps } />\n        : <div />\n      )\n\n      const nextProps = {\n        icon: isRtl.value ? props.prevIcon : props.nextIcon,\n        class: `v-window__${isRtlReverse.value ? 'left' : 'right'}`,\n        onClick: group.next,\n        ariaLabel: t('$vuetify.carousel.next'),\n      }\n\n      arrows.push(canMoveForward.value\n        ? slots.next\n          ? slots.next({ props: nextProps })\n          : <VBtn { ...nextProps } />\n        : <div />\n      )\n\n      return arrows\n    })\n\n    const touchOptions = computed(() => {\n      if (props.touch === false) return props.touch\n\n      const options: TouchHandlers = {\n        left: () => {\n          isRtlReverse.value ? prev() : next()\n        },\n        right: () => {\n          isRtlReverse.value ? next() : prev()\n        },\n        start: ({ originalEvent }) => {\n          originalEvent.stopPropagation()\n        },\n      }\n\n      return {\n        ...options,\n        ...(props.touch === true ? {} : props.touch),\n      }\n    })\n\n    useRender(() => (\n      <props.tag\n        ref={ rootRef }\n        class={[\n          'v-window',\n          {\n            'v-window--show-arrows-on-hover': props.showArrows === 'hover',\n          },\n          themeClasses.value,\n          props.class,\n        ]}\n        style={ props.style }\n        v-touch={ touchOptions.value }\n      >\n        <div\n          class=\"v-window__container\"\n          style={{\n            height: transitionHeight.value,\n          }}\n        >\n          { slots.default?.({ group }) }\n\n          { props.showArrows !== false && (\n            <div class=\"v-window__controls\">\n              { arrows.value }\n            </div>\n          )}\n        </div>\n\n        { slots.additional?.({ group }) }\n      </props.tag>\n    ))\n\n    return {\n      group,\n    }\n  },\n})\n\nexport type VWindow = InstanceType<typeof VWindow>\n","// Components\nimport { makeVWindowProps, VWindow } from '@/components/VWindow/VWindow'\n\n// Composables\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, inject } from 'vue'\nimport { genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { InjectionKey } from 'vue'\nimport type { GroupProvide } from '@/composables/group'\n\nexport const VStepperSymbol: InjectionKey<GroupProvide> = Symbol.for('vuetify:v-stepper')\n\nexport const makeVStepperWindowProps = propsFactory({\n  ...omit(makeVWindowProps(), ['continuous', 'nextIcon', 'prevIcon', 'showArrows', 'touch', 'mandatory']),\n}, 'VStepperWindow')\n\nexport const VStepperWindow = genericComponent()({\n  name: 'VStepperWindow',\n\n  props: makeVStepperWindowProps(),\n\n  emits: {\n    'update:modelValue': (v: unknown) => true,\n  },\n\n  setup (props, { slots }) {\n    const group = inject(VStepperSymbol, null)\n    const _model = useProxiedModel(props, 'modelValue')\n\n    const model = computed({\n      get () {\n        // Always return modelValue if defined\n        // or if not within a VStepper group\n        if (_model.value != null || !group) return _model.value\n\n        // If inside of a VStepper, find the currently selected\n        // item by id. Item value may be assigned by its index\n        return group.items.value.find(item => group.selected.value.includes(item.id))?.value\n      },\n      set (val) {\n        _model.value = val\n      },\n    })\n\n    useRender(() => {\n      const windowProps = VWindow.filterProps(props)\n\n      return (\n        <VWindow\n          _as=\"VStepperWindow\"\n          { ...windowProps }\n          v-model={ model.value }\n          class=\"v-stepper-window\"\n          mandatory={ false }\n          touch={ false }\n          v-slots={ slots }\n        />\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperWindow = InstanceType<typeof VStepperWindow>\n","// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeGroupItemProps, useGroupItem } from '@/composables/group'\nimport { makeLazyProps, useLazy } from '@/composables/lazy'\nimport { useSsrBoot } from '@/composables/ssrBoot'\nimport { MaybeTransition } from '@/composables/transition'\n\n// Directives\nimport Touch from '@/directives/touch'\n\n// Utilities\nimport { computed, inject, nextTick, shallowRef } from 'vue'\nimport { convertToUnit, genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport { VWindowGroupSymbol, VWindowSymbol } from './VWindow'\n\nexport const makeVWindowItemProps = propsFactory({\n  reverseTransition: {\n    type: [Boolean, String],\n    default: undefined,\n  },\n  transition: {\n    type: [Boolean, String],\n    default: undefined,\n  },\n\n  ...makeComponentProps(),\n  ...makeGroupItemProps(),\n  ...makeLazyProps(),\n}, 'VWindowItem')\n\nexport const VWindowItem = genericComponent()({\n  name: 'VWindowItem',\n\n  directives: {\n    Touch,\n  },\n\n  props: makeVWindowItemProps(),\n\n  emits: {\n    'group:selected': (val: { value: boolean }) => true,\n  },\n\n  setup (props, { slots }) {\n    const window = inject(VWindowSymbol)\n    const groupItem = useGroupItem(props, VWindowGroupSymbol)\n    const { isBooted } = useSsrBoot()\n\n    if (!window || !groupItem) throw new Error('[Vuetify] VWindowItem must be used inside VWindow')\n\n    const isTransitioning = shallowRef(false)\n    const hasTransition = computed(() => isBooted.value && (\n      window.isReversed.value\n        ? props.reverseTransition !== false\n        : props.transition !== false\n    ))\n\n    function onAfterTransition () {\n      if (!isTransitioning.value || !window) {\n        return\n      }\n\n      // Finalize transition state.\n      isTransitioning.value = false\n      if (window.transitionCount.value > 0) {\n        window.transitionCount.value -= 1\n\n        // Remove container height if we are out of transition.\n        if (window.transitionCount.value === 0) {\n          window.transitionHeight.value = undefined\n        }\n      }\n    }\n\n    function onBeforeTransition () {\n      if (isTransitioning.value || !window) {\n        return\n      }\n\n      // Initialize transition state here.\n      isTransitioning.value = true\n\n      if (window.transitionCount.value === 0) {\n        // Set initial height for height transition.\n        window.transitionHeight.value = convertToUnit(window.rootRef.value?.clientHeight)\n      }\n\n      window.transitionCount.value += 1\n    }\n\n    function onTransitionCancelled () {\n      onAfterTransition() // This should have the same path as normal transition end.\n    }\n\n    function onEnterTransition (el: Element) {\n      if (!isTransitioning.value) {\n        return\n      }\n\n      nextTick(() => {\n        // Do not set height if no transition or cancelled.\n        if (!hasTransition.value || !isTransitioning.value || !window) {\n          return\n        }\n\n        // Set transition target height.\n        window.transitionHeight.value = convertToUnit(el.clientHeight)\n      })\n    }\n\n    const transition = computed(() => {\n      const name = window.isReversed.value\n        ? props.reverseTransition\n        : props.transition\n\n      return !hasTransition.value ? false : {\n        name: typeof name !== 'string' ? window.transition.value : name,\n        onBeforeEnter: onBeforeTransition,\n        onAfterEnter: onAfterTransition,\n        onEnterCancelled: onTransitionCancelled,\n        onBeforeLeave: onBeforeTransition,\n        onAfterLeave: onAfterTransition,\n        onLeaveCancelled: onTransitionCancelled,\n        onEnter: onEnterTransition,\n      }\n    })\n\n    const { hasContent } = useLazy(props, groupItem.isSelected)\n\n    useRender(() => (\n      <MaybeTransition transition={ transition.value } disabled={ !isBooted.value }>\n        <div\n          class={[\n            'v-window-item',\n            groupItem.selectedClass.value,\n            props.class,\n          ]}\n          style={ props.style }\n          v-show={ groupItem.isSelected.value }\n        >\n          { hasContent.value && slots.default?.() }\n        </div>\n      </MaybeTransition>\n    ))\n\n    return { groupItem }\n  },\n})\n\nexport type VWindowItem = InstanceType<typeof VWindowItem>\n","// Components\nimport { makeVWindowItemProps, VWindowItem } from '@/components/VWindow/VWindowItem'\n\n// Utilities\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\nexport const makeVStepperWindowItemProps = propsFactory({\n  ...makeVWindowItemProps(),\n}, 'VStepperWindowItem')\n\nexport const VStepperWindowItem = genericComponent()({\n  name: 'VStepperWindowItem',\n\n  props: makeVStepperWindowItemProps(),\n\n  setup (props, { slots }) {\n    useRender(() => {\n      const windowItemProps = VWindowItem.filterProps(props)\n\n      return (\n        <VWindowItem\n          _as=\"VStepperWindowItem\"\n          { ...windowItemProps }\n          class=\"v-stepper-window-item\"\n          v-slots={ slots }\n        />\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VStepperWindowItem = InstanceType<typeof VStepperWindowItem>\n","// Styles\nimport './VStepper.sass'\n\n// Components\nimport { makeVStepperActionsProps, VStepperActions } from './VStepperActions'\nimport { VStepperHeader } from './VStepperHeader'\nimport { VStepperItem } from './VStepperItem'\nimport { VStepperWindow } from './VStepperWindow'\nimport { VStepperWindowItem } from './VStepperWindowItem'\nimport { VDivider } from '@/components/VDivider'\nimport { makeVSheetProps, VSheet } from '@/components/VSheet/VSheet'\n\n// Composables\nimport { provideDefaults } from '@/composables/defaults'\nimport { makeGroupProps, useGroup } from '@/composables/group'\n\n// Utilities\nimport { computed, toRefs } from 'vue'\nimport { genericComponent, getPropertyFromItem, only, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { InjectionKey, PropType } from 'vue'\nimport type { StepperItemSlot } from './VStepperItem'\nimport type { GroupItemProvide } from '@/composables/group'\n\nexport const VStepperSymbol: InjectionKey<GroupItemProvide> = Symbol.for('vuetify:v-stepper')\n\nexport type StepperItem = string | Record<string, any>\n\nexport type VStepperSlot = {\n  prev: () => void\n  next: () => void\n}\n\nexport type VStepperSlots = {\n  actions: VStepperSlot\n  default: StepperItem\n  header: StepperItem\n  'header-item': StepperItemSlot\n  icon: StepperItemSlot\n  title: StepperItemSlot\n  subtitle: StepperItemSlot\n  item: StepperItem\n  prev: never\n  next: never\n} & {\n  [key: `header-item.${string}`]: StepperItemSlot\n  [key: `item.${string}`]: StepperItem\n}\n\nexport const makeVStepperProps = propsFactory({\n  altLabels: Boolean,\n  bgColor: String,\n  editable: Boolean,\n  hideActions: Boolean,\n  items: {\n    type: Array as PropType<readonly StepperItem[]>,\n    default: () => ([]),\n  },\n  itemTitle: {\n    type: String,\n    default: 'title',\n  },\n  itemValue: {\n    type: String,\n    default: 'value',\n  },\n  mobile: Boolean,\n  nonLinear: Boolean,\n  flat: Boolean,\n\n  ...makeGroupProps({\n    mandatory: 'force' as const,\n    selectedClass: 'v-stepper-item--selected',\n  }),\n  ...makeVSheetProps(),\n  ...only(makeVStepperActionsProps(), ['prevText', 'nextText']),\n}, 'VStepper')\n\nexport const VStepper = genericComponent<VStepperSlots>()({\n  name: 'VStepper',\n\n  props: makeVStepperProps(),\n\n  emits: {\n    'update:modelValue': (v: unknown) => true,\n  },\n\n  setup (props, { slots }) {\n    const { items: _items, next, prev, selected } = useGroup(props, VStepperSymbol)\n    const { color, editable, prevText, nextText } = toRefs(props)\n\n    const items = computed(() => props.items.map((item, index) => {\n      const title = getPropertyFromItem(item, props.itemTitle, item)\n      const value = getPropertyFromItem(item, props.itemValue, index + 1)\n\n      return {\n        title,\n        value,\n        raw: item,\n      }\n    }))\n    const activeIndex = computed(() => {\n      return _items.value.findIndex(item => selected.value.includes(item.id))\n    })\n    const disabled = computed(() => {\n      if (props.disabled) return props.disabled\n      if (activeIndex.value === 0) return 'prev'\n      if (activeIndex.value === _items.value.length - 1) return 'next'\n\n      return false\n    })\n\n    provideDefaults({\n      VStepperItem: {\n        editable,\n        prevText,\n        nextText,\n      },\n      VStepperActions: {\n        color,\n        disabled,\n        prevText,\n        nextText,\n      },\n    })\n\n    useRender(() => {\n      const sheetProps = VSheet.filterProps(props)\n\n      const hasHeader = !!(slots.header || props.items.length)\n      const hasWindow = props.items.length > 0\n      const hasActions = !props.hideActions && !!(hasWindow || slots.actions)\n\n      return (\n        <VSheet\n          { ...sheetProps }\n          color={ props.bgColor }\n          class={[\n            'v-stepper',\n            {\n              'v-stepper--alt-labels': props.altLabels,\n              'v-stepper--flat': props.flat,\n              'v-stepper--non-linear': props.nonLinear,\n              'v-stepper--mobile': props.mobile,\n            },\n            props.class,\n          ]}\n          style={ props.style }\n        >\n          { hasHeader && (\n            <VStepperHeader key=\"stepper-header\">\n              { items.value.map((item, index) => (\n                <>\n                  { !!index && (<VDivider />) }\n\n                  <VStepperItem\n                    { ...item }\n                    v-slots={{\n                      default: slots[`header-item.${item.value}`] ?? slots.header,\n                      icon: slots.icon,\n                      title: slots.title,\n                      subtitle: slots.subtitle,\n                    }}\n                  />\n                </>\n              ))}\n            </VStepperHeader>\n          )}\n\n          { hasWindow && (\n            <VStepperWindow key=\"stepper-window\">\n              { items.value.map(item => (\n                <VStepperWindowItem\n                  value={ item.value }\n                  v-slots={{\n                    default: () => slots[`item.${item.value}`]?.(item) ?? slots.item?.(item),\n                  }}\n                />\n              ))}\n            </VStepperWindow>\n          )}\n\n          { slots.default?.({ prev, next }) }\n\n          { hasActions && (\n            slots.actions?.({ next, prev }) ?? (\n              <VStepperActions\n                key=\"stepper-actions\"\n                onClick:prev={ prev }\n                onClick:next={ next }\n                v-slots={ slots }\n              />\n            )\n          )}\n        </VSheet>\n      )\n    })\n\n    return {\n      prev,\n      next,\n    }\n  },\n})\n\nexport type VStepper = InstanceType<typeof VStepper>\n","// Styles\nimport './VStepperItem.sass'\n\n// Components\nimport { VAvatar } from '@/components/VAvatar/VAvatar'\nimport { VIcon } from '@/components/VIcon/VIcon'\n\n// Composables\nimport { makeGroupItemProps, useGroupItem } from '@/composables/group'\n\n// Directives\nimport { Ripple } from '@/directives/ripple'\n\n// Utilities\nimport { computed } from 'vue'\nimport { VStepperSymbol } from './VStepper'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { RippleDirectiveBinding } from '@/directives/ripple'\n\nexport type StepperItemSlot = {\n  canEdit: boolean\n  hasError: boolean\n  hasCompleted: boolean\n  title?: string\n  subtitle?: string\n  step: any\n}\n\nexport type VStepperItemSlots = {\n  default: StepperItemSlot\n  icon: StepperItemSlot\n  title: StepperItemSlot\n  subtitle: StepperItemSlot\n}\n\nexport type ValidationRule = () => string | boolean\n\nexport const makeVStepperItemProps = propsFactory({\n  color: String,\n  title: String,\n  subtitle: String,\n  complete: Boolean,\n  completeIcon: {\n    type: String,\n    default: '$complete',\n  },\n  editable: Boolean,\n  editIcon: {\n    type: String,\n    default: '$edit',\n  },\n  error: Boolean,\n  errorIcon: {\n    type: String,\n    default: '$error',\n  },\n  icon: String,\n  ripple: {\n    type: [Boolean, Object] as PropType<RippleDirectiveBinding['value']>,\n    default: true,\n  },\n  rules: {\n    type: Array as PropType<readonly ValidationRule[]>,\n    default: () => ([]),\n  },\n\n  ...makeGroupItemProps(),\n}, 'VStepperItem')\n\nexport const VStepperItem = genericComponent<VStepperItemSlots>()({\n  name: 'VStepperItem',\n\n  directives: { Ripple },\n\n  props: makeVStepperItemProps(),\n\n  emits: {\n    'group:selected': (val: { value: boolean }) => true,\n  },\n\n  setup (props, { slots }) {\n    const group = useGroupItem(props, VStepperSymbol, true)\n    const step = computed(() => group?.value.value ?? props.value)\n    const isValid = computed(() => props.rules.every(handler => handler() === true))\n    const canEdit = computed(() => !props.disabled && props.editable)\n    const hasError = computed(() => props.error || !isValid.value)\n    const hasCompleted = computed(() => props.complete || (props.rules.length > 0 && isValid.value))\n    const icon = computed(() => {\n      if (hasError.value) return props.errorIcon\n      if (hasCompleted.value) return props.completeIcon\n      if (props.editable) return props.editIcon\n\n      return props.icon\n    })\n    const slotProps = computed(() => ({\n      canEdit: canEdit.value,\n      hasError: hasError.value,\n      hasCompleted: hasCompleted.value,\n      title: props.title,\n      subtitle: props.subtitle,\n      step: step.value,\n      value: props.value,\n    }))\n\n    useRender(() => {\n      const hasColor = (\n        !group ||\n        group.isSelected.value ||\n        hasCompleted.value ||\n        canEdit.value\n      ) && (\n        !hasError.value &&\n        !props.disabled\n      )\n      const hasTitle = !!(props.title || slots.title)\n      const hasSubtitle = !!(props.subtitle || slots.subtitle)\n\n      function onClick () {\n        group?.toggle()\n      }\n\n      return (\n        <button\n          class={[\n            'v-stepper-item',\n            {\n              'v-stepper-item--complete': hasCompleted.value,\n              'v-stepper-item--disabled': props.disabled,\n              'v-stepper-item--error': hasError.value,\n            },\n            group?.selectedClass.value,\n          ]}\n          disabled={ !props.editable }\n          v-ripple={[\n            props.ripple && props.editable,\n            null,\n            null,\n          ]}\n          onClick={ onClick }\n        >\n          <VAvatar\n            key=\"stepper-avatar\"\n            class=\"v-stepper-item__avatar\"\n            color={ hasColor ? props.color : undefined }\n            size={ 24 }\n          >\n            { slots.icon?.(slotProps.value) ?? (\n              icon.value ? (\n                <VIcon icon={ icon.value }></VIcon>\n              ) : step.value\n            )}\n          </VAvatar>\n\n          <div class=\"v-stepper-item__content\">\n            { hasTitle && (\n              <div\n                key=\"title\"\n                class=\"v-stepper-item__title\"\n              >\n                { slots.title?.(slotProps.value) ?? props.title }\n              </div>\n            )}\n\n            { hasSubtitle && (\n              <div\n                key=\"subtitle\"\n                class=\"v-stepper-item__subtitle\"\n              >\n                { slots.subtitle?.(slotProps.value) ?? props.subtitle }\n              </div>\n            )}\n\n            { slots.default?.(slotProps.value) }\n          </div>\n        </button>\n      )\n    })\n    return {}\n  },\n})\n\nexport type VStepperItem = InstanceType<typeof VStepperItem>\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock } from \"vue\"\n\nimport { toRefs, ref, watchPostEffect } from \"vue\";\r\nimport { StepperItem } from \"./types\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\n\r\nimport { VStepperItem } from \"vuetify/lib/components/index.mjs\";\r\ntype Props = {\r\n    steps: Array<StepperItem>;\r\n    selectedId: number;\r\n    typeLeadSourceItntegration: number;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    steps: {},\n    selectedId: {},\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\nconst router = useRouter();\r\nconst { steps, selectedId } = toRefs(props);\r\nconst stepperItems = ref<Array<typeof VStepperItem>>([]);\r\n\r\nconst selectedStepId = computed<number>({\r\n    get: () => {\r\n        return selectedId.value;\r\n    },\r\n    set: (id: number) => {\r\n        const selectedRoute = steps.value.find((step) => {\r\n            return step.id === id;\r\n        });\r\n        if (selectedRoute) {\r\n            router.push(selectedRoute.route);\r\n        }\r\n    },\r\n});\r\nwatchPostEffect(() => {\r\n    try {\r\n        const index = steps.value.findIndex((step) => {\r\n            return step.id === selectedId.value;\r\n        });\r\n\r\n        if (stepperItems.value && stepperItems.value[index]) {\r\n            stepperItems.value[index].$el.scrollIntoView();\r\n        }\r\n    } catch (err) {\r\n        console.error(err);\r\n        return;\r\n    }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_stepper_header = _resolveComponent(\"v-stepper-header\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_stepper_window_item = _resolveComponent(\"v-stepper-window-item\")!\n  const _component_v_stepper_window = _resolveComponent(\"v-stepper-window\")!\n  const _component_v_stepper = _resolveComponent(\"v-stepper\")!\n\n  return (_openBlock(), _createBlock(_component_v_stepper, {\n    tag: \"article\",\n    class: \"stepper\",\n    modelValue: selectedStepId.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedStepId).value = $event))\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_stepper_header, {\n        tag: \"header\",\n        class: \"stepper_header\"\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(steps), (n) => {\n            return (_openBlock(), _createElementBlock(_Fragment, {\n              key: `${n.id}-step`\n            }, [\n              _createVNode(_unref(VStepperItem), {\n                ref_for: true,\n                ref_key: \"stepperItems\",\n                ref: stepperItems,\n                color: \"primary\",\n                title: `${n.name}`,\n                step: n.id,\n                complete: n.isComplite,\n                error: n.isError,\n                editable: \"\",\n                value: n.id\n              }, null, 8, [\"title\", \"step\", \"complete\", \"error\", \"value\"]),\n              _createVNode(_component_v_divider, { class: \"stepper_header__divider\" })\n            ], 64))\n          }), 128))\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_stepper_window, null, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(steps), (n) => {\n            return (_openBlock(), _createBlock(_component_v_stepper_window_item, {\n              key: `${n.id}-content`,\n              value: n.id\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    (_openBlock(), _createBlock(_resolveDynamicComponent(n.component), {\n                      \"is-open\": n.id === _unref(selectedId),\n                      \"type-lead-source-itntegration\": \r\n                            props.typeLeadSourceItntegration\r\n                        \n                    }, null, 8, [\"is-open\", \"type-lead-source-itntegration\"]))\n                  ]),\n                  _: 2\n                }, 1024)\n              ]),\n              _: 2\n            }, 1032, [\"value\"]))\n          }), 128))\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<template>\r\n    <v-stepper tag=\"article\" class=\"stepper\" v-model=\"selectedStepId\">\r\n        <v-stepper-header tag=\"header\" class=\"stepper_header\">\r\n            <template v-for=\"n in steps\" :key=\"`${n.id}-step`\">\r\n                <v-stepper-item\r\n                    ref=\"stepperItems\"\r\n                    color=\"primary\"\r\n                    :title=\"`${n.name}`\"\r\n                    :step=\"n.id\"\r\n                    :complete=\"n.isComplite\"\r\n                    :error=\"n.isError\"\r\n                    editable\r\n                    :value=\"n.id\"\r\n                />\r\n                <v-divider class=\"stepper_header__divider\" />\r\n            </template>\r\n        </v-stepper-header>\r\n        <v-stepper-window>\r\n            <v-stepper-window-item\r\n                v-for=\"n in steps\"\r\n                :key=\"`${n.id}-content`\"\r\n                :value=\"n.id\"\r\n            >\r\n                <v-card>\r\n                    <component\r\n                        :is=\"n.component\"\r\n                        :is-open=\"n.id === selectedId\"\r\n                        :type-lead-source-itntegration=\"\r\n                            props.typeLeadSourceItntegration\r\n                        \"\r\n                    />\r\n                </v-card>\r\n            </v-stepper-window-item>\r\n        </v-stepper-window>\r\n    </v-stepper>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { toRefs, defineProps, ref, watchPostEffect } from \"vue\";\r\nimport { StepperItem } from \"./types\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\n\r\nimport { VStepperItem } from \"vuetify/lib/components/index.mjs\";\r\ntype Props = {\r\n    steps: Array<StepperItem>;\r\n    selectedId: number;\r\n    typeLeadSourceItntegration: number;\r\n};\r\nconst props = defineProps<Props>();\r\nconst router = useRouter();\r\nconst { steps, selectedId } = toRefs(props);\r\nconst stepperItems = ref<Array<typeof VStepperItem>>([]);\r\n\r\nconst selectedStepId = computed<number>({\r\n    get: () => {\r\n        return selectedId.value;\r\n    },\r\n    set: (id: number) => {\r\n        const selectedRoute = steps.value.find((step) => {\r\n            return step.id === id;\r\n        });\r\n        if (selectedRoute) {\r\n            router.push(selectedRoute.route);\r\n        }\r\n    },\r\n});\r\nwatchPostEffect(() => {\r\n    try {\r\n        const index = steps.value.findIndex((step) => {\r\n            return step.id === selectedId.value;\r\n        });\r\n\r\n        if (stepperItems.value && stepperItems.value[index]) {\r\n            stepperItems.value[index].$el.scrollIntoView();\r\n        }\r\n    } catch (err) {\r\n        console.error(err);\r\n        return;\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.stepper_header__divider {\r\n    min-width: 30px;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=20514070&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-20514070\"]])\n\nexport default __exports__","import stepper from \"./index.vue\";\r\nexport default stepper;\r\nexport * from \"./types\";\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-446eb858\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-edit\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mb-2\" }, \"amoCrm\", -1))\n\nimport { RouteLocationNamedRaw, useRoute } from \"vue-router\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { getSteps, possibleSteps, AMO_STEPS } from \"./index\";\r\nimport { computed, watch } from \"vue\";\r\nimport { onBeforeRouteUpdate } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoExistComplex } from \"@/entities/amo\";\r\nimport { shallowRef } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n// import useAsyncState2 from \"@/shared/composables/useAsyncArg\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst { integrationList } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nuseIntegrationEdit(possibleSteps);\r\nconst {\r\n    data: existComlex,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest: updateExistComplex,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: AmoModel.getIntegrationExistComplex,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\nonBeforeRouteUpdate(() => {\r\n    updateExistComplex;\r\n});\r\nwatch(\r\n    existComlex,\r\n    (newVal) => {\r\n        if (!newVal) return;\r\n        steps.value = steps.value.map((step) => {\r\n            if (step.id === AMO_STEPS.AUTH) {\r\n                return { ...step, isComplite: newVal.auth };\r\n            } else if (step.id === AMO_STEPS.SETTINGS) {\r\n                return { ...step, isComplite: newVal.setting };\r\n            } else if (step.id === AMO_STEPS.STATUSES) {\r\n                return { ...step, isComplite: newVal.status_allocation };\r\n            } else return step;\r\n        });\r\n    },\r\n    { immediate: true }\r\n);\r\n\r\n// onMounted(() => {\r\n//     useIntegrationStore().init(Number(statId.value));\r\n// });\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createVNode(_unref(UrlStepper), {\n      steps: steps.value,\n      \"selected-id\": selectedId.value\n    }, null, 8, [\"steps\", \"selected-id\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-edit\">\r\n        <h1 class=\"mb-2\">amoCrm</h1>\r\n\r\n        <url-stepper :steps=\"steps\" :selected-id=\"selectedId\" />\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { RouteLocationNamedRaw, useRoute } from \"vue-router\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { getSteps, possibleSteps, AMO_STEPS } from \"./index\";\r\nimport { computed, watch } from \"vue\";\r\nimport { onBeforeRouteUpdate } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { AmoModel, AmoExistComplex } from \"@/entities/amo\";\r\nimport { shallowRef } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n// import useAsyncState2 from \"@/shared/composables/useAsyncArg\";\r\nconst { integrationList } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nuseIntegrationEdit(possibleSteps);\r\nconst {\r\n    data: existComlex,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest: updateExistComplex,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: AmoModel.getIntegrationExistComplex,\r\n    initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n});\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\nonBeforeRouteUpdate(() => {\r\n    updateExistComplex;\r\n});\r\nwatch(\r\n    existComlex,\r\n    (newVal) => {\r\n        if (!newVal) return;\r\n        steps.value = steps.value.map((step) => {\r\n            if (step.id === AMO_STEPS.AUTH) {\r\n                return { ...step, isComplite: newVal.auth };\r\n            } else if (step.id === AMO_STEPS.SETTINGS) {\r\n                return { ...step, isComplite: newVal.setting };\r\n            } else if (step.id === AMO_STEPS.STATUSES) {\r\n                return { ...step, isComplite: newVal.status_allocation };\r\n            } else return step;\r\n        });\r\n    },\r\n    { immediate: true }\r\n);\r\n\r\n// onMounted(() => {\r\n//     useIntegrationStore().init(Number(statId.value));\r\n// });\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n:deep(.amo-card__header) {\r\n    font-size: 1.1rem;\r\n}\r\n:deep(.amo-card__paragraph) {\r\n    font-size: 0.9em;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=446eb858&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-446eb858\"]])\n\nexport default __exports__","import { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport stepAuth from \"./step-auth.vue\";\r\nimport stepStatuses from \"./step-statuses.vue\";\r\nimport stepProxyLead from \"./step-proxy-lead.vue\";\r\nimport stepSettings from \"./step-settings.vue\";\r\nimport stepBasicSettings from \"./step-basic-settings.vue\";\r\n\r\nimport { RouteLocationNormalizedLoaded } from \"vue-router\";\r\n\r\nimport index from \"./index.vue\";\r\nexport default index;\r\nexport const possibleSteps = [\r\n    \"oauth\",\r\n    \"statuses\",\r\n    \"proxy_lead\",\r\n    \"settings\",\r\n    \"basic_settings\",\r\n];\r\nexport enum AMO_STEPS {\r\n    AUTH,\r\n    STATUSES,\r\n    PROXY_LEAD,\r\n    SETTINGS,\r\n    BASIC_SETTINGS,\r\n}\r\nexport const getSteps = (\r\n    routeLocation: RouteLocationNormalizedLoaded\r\n): Array<StepperItem> => {\r\n    return [\r\n        {\r\n            id: AMO_STEPS.AUTH,\r\n            name: \"Авторизация\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[0] } },\r\n            component: stepAuth,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: AMO_STEPS.STATUSES,\r\n            name: \"Загрузка заявок из CRM: распределение статусов\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[1] } },\r\n            component: stepStatuses,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: AMO_STEPS.PROXY_LEAD,\r\n            name: \"Инструкция по включению отправки заявок\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[2] } },\r\n            component: stepProxyLead,\r\n            isComplite: true,\r\n            isLoading: false,\r\n        },\r\n        {\r\n            id: AMO_STEPS.SETTINGS,\r\n            name: \"Загрузка заявок из CRM: расширенные настройки\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[3] } },\r\n            component: stepSettings,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: AMO_STEPS.BASIC_SETTINGS,\r\n            name: \"Отправка заявок в CRM-систему: базовые настройки\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[4] } },\r\n            component: stepBasicSettings,\r\n            isComplite: false,\r\n        },\r\n    ];\r\n};\r\n","import { z } from \"zod\";\r\n\r\nexport enum CHANNEL_COMPAIGN_STATUS {\r\n    IGNORE = 0,\r\n    ALLOWED = 1,\r\n}\r\nexport const SChannelCompaign = z.object({\r\n    campaign_id: z.number(),\r\n    name: z.string(),\r\n    created_at: z.string().datetime(),\r\n    status: z.nativeEnum(CHANNEL_COMPAIGN_STATUS),\r\n});\r\n","import { CHANNEL_COMPAIGN_STATUS } from \"./scheme\";\r\nimport { ChannelCompaign } from \"./types\";\r\n\r\nexport const campaigns: Array<ChannelCompaign> = [\r\n    {\r\n        campaign_id: 1,\r\n        name: \"Теплые\",\r\n        created_at: \"22/22/2222\",\r\n        status: CHANNEL_COMPAIGN_STATUS.ALLOWED,\r\n    },\r\n    {\r\n        campaign_id: 2,\r\n        name: \"Холодные\",\r\n        created_at: \"22/22/2222\",\r\n        status: CHANNEL_COMPAIGN_STATUS.IGNORE,\r\n    },\r\n    {\r\n        campaign_id: 3,\r\n        name: \"Ледяные\",\r\n        created_at: \"22/22/2222\",\r\n        status: CHANNEL_COMPAIGN_STATUS.ALLOWED,\r\n    },\r\n    {\r\n        campaign_id: 4,\r\n        name: \"Горячие\",\r\n        created_at: \"22/22/2222\",\r\n        status: CHANNEL_COMPAIGN_STATUS.ALLOWED,\r\n    },\r\n];\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref } from \"vue\";\r\nimport { ChannelCompaign } from \"@/entities/channel-campaign\";\r\nimport { ChannelCampaignModel } from \"@/entities/channel-campaign/model\";\r\nimport { onMounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { YandexDirectModel } from \"@/entities/yandex-direct/model\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { computed } from \"vue\";\r\ntype InfiniteScrollStatus = \"ok\" | \"empty\" | \"loading\" | \"error\";\r\nconst ITEMS_PER_PAGE = 10;\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: '_campaign',\n  setup(__props) {\n\r\nconst currentPage = ref(0);\r\nconst items = ref<ChannelCompaign[]>([]);\r\nconst load = async ({\r\n    done,\r\n}: {\r\n    done: (status: InfiniteScrollStatus) => void;\r\n}) => {\r\n    const result = await ChannelCampaignModel.getAll();\r\n    items.value = items.value.concat(result);\r\n    console.log(\"items==\", items);\r\n    done(\"empty\");\r\n    return;\r\n};\r\n\r\nconst route = useRoute();\r\nconst {\r\n    data,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest = YandexDirectModel.putSettingChannel,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: YandexDirectModel.getCampaignChannels,\r\n    initialArgs: [Number(route.params.statId), Number(route.params.id)],\r\n});\r\n\r\nconst { error: errorCampaign, executeRequest: settingCampaign } = useAsyncState(\r\n    {\r\n        immediate: false,\r\n        request: YandexDirectModel.putSettingCampaign,\r\n    }\r\n);\r\nonMounted(() => {\r\n    data;\r\n});\r\n\r\nconst headers = ref([\r\n    { key: \"number\", title: \"№\", text: \"232\" },\r\n    { key: \"status\", title: \"Аналитика\" },\r\n    {\r\n        key: \"name\",\r\n        title: \"Название\",\r\n        sortable: false,\r\n        align: \"start\",\r\n        text: \"232\",\r\n    },\r\n    { key: \"created_at\", title: \"Дата добавления\", text: \"232\" },\r\n]);\r\nconst desserts = ref(data);\r\nconst search = ref(\"\");\r\n\r\nconst changeStatus = (campaignId: number, status: number) => {\r\n    const statusUpdate = status == 1 ? 0 : 1;\r\n    console.log(\"route.params\", route);\r\n    settingCampaign(Number(route.params.statId), Number(route.params.id), {\r\n        campaigns: [{ id: campaignId, status: statusUpdate }],\r\n    });\r\n    console.log(\"Меняем статут кампании\");\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_data_table = _resolveComponent(\"v-data-table\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    flat: \"\",\n    title: \"Кампании\"\n  }, {\n    text: _withCtx(() => [\n      _createVNode(_component_v_text_field, {\n        modelValue: search.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((search).value = $event)),\n        label: \"Search\",\n        \"prepend-inner-icon\": \"mdi-magnify\",\n        \"single-line\": \"\",\n        variant: \"outlined\",\n        \"hide-details\": \"\"\n      }, null, 8, [\"modelValue\"])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_data_table, {\n        headers: headers.value,\n        items: desserts.value,\n        search: search.value\n      }, {\n        [`item.number`]: _withCtx(({ index }) => [\n          _createTextVNode(_toDisplayString(index + 1), 1)\n        ]),\n        [`item.status`]: _withCtx(({ item }) => [\n          _createVNode(_component_v_switch, {\n            color: \"primary\",\n            \"model-value\": item.status == 1 ? true : false,\n            onChange: ($event: any) => (changeStatus(item.campaign_id, item.status))\n          }, null, 8, [\"model-value\", \"onChange\"])\n        ]),\n        _: 2\n      }, 1032, [\"headers\", \"items\", \"search\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card flat title=\"Кампании\">\r\n        <template v-slot:text>\r\n            <v-text-field\r\n                v-model=\"search\"\r\n                label=\"Search\"\r\n                prepend-inner-icon=\"mdi-magnify\"\r\n                single-line\r\n                variant=\"outlined\"\r\n                hide-details\r\n            ></v-text-field>\r\n        </template>\r\n\r\n        <v-data-table :headers=\"headers\" :items=\"desserts\" :search=\"search\">\r\n            <template v-slot:[`item.number`]=\"{ index }\">\r\n                {{ index + 1 }}\r\n            </template>\r\n            <template v-slot:[`item.status`]=\"{ item }\">\r\n                <v-switch\r\n                    color=\"primary\"\r\n                    :model-value=\"item.status == 1 ? true : false\"\r\n                    @change=\"changeStatus(item.campaign_id, item.status)\"\r\n                ></v-switch>\r\n            </template>\r\n        </v-data-table>\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\nimport { ChannelCompaign } from \"@/entities/channel-campaign\";\r\nimport { ChannelCampaignModel } from \"@/entities/channel-campaign/model\";\r\nimport { onMounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { YandexDirectModel } from \"@/entities/yandex-direct/model\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { computed } from \"vue\";\r\ntype InfiniteScrollStatus = \"ok\" | \"empty\" | \"loading\" | \"error\";\r\nconst ITEMS_PER_PAGE = 10;\r\nconst currentPage = ref(0);\r\nconst items = ref<ChannelCompaign[]>([]);\r\nconst load = async ({\r\n    done,\r\n}: {\r\n    done: (status: InfiniteScrollStatus) => void;\r\n}) => {\r\n    const result = await ChannelCampaignModel.getAll();\r\n    items.value = items.value.concat(result);\r\n    console.log(\"items==\", items);\r\n    done(\"empty\");\r\n    return;\r\n};\r\n\r\nconst route = useRoute();\r\nconst {\r\n    data,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest = YandexDirectModel.putSettingChannel,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: YandexDirectModel.getCampaignChannels,\r\n    initialArgs: [Number(route.params.statId), Number(route.params.id)],\r\n});\r\n\r\nconst { error: errorCampaign, executeRequest: settingCampaign } = useAsyncState(\r\n    {\r\n        immediate: false,\r\n        request: YandexDirectModel.putSettingCampaign,\r\n    }\r\n);\r\nonMounted(() => {\r\n    data;\r\n});\r\n\r\nconst headers = ref([\r\n    { key: \"number\", title: \"№\", text: \"232\" },\r\n    { key: \"status\", title: \"Аналитика\" },\r\n    {\r\n        key: \"name\",\r\n        title: \"Название\",\r\n        sortable: false,\r\n        align: \"start\",\r\n        text: \"232\",\r\n    },\r\n    { key: \"created_at\", title: \"Дата добавления\", text: \"232\" },\r\n]);\r\nconst desserts = ref(data);\r\nconst search = ref(\"\");\r\n\r\nconst changeStatus = (campaignId: number, status: number) => {\r\n    const statusUpdate = status == 1 ? 0 : 1;\r\n    console.log(\"route.params\", route);\r\n    settingCampaign(Number(route.params.statId), Number(route.params.id), {\r\n        campaigns: [{ id: campaignId, status: statusUpdate }],\r\n    });\r\n    console.log(\"Меняем статут кампании\");\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./_campaign.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./_campaign.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>channel</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./_channel.vue?vue&type=template&id=20f5fca5\"\nconst script = {}\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Types\nimport type { InjectionKey } from 'vue'\nimport type { GroupProvide } from '@/composables/group'\n\nexport const VTabsSymbol: InjectionKey<GroupProvide> = Symbol.for('vuetify:v-tabs')\n","// Styles\nimport './VTab.sass'\n\n// Components\nimport { makeVBtnProps, VBtn } from '@/components/VBtn/VBtn'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\n\n// Utilities\nimport { computed, ref, shallowRef } from 'vue'\nimport { VTabsSymbol } from './shared'\nimport { animate, genericComponent, omit, propsFactory, standardEasing, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VBtnSlots } from '@/components/VBtn/VBtn'\n\nexport const makeVTabProps = propsFactory({\n  fixed: Boolean,\n\n  sliderColor: String,\n  hideSlider: Boolean,\n\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'horizontal',\n  },\n\n  ...omit(makeVBtnProps({\n    selectedClass: 'v-tab--selected',\n    variant: 'text' as const,\n  }), [\n    'active',\n    'block',\n    'flat',\n    'location',\n    'position',\n    'symbol',\n  ]),\n}, 'VTab')\n\nexport const VTab = genericComponent<VBtnSlots>()({\n  name: 'VTab',\n\n  props: makeVTabProps(),\n\n  setup (props, { slots, attrs }) {\n    const { textColorClasses: sliderColorClasses, textColorStyles: sliderColorStyles } = useTextColor(props, 'sliderColor')\n    const isHorizontal = computed(() => props.direction === 'horizontal')\n    const isSelected = shallowRef(false)\n\n    const rootEl = ref<VBtn>()\n    const sliderEl = ref<HTMLElement>()\n\n    function updateSlider ({ value }: { value: boolean }) {\n      isSelected.value = value\n\n      if (value) {\n        const prevEl: HTMLElement | undefined = rootEl.value?.$el.parentElement?.querySelector('.v-tab--selected .v-tab__slider')\n        const nextEl = sliderEl.value\n\n        if (!prevEl || !nextEl) return\n\n        const color = getComputedStyle(prevEl).color\n\n        const prevBox = prevEl.getBoundingClientRect()\n        const nextBox = nextEl.getBoundingClientRect()\n\n        const xy = isHorizontal.value ? 'x' : 'y'\n        const XY = isHorizontal.value ? 'X' : 'Y'\n        const rightBottom = isHorizontal.value ? 'right' : 'bottom'\n        const widthHeight = isHorizontal.value ? 'width' : 'height'\n\n        const prevPos = prevBox[xy]\n        const nextPos = nextBox[xy]\n        const delta = prevPos > nextPos\n          ? prevBox[rightBottom] - nextBox[rightBottom]\n          : prevBox[xy] - nextBox[xy]\n        const origin =\n          Math.sign(delta) > 0 ? (isHorizontal.value ? 'right' : 'bottom')\n          : Math.sign(delta) < 0 ? (isHorizontal.value ? 'left' : 'top')\n          : 'center'\n        const size = Math.abs(delta) + (Math.sign(delta) < 0 ? prevBox[widthHeight] : nextBox[widthHeight])\n        const scale = size / Math.max(prevBox[widthHeight], nextBox[widthHeight]) || 0\n        const initialScale = prevBox[widthHeight] / nextBox[widthHeight] || 0\n\n        const sigma = 1.5\n        animate(nextEl, {\n          backgroundColor: [color, 'currentcolor'],\n          transform: [\n            `translate${XY}(${delta}px) scale${XY}(${initialScale})`,\n            `translate${XY}(${delta / sigma}px) scale${XY}(${(scale - 1) / sigma + 1})`,\n            'none',\n          ],\n          transformOrigin: Array(3).fill(origin),\n        }, {\n          duration: 225,\n          easing: standardEasing,\n        })\n      }\n    }\n\n    useRender(() => {\n      const btnProps = VBtn.filterProps(props)\n\n      return (\n        <VBtn\n          symbol={ VTabsSymbol }\n          ref={ rootEl }\n          class={[\n            'v-tab',\n            props.class,\n          ]}\n          style={ props.style }\n          tabindex={ isSelected.value ? 0 : -1 }\n          role=\"tab\"\n          aria-selected={ String(isSelected.value) }\n          active={ false }\n          { ...btnProps }\n          { ...attrs }\n          block={ props.fixed }\n          maxWidth={ props.fixed ? 300 : undefined }\n          onGroup:selected={ updateSlider }\n        >\n          {{\n            ...slots,\n            default: () => (\n              <>\n                { slots.default?.() ?? props.text }\n\n                { !props.hideSlider && (\n                  <div\n                    ref={ sliderEl }\n                    class={[\n                      'v-tab__slider',\n                      sliderColorClasses.value,\n                    ]}\n                    style={ sliderColorStyles.value }\n                  />\n                )}\n              </>\n            ),\n          }}\n        </VBtn>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VTab = InstanceType<typeof VTab>\n","export function bias (val: number) {\n  const c = 0.501\n  const x = Math.abs(val)\n  return Math.sign(val) * (x / ((1 / c - 2) * (1 - x) + 1))\n}\n\nexport function calculateUpdatedOffset ({\n  selectedElement,\n  containerSize,\n  contentSize,\n  isRtl,\n  currentScrollOffset,\n  isHorizontal,\n}: {\n  selectedElement: HTMLElement\n  containerSize: number\n  contentSize: number\n  isRtl: boolean\n  currentScrollOffset: number\n  isHorizontal: boolean\n}): number {\n  const clientSize = isHorizontal ? selectedElement.clientWidth : selectedElement.clientHeight\n  const offsetStart = isHorizontal ? selectedElement.offsetLeft : selectedElement.offsetTop\n  const adjustedOffsetStart = isRtl && isHorizontal ? (contentSize - offsetStart - clientSize) : offsetStart\n\n  const totalSize = containerSize + currentScrollOffset\n  const itemOffset = clientSize + adjustedOffsetStart\n  const additionalOffset = clientSize * 0.4\n\n  if (adjustedOffsetStart <= currentScrollOffset) {\n    currentScrollOffset = Math.max(adjustedOffsetStart - additionalOffset, 0)\n  } else if (totalSize <= itemOffset) {\n    currentScrollOffset = Math.min(currentScrollOffset - (totalSize - itemOffset - additionalOffset), contentSize - containerSize)\n  }\n\n  return currentScrollOffset\n}\n\nexport function calculateCenteredOffset ({\n  selectedElement,\n  containerSize,\n  contentSize,\n  isRtl,\n  isHorizontal,\n}: {\n  selectedElement: HTMLElement\n  containerSize: number\n  contentSize: number\n  isRtl: boolean\n  isHorizontal: boolean\n}): number {\n  const clientSize = isHorizontal ? selectedElement.clientWidth : selectedElement.clientHeight\n  const offsetStart = isHorizontal ? selectedElement.offsetLeft : selectedElement.offsetTop\n\n  const offsetCentered = isRtl && isHorizontal\n    ? contentSize - offsetStart - clientSize / 2 - containerSize / 2\n    : offsetStart + clientSize / 2 - containerSize / 2\n\n  return Math.min(contentSize - containerSize, Math.max(0, offsetCentered))\n}\n","// Styles\nimport './VSlideGroup.sass'\n\n// Components\nimport { VFadeTransition } from '@/components/transitions'\nimport { VIcon } from '@/components/VIcon'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDisplayProps, useDisplay } from '@/composables/display'\nimport { makeGroupProps, useGroup } from '@/composables/group'\nimport { IconValue } from '@/composables/icons'\nimport { useRtl } from '@/composables/locale'\nimport { useResizeObserver } from '@/composables/resizeObserver'\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { computed, shallowRef, watch } from 'vue'\nimport { bias, calculateCenteredOffset, calculateUpdatedOffset } from './helpers'\nimport { clamp, focusableChildren, genericComponent, IN_BROWSER, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { InjectionKey, PropType } from 'vue'\nimport type { GroupProvide } from '@/composables/group'\nimport type { GenericProps } from '@/util'\n\nexport const VSlideGroupSymbol: InjectionKey<GroupProvide> = Symbol.for('vuetify:v-slide-group')\n\ninterface SlideGroupSlot {\n  next: GroupProvide['next']\n  prev: GroupProvide['prev']\n  select: GroupProvide['select']\n  isSelected: GroupProvide['isSelected']\n}\n\ntype VSlideGroupSlots = {\n  default: SlideGroupSlot\n  prev: SlideGroupSlot\n  next: SlideGroupSlot\n}\n\nexport const makeVSlideGroupProps = propsFactory({\n  centerActive: Boolean,\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'horizontal',\n  },\n  symbol: {\n    type: null,\n    default: VSlideGroupSymbol,\n  },\n  nextIcon: {\n    type: IconValue,\n    default: '$next',\n  },\n  prevIcon: {\n    type: IconValue,\n    default: '$prev',\n  },\n  showArrows: {\n    type: [Boolean, String],\n    validator: (v: any) => (\n      typeof v === 'boolean' || [\n        'always',\n        'desktop',\n        'mobile',\n      ].includes(v)\n    ),\n  },\n\n  ...makeComponentProps(),\n  ...makeDisplayProps(),\n  ...makeTagProps(),\n  ...makeGroupProps({\n    selectedClass: 'v-slide-group-item--active',\n  }),\n}, 'VSlideGroup')\n\nexport const VSlideGroup = genericComponent<new <T>(\n  props: {\n    modelValue?: T\n    'onUpdate:modelValue'?: (value: T) => void\n  },\n  slots: VSlideGroupSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VSlideGroup',\n\n  props: makeVSlideGroupProps(),\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { slots }) {\n    const { isRtl } = useRtl()\n    const { displayClasses, mobile } = useDisplay(props)\n    const group = useGroup(props, props.symbol)\n    const isOverflowing = shallowRef(false)\n    const scrollOffset = shallowRef(0)\n    const containerSize = shallowRef(0)\n    const contentSize = shallowRef(0)\n    const isHorizontal = computed(() => props.direction === 'horizontal')\n\n    const { resizeRef: containerRef, contentRect: containerRect } = useResizeObserver()\n    const { resizeRef: contentRef, contentRect } = useResizeObserver()\n\n    const firstSelectedIndex = computed(() => {\n      if (!group.selected.value.length) return -1\n\n      return group.items.value.findIndex(item => item.id === group.selected.value[0])\n    })\n\n    const lastSelectedIndex = computed(() => {\n      if (!group.selected.value.length) return -1\n\n      return group.items.value.findIndex(item => item.id === group.selected.value[group.selected.value.length - 1])\n    })\n\n    if (IN_BROWSER) {\n      let frame = -1\n      watch(() => [group.selected.value, containerRect.value, contentRect.value, isHorizontal.value], () => {\n        cancelAnimationFrame(frame)\n        frame = requestAnimationFrame(() => {\n          if (containerRect.value && contentRect.value) {\n            const sizeProperty = isHorizontal.value ? 'width' : 'height'\n\n            containerSize.value = containerRect.value[sizeProperty]\n            contentSize.value = contentRect.value[sizeProperty]\n\n            isOverflowing.value = containerSize.value + 1 < contentSize.value\n          }\n\n          if (firstSelectedIndex.value >= 0 && contentRef.value) {\n            // TODO: Is this too naive? Should we store element references in group composable?\n            const selectedElement = contentRef.value.children[lastSelectedIndex.value] as HTMLElement\n\n            if (firstSelectedIndex.value === 0 || !isOverflowing.value) {\n              scrollOffset.value = 0\n            } else if (props.centerActive) {\n              scrollOffset.value = calculateCenteredOffset({\n                selectedElement,\n                containerSize: containerSize.value,\n                contentSize: contentSize.value,\n                isRtl: isRtl.value,\n                isHorizontal: isHorizontal.value,\n              })\n            } else if (isOverflowing.value) {\n              scrollOffset.value = calculateUpdatedOffset({\n                selectedElement,\n                containerSize: containerSize.value,\n                contentSize: contentSize.value,\n                isRtl: isRtl.value,\n                currentScrollOffset: scrollOffset.value,\n                isHorizontal: isHorizontal.value,\n              })\n            }\n          }\n        })\n      })\n    }\n\n    const disableTransition = shallowRef(false)\n\n    let startTouch = 0\n    let startOffset = 0\n\n    function onTouchstart (e: TouchEvent) {\n      const sizeProperty = isHorizontal.value ? 'clientX' : 'clientY'\n      const sign = isRtl.value && isHorizontal.value ? -1 : 1\n      startOffset = sign * scrollOffset.value\n      startTouch = e.touches[0][sizeProperty]\n      disableTransition.value = true\n    }\n\n    function onTouchmove (e: TouchEvent) {\n      if (!isOverflowing.value) return\n\n      const sizeProperty = isHorizontal.value ? 'clientX' : 'clientY'\n      const sign = isRtl.value && isHorizontal.value ? -1 : 1\n      scrollOffset.value = sign * (startOffset + startTouch - e.touches[0][sizeProperty])\n    }\n\n    function onTouchend (e: TouchEvent) {\n      const maxScrollOffset = contentSize.value - containerSize.value\n\n      if (scrollOffset.value < 0 || !isOverflowing.value) {\n        scrollOffset.value = 0\n      } else if (scrollOffset.value >= maxScrollOffset) {\n        scrollOffset.value = maxScrollOffset\n      }\n\n      disableTransition.value = false\n    }\n\n    function onScroll () {\n      if (!containerRef.value) return\n\n      containerRef.value[isHorizontal.value ? 'scrollLeft' : 'scrollTop'] = 0\n    }\n\n    const isFocused = shallowRef(false)\n    function onFocusin (e: FocusEvent) {\n      isFocused.value = true\n\n      if (!isOverflowing.value || !contentRef.value) return\n\n      // Focused element is likely to be the root of an item, so a\n      // breadth-first search will probably find it in the first iteration\n      for (const el of e.composedPath()) {\n        for (const item of contentRef.value.children) {\n          if (item === el) {\n            scrollOffset.value = calculateUpdatedOffset({\n              selectedElement: item as HTMLElement,\n              containerSize: containerSize.value,\n              contentSize: contentSize.value,\n              isRtl: isRtl.value,\n              currentScrollOffset: scrollOffset.value,\n              isHorizontal: isHorizontal.value,\n            })\n            return\n          }\n        }\n      }\n    }\n\n    function onFocusout (e: FocusEvent) {\n      isFocused.value = false\n    }\n\n    function onFocus (e: FocusEvent) {\n      if (\n        !isFocused.value &&\n        !(e.relatedTarget && contentRef.value?.contains(e.relatedTarget as Node))\n      ) focus()\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      if (!contentRef.value) return\n\n      if (isHorizontal.value) {\n        if (e.key === 'ArrowRight') {\n          focus(isRtl.value ? 'prev' : 'next')\n        } else if (e.key === 'ArrowLeft') {\n          focus(isRtl.value ? 'next' : 'prev')\n        }\n      } else {\n        if (e.key === 'ArrowDown') {\n          focus('next')\n        } else if (e.key === 'ArrowUp') {\n          focus('prev')\n        }\n      }\n\n      if (e.key === 'Home') {\n        focus('first')\n      } else if (e.key === 'End') {\n        focus('last')\n      }\n    }\n\n    function focus (location?: 'next' | 'prev' | 'first' | 'last') {\n      if (!contentRef.value) return\n\n      if (!location) {\n        const focusable = focusableChildren(contentRef.value)\n        focusable[0]?.focus()\n      } else if (location === 'next') {\n        const el = contentRef.value.querySelector(':focus')?.nextElementSibling as HTMLElement | undefined\n        if (el) el.focus()\n        else focus('first')\n      } else if (location === 'prev') {\n        const el = contentRef.value.querySelector(':focus')?.previousElementSibling as HTMLElement | undefined\n        if (el) el.focus()\n        else focus('last')\n      } else if (location === 'first') {\n        (contentRef.value.firstElementChild as HTMLElement)?.focus()\n      } else if (location === 'last') {\n        (contentRef.value.lastElementChild as HTMLElement)?.focus()\n      }\n    }\n\n    function scrollTo (location: 'prev' | 'next') {\n      const newAbsoluteOffset = scrollOffset.value + (location === 'prev' ? -1 : 1) * containerSize.value\n\n      scrollOffset.value = clamp(newAbsoluteOffset, 0, contentSize.value - containerSize.value)\n    }\n\n    const contentStyles = computed(() => {\n      // This adds friction when scrolling the 'wrong' way when at max offset\n      let scrollAmount = scrollOffset.value > contentSize.value - containerSize.value\n        ? -(contentSize.value - containerSize.value) + bias(contentSize.value - containerSize.value - scrollOffset.value)\n        : -scrollOffset.value\n\n      // This adds friction when scrolling the 'wrong' way when at min offset\n      if (scrollOffset.value <= 0) {\n        scrollAmount = bias(-scrollOffset.value)\n      }\n\n      const sign = isRtl.value && isHorizontal.value ? -1 : 1\n      return {\n        transform: `translate${isHorizontal.value ? 'X' : 'Y'}(${sign * scrollAmount}px)`,\n        transition: disableTransition.value ? 'none' : '',\n        willChange: disableTransition.value ? 'transform' : '',\n      }\n    })\n\n    const slotProps = computed(() => ({\n      next: group.next,\n      prev: group.prev,\n      select: group.select,\n      isSelected: group.isSelected,\n    }))\n\n    const hasAffixes = computed(() => {\n      switch (props.showArrows) {\n        // Always show arrows on desktop & mobile\n        case 'always': return true\n\n        // Always show arrows on desktop\n        case 'desktop': return !mobile.value\n\n        // Show arrows on mobile when overflowing.\n        // This matches the default 2.2 behavior\n        case true: return isOverflowing.value || Math.abs(scrollOffset.value) > 0\n\n        // Always show on mobile\n        case 'mobile': return (\n          mobile.value ||\n          (isOverflowing.value || Math.abs(scrollOffset.value) > 0)\n        )\n\n        // https://material.io/components/tabs#scrollable-tabs\n        // Always show arrows when\n        // overflowed on desktop\n        default: return (\n          !mobile.value &&\n          (isOverflowing.value || Math.abs(scrollOffset.value) > 0)\n        )\n      }\n    })\n\n    const hasPrev = computed(() => {\n      return Math.abs(scrollOffset.value) > 0\n    })\n\n    const hasNext = computed(() => {\n      // Check one scroll ahead to know the width of right-most item\n      return contentSize.value > Math.abs(scrollOffset.value) + containerSize.value\n    })\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-slide-group',\n          {\n            'v-slide-group--vertical': !isHorizontal.value,\n            'v-slide-group--has-affixes': hasAffixes.value,\n            'v-slide-group--is-overflowing': isOverflowing.value,\n          },\n          displayClasses.value,\n          props.class,\n        ]}\n        style={ props.style }\n        tabindex={ (isFocused.value || group.selected.value.length) ? -1 : 0 }\n        onFocus={ onFocus }\n      >\n        { hasAffixes.value && (\n          <div\n            key=\"prev\"\n            class={[\n              'v-slide-group__prev',\n              { 'v-slide-group__prev--disabled': !hasPrev.value },\n            ]}\n            onClick={ () => hasPrev.value && scrollTo('prev') }\n          >\n            { slots.prev?.(slotProps.value) ?? (\n              <VFadeTransition>\n                <VIcon icon={ isRtl.value ? props.nextIcon : props.prevIcon }></VIcon>\n              </VFadeTransition>\n            )}\n          </div>\n        )}\n\n        <div\n          key=\"container\"\n          ref={ containerRef }\n          class=\"v-slide-group__container\"\n          onScroll={ onScroll }\n        >\n          <div\n            ref={ contentRef }\n            class=\"v-slide-group__content\"\n            style={ contentStyles.value }\n            onTouchstartPassive={ onTouchstart }\n            onTouchmovePassive={ onTouchmove }\n            onTouchendPassive={ onTouchend }\n            onFocusin={ onFocusin }\n            onFocusout={ onFocusout }\n            onKeydown={ onKeydown }\n          >\n            { slots.default?.(slotProps.value) }\n          </div>\n        </div>\n\n        { hasAffixes.value && (\n          <div\n            key=\"next\"\n            class={[\n              'v-slide-group__next',\n              { 'v-slide-group__next--disabled': !hasNext.value },\n            ]}\n            onClick={ () => hasNext.value && scrollTo('next') }\n          >\n            { slots.next?.(slotProps.value) ?? (\n              <VFadeTransition>\n                <VIcon icon={ isRtl.value ? props.prevIcon : props.nextIcon }></VIcon>\n              </VFadeTransition>\n            )}\n          </div>\n        )}\n      </props.tag>\n    ))\n\n    return {\n      selected: group.selected,\n      scrollTo,\n      scrollOffset,\n      focus,\n    }\n  },\n})\n\nexport type VSlideGroup = InstanceType<typeof VSlideGroup>\n","// Styles\nimport './VTabs.sass'\n\n// Components\nimport { VTab } from './VTab'\nimport { makeVSlideGroupProps, VSlideGroup } from '@/components/VSlideGroup/VSlideGroup'\n\n// Composables\nimport { useBackgroundColor } from '@/composables/color'\nimport { provideDefaults } from '@/composables/defaults'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { convertToUnit, genericComponent, isObject, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport { VTabsSymbol } from './shared'\n\nexport type TabItem = string | number | Record<string, any>\n\nfunction parseItems (items: readonly TabItem[] | undefined) {\n  if (!items) return []\n\n  return items.map(item => {\n    if (!isObject(item)) return { text: item, value: item }\n\n    return item\n  })\n}\n\nexport const makeVTabsProps = propsFactory({\n  alignTabs: {\n    type: String as PropType<'start' | 'title' | 'center' | 'end'>,\n    default: 'start',\n  },\n  color: String,\n  fixedTabs: Boolean,\n  items: {\n    type: Array as PropType<readonly TabItem[]>,\n    default: () => ([]),\n  },\n  stacked: Boolean,\n  bgColor: String,\n  grow: Boolean,\n  height: {\n    type: [Number, String],\n    default: undefined,\n  },\n  hideSlider: Boolean,\n  sliderColor: String,\n\n  ...makeVSlideGroupProps({ mandatory: 'force' as const }),\n  ...makeDensityProps(),\n  ...makeTagProps(),\n}, 'VTabs')\n\nexport const VTabs = genericComponent()({\n  name: 'VTabs',\n\n  props: makeVTabsProps(),\n\n  emits: {\n    'update:modelValue': (v: unknown) => true,\n  },\n\n  setup (props, { slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const parsedItems = computed(() => parseItems(props.items))\n    const { densityClasses } = useDensity(props)\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(toRef(props, 'bgColor'))\n\n    provideDefaults({\n      VTab: {\n        color: toRef(props, 'color'),\n        direction: toRef(props, 'direction'),\n        stacked: toRef(props, 'stacked'),\n        fixed: toRef(props, 'fixedTabs'),\n        sliderColor: toRef(props, 'sliderColor'),\n        hideSlider: toRef(props, 'hideSlider'),\n      },\n    })\n\n    useRender(() => {\n      const slideGroupProps = VSlideGroup.filterProps(props)\n\n      return (\n        <VSlideGroup\n          { ...slideGroupProps }\n          v-model={ model.value }\n          class={[\n            'v-tabs',\n            `v-tabs--${props.direction}`,\n            `v-tabs--align-tabs-${props.alignTabs}`,\n            {\n              'v-tabs--fixed-tabs': props.fixedTabs,\n              'v-tabs--grow': props.grow,\n              'v-tabs--stacked': props.stacked,\n            },\n            densityClasses.value,\n            backgroundColorClasses.value,\n            props.class,\n          ]}\n          style={[\n            { '--v-tabs-height': convertToUnit(props.height) },\n            backgroundColorStyles.value,\n            props.style,\n          ]}\n          role=\"tablist\"\n          symbol={ VTabsSymbol }\n        >\n          { slots.default ? slots.default() : parsedItems.value.map(item => (\n            <VTab { ...item } key={ item.text } />\n          ))}\n        </VSlideGroup>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VTabs = InstanceType<typeof VTabs>\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-success\"\n}\n\nimport { computed, ref } from \"vue\";\r\nimport campaignC from \"./_campaign.vue\";\r\nimport channelC from \"./_channel.vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { YandexDirectModel } from \"@/entities/yandex-direct/model\";\r\nimport { router } from \"@/app/providers\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { watch } from \"vue\";\r\nimport { YandexDirectAuth } from \"@/entities/yandex-direct/types\";\r\n\r\nenum TABS {\r\n    CAMPAIGN = \"Кампании\",\r\n    CHANNEL = \"Каналы\",\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst tab = ref<TABS>(TABS.CAMPAIGN);\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst {\r\n    data: status,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: YandexDirectModel.getExistChannel,\r\n    initialArgs: [Number(statId.value), Number(integrationId.value)],\r\n});\r\n\r\nconst statusIntegration = ref<YandexDirectAuth>();\r\nwatch(status, (newVal) => {\r\n    console.log(\"newVal\", newVal);\r\n    statusIntegration.value = newVal;\r\n});\r\n\r\nonMounted(async () => {\r\n    // const response = await YandexDirectModel.getExistChannel(\r\n    //     Number(statId),\r\n    //     Number(integrationId)\r\n    // );\r\n    // console.log(\"response yd\", response);\r\n    // try {\r\n    //     const response = await YandexDirectModel.getCampaignChannels(5, 5);\r\n    //     console.log(\"response yd\", response);\r\n    //     // sites.value = response;\r\n    //     // siteNames.value = sites.value.map((item) => item.name);\r\n    //     // console.log(\"sites.value\", siteNames);\r\n    // } catch (error) {\r\n    //     console.error(\"Ошибка при загрузке сайтов:\", error);\r\n    // }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_v_sheet = _resolveComponent(\"v-sheet\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tag: \"section\",\n    class: \"yandex-direct-edit\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_toolbar, {\n        density: \"compact\",\n        color: \"primary\"\n      }, {\n        extension: _withCtx(() => [\n          (statusIntegration.value?.ready_to_configure)\n            ? (_openBlock(), _createBlock(_component_v_tabs, {\n                key: 0,\n                modelValue: tab.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((tab).value = $event)),\n                \"align-tabs\": \"center\",\n                color: \"primary-darken-4\",\n                grow: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_tab, {\n                    value: TABS.CAMPAIGN\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(TABS.CAMPAIGN), 1)\n                    ]),\n                    _: 1\n                  }, 8, [\"value\"]),\n                  _createVNode(_component_v_tab, {\n                    value: TABS.CHANNEL\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(TABS.CHANNEL), 1)\n                    ]),\n                    _: 1\n                  }, 8, [\"value\"])\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar_title, { tag: \"h1\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Яндекс.Директ\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_sheet, {\n        class: \"pa-4 text-center mx-auto\",\n        elevation: \"12\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_expand_transition, null, {\n            default: _withCtx(() => [\n              (!statusIntegration.value?.ready_to_configure)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"Интеграция в процессе\"))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_expand_transition, null, {\n            default: _withCtx(() => [\n              (statusIntegration.value?.ready_to_configure)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, \" Интеграция настроена \"))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      (statusIntegration.value?.ready_to_configure)\n        ? (_openBlock(), _createBlock(_component_v_window, {\n            key: 0,\n            modelValue: tab.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((tab).value = $event)),\n            class: \"yandex-direct-edit__window\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_window_item, {\n                value: TABS.CAMPAIGN\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(campaignC)\n                ]),\n                _: 1\n              }, 8, [\"value\"]),\n              _createVNode(_component_v_window_item, {\n                value: TABS.CHANNEL\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(channelC)\n                ]),\n                _: 1\n              }, 8, [\"value\"])\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card tag=\"section\" class=\"yandex-direct-edit\">\r\n        <v-toolbar density=\"compact\" color=\"primary\">\r\n            <v-toolbar-title tag=\"h1\">Яндекс.Директ</v-toolbar-title>\r\n\r\n            <template #extension>\r\n                <v-tabs\r\n                    v-model=\"tab\"\r\n                    align-tabs=\"center\"\r\n                    color=\"primary-darken-4\"\r\n                    grow\r\n                    v-if=\"statusIntegration?.ready_to_configure\"\r\n                >\r\n                    <v-tab :value=\"TABS.CAMPAIGN\">{{ TABS.CAMPAIGN }}</v-tab>\r\n                    <v-tab :value=\"TABS.CHANNEL\">{{ TABS.CHANNEL }}</v-tab>\r\n                </v-tabs>\r\n            </template>\r\n        </v-toolbar>\r\n        <v-sheet class=\"pa-4 text-center mx-auto\" elevation=\"12\">\r\n            <v-expand-transition>\r\n                <span\r\n                    class=\"text-error\"\r\n                    v-if=\"!statusIntegration?.ready_to_configure\"\r\n                    >Интеграция в процессе</span\r\n                >\r\n            </v-expand-transition>\r\n            <v-expand-transition>\r\n                <span\r\n                    class=\"text-success\"\r\n                    v-if=\"statusIntegration?.ready_to_configure\"\r\n                >\r\n                    Интеграция настроена\r\n                </span>\r\n            </v-expand-transition>\r\n        </v-sheet>\r\n\r\n        <v-window\r\n            v-model=\"tab\"\r\n            class=\"yandex-direct-edit__window\"\r\n            v-if=\"statusIntegration?.ready_to_configure\"\r\n        >\r\n            <v-window-item :value=\"TABS.CAMPAIGN\">\r\n                <campaign-c />\r\n            </v-window-item>\r\n            <v-window-item :value=\"TABS.CHANNEL\">\r\n                <channel-c />\r\n            </v-window-item>\r\n        </v-window>\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref } from \"vue\";\r\nimport campaignC from \"./_campaign.vue\";\r\nimport channelC from \"./_channel.vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { YandexDirectModel } from \"@/entities/yandex-direct/model\";\r\nimport { router } from \"@/app/providers\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { watch } from \"vue\";\r\nimport { YandexDirectAuth } from \"@/entities/yandex-direct/types\";\r\n\r\nenum TABS {\r\n    CAMPAIGN = \"Кампании\",\r\n    CHANNEL = \"Каналы\",\r\n}\r\nconst tab = ref<TABS>(TABS.CAMPAIGN);\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst {\r\n    data: status,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    immediate: true,\r\n    request: YandexDirectModel.getExistChannel,\r\n    initialArgs: [Number(statId.value), Number(integrationId.value)],\r\n});\r\n\r\nconst statusIntegration = ref<YandexDirectAuth>();\r\nwatch(status, (newVal) => {\r\n    console.log(\"newVal\", newVal);\r\n    statusIntegration.value = newVal;\r\n});\r\n\r\nonMounted(async () => {\r\n    // const response = await YandexDirectModel.getExistChannel(\r\n    //     Number(statId),\r\n    //     Number(integrationId)\r\n    // );\r\n    // console.log(\"response yd\", response);\r\n    // try {\r\n    //     const response = await YandexDirectModel.getCampaignChannels(5, 5);\r\n    //     console.log(\"response yd\", response);\r\n    //     // sites.value = response;\r\n    //     // siteNames.value = sites.value.map((item) => item.name);\r\n    //     // console.log(\"sites.value\", siteNames);\r\n    // } catch (error) {\r\n    //     console.error(\"Ошибка при загрузке сайтов:\", error);\r\n    // }\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { IntegrationItem } from \"@/entities/integrations\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nuseIntegrationEdit(possibleSteps);\r\n\r\n// onMounted(async () => {\r\n//     useIntegrationStore().getSettingsWebhook(\r\n//         Number(integrationId.value),\r\n//         Number(statId.value)\r\n//     );\r\n// });\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tag: \"section\",\n    class: \"yandex-direct-edit\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_toolbar, {\n        density: \"compact\",\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar_title, { tag: \"h1\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"LandingPage\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(UrlStepper), {\n        steps: steps.value,\n        \"selected-id\": selectedId.value\n      }, null, 8, [\"steps\", \"selected-id\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card tag=\"section\" class=\"yandex-direct-edit\">\r\n        <v-toolbar density=\"compact\" color=\"primary\">\r\n            <v-toolbar-title tag=\"h1\">LandingPage</v-toolbar-title>\r\n        </v-toolbar>\r\n\r\n        <url-stepper :steps=\"steps\" :selected-id=\"selectedId\" />\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { IntegrationItem } from \"@/entities/integrations\";\r\nuseIntegrationEdit(possibleSteps);\r\n\r\n// onMounted(async () => {\r\n//     useIntegrationStore().getSettingsWebhook(\r\n//         Number(integrationId.value),\r\n//         Number(statId.value)\r\n//     );\r\n// });\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d580280\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Инструкция по настройке\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Типовая интеграция, которая принимает данные через WebHook.\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Отправляйте данные в теле запроса в следующем формате:\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1))\nconst _hoisted_6 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4,\n  _hoisted_5\n]\n\nimport { computed, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\n\r\n// const route = useRoute();\r\n// const statId = computed(() => route.params.statId);\r\n// const integrationId = computed(() => route.params.id);\r\n\r\n// const { data: existComlex, executeRequest } = useAsyncState({\r\n//     immediate: true,\r\n//     request: WebhookModel.getSourceWebhook,\r\n//     initialArgs: [Number(integrationId.value), Number(statId.value)],\r\n// });\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-instruction',\n  props: {\n    isOpen: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, _hoisted_6))\n}\n}\n\n})","import script from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-instruction.vue?vue&type=style&index=0&id=7d580280&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d580280\"]])\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n\r\nimport { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport stepInstruction from \"./step-instruction.vue\";\r\nimport stepCustom from \"./step-custom.vue\";\r\nimport stepCounter from \"./step-counter.vue\";\r\n\r\nexport enum WEBHOOK_STEPS {\r\n    INSTRUCTION,\r\n}\r\nexport const possibleSteps = [\"guide\", \"custom_settings\", \"counter\"];\r\nexport const getSteps = (\r\n    routeLocation: RouteLocationNormalizedLoaded\r\n): Array<StepperItem> => {\r\n    return [\r\n        {\r\n            id: WEBHOOK_STEPS.INSTRUCTION,\r\n            name: \"Инструкция по настройке\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[0] } },\r\n            component: stepInstruction,\r\n            isComplite: false,\r\n        },\r\n    ];\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { IntegrationItem } from \"@/entities/integrations\";\r\n\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nuseIntegrationEdit(possibleSteps);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n\r\n// type Props = {\r\n//     typeLeadSourceItntegration: number;\r\n// };\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tag: \"section\",\n    class: \"yandex-direct-edit\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_toolbar, {\n        density: \"compact\",\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar_title, { tag: \"h1\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Webhook\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(UrlStepper), {\n        steps: steps.value,\n        \"selected-id\": selectedId.value,\n        \"type-lead-source-itntegration\": props.typeLeadSourceItntegration\n      }, null, 8, [\"steps\", \"selected-id\", \"type-lead-source-itntegration\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card tag=\"section\" class=\"yandex-direct-edit\">\r\n        <v-toolbar density=\"compact\" color=\"primary\">\r\n            <v-toolbar-title tag=\"h1\">Webhook</v-toolbar-title>\r\n        </v-toolbar>\r\n\r\n        <url-stepper\r\n            :steps=\"steps\"\r\n            :selected-id=\"selectedId\"\r\n            :type-lead-source-itntegration=\"props.typeLeadSourceItntegration\"\r\n        />\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { IntegrationItem } from \"@/entities/integrations\";\r\nimport { defineProps, defineEmits } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nuseIntegrationEdit(possibleSteps);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\n\r\n// type Props = {\r\n//     typeLeadSourceItntegration: number;\r\n// };\r\nconst props = defineProps<Props>();\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2ca2acfc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Инструкция по настройке\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Типовая интеграция, которая принимает данные через WebHook.\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Отправляйте данные в теле запроса в следующем формате:\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"pre\", null, \"{\\n    \\\"title\\\" : \\\"Название сделки\\\",\\n    \\\"name\\\" : \\\"Имя клиента\\\",\\n    \\\"email\\\" : \\\"test@test.test\\\",\\n    \\\"phone\\\" : \\\"+79876543210\\\",\\n    \\\"comment\\\" : \\\"Комментарий проксилида\\\",\\n    \\\"roistat_visit\\\" : \\\"123456\\\", //значение куки roistat_visit у пользователя\\n    \\\"fields\\\": {\\n        \\\"site\\\": \\\"example.com\\\",\\n        \\\"source\\\": \\\"vk\\\"\\n    }\\n}\\n            \", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Webhook URL:\", -1))\n\nimport { computed, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\n// import useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n\r\nimport { storeToRefs } from \"pinia\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-instruction',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst { integrationLeadSourceType } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n// const integrationLeadSourceType = computed(\r\n//     () => useIntegrationStore().integrationLeadSourceType\r\n// );\r\n\r\n// onMounted(() => {\r\n//     useIntegrationStore().getLeadSourceIntegrationType(\r\n//         Number(statId.value),\r\n//         Number(integrationId.value)\r\n//     );\r\n// });\r\n\r\n// console.log(\"integrationLeadSourceType\", integrationLeadSourceType.value);\r\n// console.log(\"existComlex\", existComlex.value);\r\n\r\n// type Props = {\r\n//     typeLeadSourceItntegration: number;\r\n// };\r\nconst props = __props;\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _hoisted_4,\n    _createElementVNode(\"div\", null, [\n      _hoisted_5,\n      _hoisted_6,\n      _createElementVNode(\"pre\", null, _toDisplayString(_unref(existComlex)?.webhook_url), 1)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Инструкция по настройке</h3>\r\n        <p>Типовая интеграция, которая принимает данные через WebHook.</p>\r\n\r\n        <p>Отправляйте данные в теле запроса в следующем формате:</p>\r\n        <div>\r\n            <pre>\r\n{\r\n    \"title\" : \"Название сделки\",\r\n    \"name\" : \"Имя клиента\",\r\n    \"email\" : \"test@test.test\",\r\n    \"phone\" : \"+79876543210\",\r\n    \"comment\" : \"Комментарий проксилида\",\r\n    \"roistat_visit\" : \"123456\", //значение куки roistat_visit у пользователя\r\n    \"fields\": {\r\n        \"site\": \"example.com\",\r\n        \"source\": \"vk\"\r\n    }\r\n}\r\n            </pre>\r\n            <b>Webhook URL:</b>\r\n            <pre>{{ existComlex?.webhook_url }}</pre>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\n// import useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n\r\nimport { storeToRefs } from \"pinia\";\r\nconst { integrationLeadSourceType } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n// const integrationLeadSourceType = computed(\r\n//     () => useIntegrationStore().integrationLeadSourceType\r\n// );\r\n\r\n// onMounted(() => {\r\n//     useIntegrationStore().getLeadSourceIntegrationType(\r\n//         Number(statId.value),\r\n//         Number(integrationId.value)\r\n//     );\r\n// });\r\n\r\n// console.log(\"integrationLeadSourceType\", integrationLeadSourceType.value);\r\n// console.log(\"existComlex\", existComlex.value);\r\n\r\n// type Props = {\r\n//     typeLeadSourceItntegration: number;\r\n// };\r\nconst props = defineProps<Props>();\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n</script>\r\n<style scoped>\r\npre {\r\n    display: block;\r\n    padding: 9.5px;\r\n    margin: 20px 0;\r\n    font-size: 13px;\r\n    line-height: 1.42857143;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    color: #333333;\r\n    background-color: #f5f5f5;\r\n    border: 1px solid #cccccc;\r\n    border-radius: 4px;\r\n}\r\n</style>\r\n","import script from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-instruction.vue?vue&type=style&index=0&id=2ca2acfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ca2acfc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d21db08\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Настройка поведения\", -1))\nconst _hoisted_3 = { class: \"amo-basic-settings__body\" }\nconst _hoisted_4 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_5 = { for: \"amo-send-lead-setting1\" }\nconst _hoisted_6 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_7 = { for: \"amo-send-lead-setting2\" }\n\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-custom',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = __props;\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting1\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: sendToCrm.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sendToCrm).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_5, [\n          _createTextVNode(\" Отправлять заявки в CRM \"),\n          _createVNode(informationIcon, { information: \"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\" })\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting2\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: addWithoutContact.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((addWithoutContact).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_7, [\n          _createTextVNode(\" Создавать заявки без контактных данных \"),\n          _createVNode(informationIcon, { information: \"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\" })\n        ])\n      ]),\n      _createVNode(_component_v_btn, {\n        size: \"default\",\n        variant: \"flat\",\n        color: \"primary\",\n        class: \"mt-2\",\n        loading: _unref(postIsLoading),\n        onClick: onSaveClick\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Сохранить \")\n        ]),\n        _: 1\n      }, 8, [\"loading\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Настройка поведения</h3>\r\n\r\n        <div class=\"amo-basic-settings__body\">\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting1\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"sendToCrm\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting1\">\r\n                    Отправлять заявки в CRM\r\n                    <information-icon\r\n                        information=\"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting2\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"addWithoutContact\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting2\">\r\n                    Создавать заявки без контактных данных\r\n                    <information-icon\r\n                        information=\"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <v-btn\r\n                size=\"default\"\r\n                variant=\"flat\"\r\n                color=\"primary\"\r\n                class=\"mt-2\"\r\n                :loading=\"postIsLoading\"\r\n                @click=\"onSaveClick\"\r\n            >\r\n                Сохранить\r\n            </v-btn>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = defineProps<Props>();\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amo-basic-settings__body__switch-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.amo-basic-settings__body__switch-container__switch {\r\n    flex: unset;\r\n    margin-right: 1em;\r\n    padding-left: 10px;\r\n}\r\n</style>\r\n","import script from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-custom.vue?vue&type=style&index=0&id=2d21db08&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d21db08\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1702a3bb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Код счётчика\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" Счётчик нужен для корректной работы аналитики, ловца лидов, онлайн-чата. После встраивания кода счётчика на сайт вы можете проверить его работу, введя название сайта в поле «Проверка счётчика». \", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Инструкция по установке\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" Установить код счётчика необходимо внутри тега \"),\n  /*#__PURE__*/_createElementVNode(\"body\"),\n  /*#__PURE__*/_createTextVNode(\" в HTML-коде страницы. Для корректного подсчёта статистики установите код счётчика на все страницы сайта. Просто скопируйте эту инструкцию и отдайте вашему разработчику. \")\n], -1))\n\nimport { computed, onMounted, ref, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { useStatStore } from \"@/entities/stat/store\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-counter',\n  setup(__props) {\n\r\nconst { getWehookIntegration } = storeToRefs(useIntegrationStore());\r\nconst { statHash, statCounter } = storeToRefs(useStatStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst webhookIntegration = ref(useIntegrationStore().getWehookIntegration);\r\n\r\nconst copyCounter = () => {\r\n    if (statCounter.value) {\r\n        navigator.clipboard.writeText(statCounter.value);\r\n    }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _hoisted_4,\n    _hoisted_5,\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"pre\", null, \"                \" + _toDisplayString(_unref(statCounter)) + \"\\n            \", 1)\n    ]),\n    _createVNode(_component_v_btn, {\n      size: \"default\",\n      variant: \"flat\",\n      color: \"primary\",\n      class: \"mt-2\",\n      onClick: copyCounter\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\" Скопировать в буфер\")\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Код счётчика</h3>\r\n        <p>\r\n            Счётчик нужен для корректной работы аналитики, ловца лидов,\r\n            онлайн-чата. После встраивания кода счётчика на сайт вы можете\r\n            проверить его работу, введя название сайта в поле «Проверка\r\n            счётчика».\r\n        </p>\r\n        <h3 class=\"amo-card__header\">Инструкция по установке</h3>\r\n        <p>\r\n            Установить код счётчика необходимо внутри тега\r\n            <body></body>\r\n            в HTML-коде страницы. Для корректного подсчёта статистики установите\r\n            код счётчика на все страницы сайта. Просто скопируйте эту инструкцию\r\n            и отдайте вашему разработчику.\r\n        </p>\r\n\r\n        <div>\r\n            <pre>\r\n                {{ statCounter }}\r\n            </pre>\r\n        </div>\r\n        <v-btn\r\n            size=\"default\"\r\n            variant=\"flat\"\r\n            color=\"primary\"\r\n            class=\"mt-2\"\r\n            @click=\"copyCounter\"\r\n        >\r\n            Скопировать в буфер</v-btn\r\n        >\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, onMounted, ref, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { useStatStore } from \"@/entities/stat/store\";\r\nconst { getWehookIntegration } = storeToRefs(useIntegrationStore());\r\nconst { statHash, statCounter } = storeToRefs(useStatStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst webhookIntegration = ref(useIntegrationStore().getWehookIntegration);\r\n\r\nconst copyCounter = () => {\r\n    if (statCounter.value) {\r\n        navigator.clipboard.writeText(statCounter.value);\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\npre {\r\n    display: block;\r\n    padding: 9.5px;\r\n    margin: 20px 0;\r\n    font-size: 13px;\r\n    line-height: 1.42857143;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    color: #333333;\r\n    background-color: #f5f5f5;\r\n    border: 1px solid #cccccc;\r\n    border-radius: 4px;\r\n}\r\n</style>\r\n","import script from \"./step-counter.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-counter.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-counter.vue?vue&type=style&index=0&id=1702a3bb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1702a3bb\"]])\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n\r\nimport { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport stepInstruction from \"./step-instruction.vue\";\r\nimport stepCustom from \"./step-custom.vue\";\r\nimport stepCounter from \"./step-counter.vue\";\r\n\r\nexport enum WEBHOOK_STEPS {\r\n    INSTRUCTION,\r\n    CUSTOM_BEHAVIOR,\r\n    COUNTER,\r\n}\r\nexport const possibleSteps = [\"guide\", \"custom_settings\", \"counter\"];\r\nexport const getSteps = (\r\n    routeLocation: RouteLocationNormalizedLoaded\r\n): Array<StepperItem> => {\r\n    return [\r\n        {\r\n            id: WEBHOOK_STEPS.INSTRUCTION,\r\n            name: \"Инструкция по настройке\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[0] } },\r\n            component: stepInstruction,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: WEBHOOK_STEPS.CUSTOM_BEHAVIOR,\r\n            name: \"Настройка поведения\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[1] } },\r\n            component: stepCustom,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: WEBHOOK_STEPS.COUNTER,\r\n            name: \"Код счетчика\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[2] } },\r\n            component: stepCounter,\r\n            isComplite: false,\r\n        },\r\n    ];\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nuseIntegrationEdit(possibleSteps);\r\n\r\nconst route = useRoute();\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tag: \"section\",\n    class: \"yandex-direct-edit\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_toolbar, {\n        density: \"compact\",\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar_title, { tag: \"h1\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Flexbe\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(UrlStepper), {\n        steps: steps.value,\n        \"selected-id\": selectedId.value,\n        \"type-lead-source-itntegration\": props.typeLeadSourceItntegration\n      }, null, 8, [\"steps\", \"selected-id\", \"type-lead-source-itntegration\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card tag=\"section\" class=\"yandex-direct-edit\">\r\n        <v-toolbar density=\"compact\" color=\"primary\">\r\n            <v-toolbar-title tag=\"h1\">Flexbe</v-toolbar-title>\r\n        </v-toolbar>\r\n\r\n        <url-stepper\r\n            :steps=\"steps\"\r\n            :selected-id=\"selectedId\"\r\n            :type-lead-source-itntegration=\"props.typeLeadSourceItntegration\"\r\n        />\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, WEBHOOK_STEPS, possibleSteps } from \"./index\";\r\nimport { AMO_STEPS } from \"../amo\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { Props } from \"./useWebhookState\";\r\nuseIntegrationEdit(possibleSteps);\r\n\r\nconst route = useRoute();\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\nconst props = defineProps<Props>();\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-74db6752\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Инструкция по настройке Flexbe\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" Интеграция с флексби позволяет отслеживать заявки поситителей, оставленные на вашем сайте и автоматически создавать полученные лиды в CRM. Для интеграции Необходимо в настройках Flexbe зайти в раздел API и добавить webhook, а также в разделе Счетчики прописать код счетчика в секции другие счетчики. \", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"URL:\", -1))\n\nimport { computed, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook/model\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-instruction',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst props = __props;\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _createElementVNode(\"div\", null, [\n      _hoisted_4,\n      _createElementVNode(\"pre\", null, _toDisplayString(_unref(existComlex)?.webhook_url), 1)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Инструкция по настройке Flexbe</h3>\r\n        <p>\r\n            Интеграция с флексби позволяет отслеживать заявки поситителей,\r\n            оставленные на вашем сайте и автоматически создавать полученные лиды\r\n            в CRM. Для интеграции Необходимо в настройках Flexbe зайти в раздел\r\n            API и добавить webhook, а также в разделе Счетчики прописать код\r\n            счетчика в секции другие счетчики.\r\n        </p>\r\n\r\n        <div>\r\n            <b>URL:</b>\r\n            <pre>{{ existComlex?.webhook_url }}</pre>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport useWebhookState from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook/model\";\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst props = defineProps<Props>();\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n</script>\r\n<style scoped>\r\npre {\r\n    display: block;\r\n    padding: 9.5px;\r\n    margin: 20px 0;\r\n    font-size: 13px;\r\n    line-height: 1.42857143;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    color: #333333;\r\n    background-color: #f5f5f5;\r\n    border: 1px solid #cccccc;\r\n    border-radius: 4px;\r\n}\r\n</style>\r\n","import script from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-instruction.vue?vue&type=style&index=0&id=74db6752&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-74db6752\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6a8b8f6d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Настройка поведения\", -1))\nconst _hoisted_3 = { class: \"amo-basic-settings__body\" }\nconst _hoisted_4 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_5 = { for: \"amo-send-lead-setting1\" }\nconst _hoisted_6 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_7 = { for: \"amo-send-lead-setting2\" }\n\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-custom',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = __props;\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting1\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: sendToCrm.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sendToCrm).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_5, [\n          _createTextVNode(\" Отправлять заявки в CRM \"),\n          _createVNode(informationIcon, { information: \"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\" })\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting2\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: addWithoutContact.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((addWithoutContact).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_7, [\n          _createTextVNode(\" Создавать заявки без контактных данных \"),\n          _createVNode(informationIcon, { information: \"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\" })\n        ])\n      ]),\n      _createVNode(_component_v_btn, {\n        size: \"default\",\n        variant: \"flat\",\n        color: \"primary\",\n        class: \"mt-2\",\n        loading: _unref(postIsLoading),\n        onClick: onSaveClick\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Сохранить \")\n        ]),\n        _: 1\n      }, 8, [\"loading\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Настройка поведения</h3>\r\n\r\n        <div class=\"amo-basic-settings__body\">\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting1\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"sendToCrm\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting1\">\r\n                    Отправлять заявки в CRM\r\n                    <information-icon\r\n                        information=\"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting2\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"addWithoutContact\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting2\">\r\n                    Создавать заявки без контактных данных\r\n                    <information-icon\r\n                        information=\"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <v-btn\r\n                size=\"default\"\r\n                variant=\"flat\"\r\n                color=\"primary\"\r\n                class=\"mt-2\"\r\n                :loading=\"postIsLoading\"\r\n                @click=\"onSaveClick\"\r\n            >\r\n                Сохранить\r\n            </v-btn>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = defineProps<Props>();\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amo-basic-settings__body__switch-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.amo-basic-settings__body__switch-container__switch {\r\n    flex: unset;\r\n    margin-right: 1em;\r\n    padding-left: 10px;\r\n}\r\n</style>\r\n","import script from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-custom.vue?vue&type=style&index=0&id=6a8b8f6d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a8b8f6d\"]])\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n\r\nimport { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport stepInstruction from \"./step-instruction.vue\";\r\nimport stepCustom from \"./step-custom.vue\";\r\n\r\nexport enum WEBHOOK_STEPS {\r\n    INSTRUCTION,\r\n    CUSTOM_BEHAVIOR,\r\n}\r\nexport const possibleSteps = [\"guide\", \"custom_settings\"];\r\nexport const getSteps = (\r\n    routeLocation: RouteLocationNormalizedLoaded\r\n): Array<StepperItem> => {\r\n    return [\r\n        {\r\n            id: WEBHOOK_STEPS.INSTRUCTION,\r\n            name: \"Инструкция по настройке\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[0] } },\r\n            component: stepInstruction,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: WEBHOOK_STEPS.CUSTOM_BEHAVIOR,\r\n            name: \"Настройка поведения\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[1] } },\r\n            component: stepCustom,\r\n            isComplite: false,\r\n        },\r\n    ];\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, possibleSteps } from \"./index\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nuseIntegrationEdit(possibleSteps);\r\n\r\n// onMounted(async () => {\r\n//     useIntegrationStore().getSettingsWebhook(\r\n//         Number(integrationId.value),\r\n//         Number(statId.value)\r\n//     );\r\n// });\r\nconst route = useRoute();\r\n// const statId = computed(() => route.params.statId);\r\n// const integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    tag: \"section\",\n    class: \"yandex-direct-edit\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_toolbar, {\n        density: \"compact\",\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar_title, { tag: \"h1\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Tilda\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(UrlStepper), {\n        steps: steps.value,\n        \"selected-id\": selectedId.value,\n        \"type-lead-source-itntegration\": props.typeLeadSourceItntegration\n      }, null, 8, [\"steps\", \"selected-id\", \"type-lead-source-itntegration\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card tag=\"section\" class=\"yandex-direct-edit\">\r\n        <v-toolbar density=\"compact\" color=\"primary\">\r\n            <v-toolbar-title tag=\"h1\">Tilda</v-toolbar-title>\r\n        </v-toolbar>\r\n\r\n        <url-stepper\r\n            :steps=\"steps\"\r\n            :selected-id=\"selectedId\"\r\n            :type-lead-source-itntegration=\"props.typeLeadSourceItntegration\"\r\n        />\r\n    </v-card>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { WebhookModel } from \"@/entities/webhook\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport UrlStepper, { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport { computed, ref, shallowRef, watch } from \"vue\";\r\n\r\nimport { onMounted } from \"vue\";\r\nimport {\r\n    onBeforeRouteUpdate,\r\n    RouteLocationNamedRaw,\r\n    useRoute,\r\n} from \"vue-router\";\r\nimport { getSteps, possibleSteps } from \"./index\";\r\nimport { useIntegrationEdit } from \"../useIntegrationEdit\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { Props } from \"./useWebhookState\";\r\nuseIntegrationEdit(possibleSteps);\r\n\r\n// onMounted(async () => {\r\n//     useIntegrationStore().getSettingsWebhook(\r\n//         Number(integrationId.value),\r\n//         Number(statId.value)\r\n//     );\r\n// });\r\nconst route = useRoute();\r\n// const statId = computed(() => route.params.statId);\r\n// const integrationId = computed(() => route.params.id);\r\n\r\nconst steps = shallowRef<Array<StepperItem>>(getSteps(route));\r\n\r\nconst selectedId = computed(() => {\r\n    const currRoute = steps.value.find((step) => {\r\n        return (\r\n            (step.route as RouteLocationNamedRaw)?.query?.step ===\r\n            route.query.step\r\n        );\r\n    });\r\n    if (currRoute) return currRoute.id;\r\n    else return 0;\r\n});\r\nconst props = defineProps<Props>();\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4de87084\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Инструкция по настройке Tilda\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" Интеграция с Tilda позволяет отслеживать заявки поситителей, оставленные на вашем сайте и автоматически создавать полученные лиды в CRM. Для интеграции Необходимо в настройках Tilda зайти в раздел Мои сайты - необходимый сайт- Настройки - Формы - Сервисы приема данных из форм. \", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" ВЫбрать Webhook? скопировать адрес ниже, отметить галочки посылать cookies и сохранить. \", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" В каждой форме должен быть подключен соответствующий сервис во вкладке Контент. \", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" Чтобы из форм генгерировались лиды необходимо наличие хотя бы одного из полей формы: phone, email, \", -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \" Дополнительно при формировании лида могут быть использованы поля формы: name, comment. \", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"URL:\", -1))\n\nimport { computed, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook/model\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-instruction',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst props = __props;\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _hoisted_4,\n    _hoisted_5,\n    _hoisted_6,\n    _hoisted_7,\n    _createElementVNode(\"div\", null, [\n      _hoisted_8,\n      _createElementVNode(\"pre\", null, _toDisplayString(_unref(existComlex)?.webhook_url), 1)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Инструкция по настройке Tilda</h3>\r\n        <p>\r\n            Интеграция с Tilda позволяет отслеживать заявки поситителей,\r\n            оставленные на вашем сайте и автоматически создавать полученные лиды\r\n            в CRM. Для интеграции Необходимо в настройках Tilda зайти в раздел\r\n            Мои сайты - необходимый сайт- Настройки - Формы - Сервисы приема\r\n            данных из форм.\r\n        </p>\r\n        <p>\r\n            ВЫбрать Webhook? скопировать адрес ниже, отметить галочки посылать\r\n            cookies и сохранить.\r\n        </p>\r\n        <p>\r\n            В каждой форме должен быть подключен соответствующий сервис во\r\n            вкладке Контент.\r\n        </p>\r\n        <p>\r\n            Чтобы из форм генгерировались лиды необходимо наличие хотя бы одного\r\n            из полей формы: phone, email,\r\n        </p>\r\n        <p>\r\n            Дополнительно при формировании лида могут быть использованы поля\r\n            формы: name, comment.\r\n        </p>\r\n\r\n        <div>\r\n            <b>URL:</b>\r\n            <pre>{{ existComlex?.webhook_url }}</pre>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, defineProps, toRef } from \"vue\";\r\nimport { Props } from \"./useWebhookState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { WebhookModel } from \"@/entities/webhook/model\";\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\nconst props = defineProps<Props>();\r\n\r\nconst { data: existComlex, executeRequest } = useAsyncState({\r\n    immediate: true,\r\n    request: WebhookModel.getSourceWebhook,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n</script>\r\n<style scoped>\r\npre {\r\n    display: block;\r\n    padding: 9.5px;\r\n    margin: 20px 0;\r\n    font-size: 13px;\r\n    line-height: 1.42857143;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    color: #333333;\r\n    background-color: #f5f5f5;\r\n    border: 1px solid #cccccc;\r\n    border-radius: 4px;\r\n}\r\n</style>\r\n","import script from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-instruction.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-instruction.vue?vue&type=style&index=0&id=4de87084&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4de87084\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27a95419\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"amo-basic-settings\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"amo-card__header\" }, \"Настройка поведения\", -1))\nconst _hoisted_3 = { class: \"amo-basic-settings__body\" }\nconst _hoisted_4 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_5 = { for: \"amo-send-lead-setting1\" }\nconst _hoisted_6 = { class: \"amo-basic-settings__body__switch-container\" }\nconst _hoisted_7 = { for: \"amo-send-lead-setting2\" }\n\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'step-custom',\n  props: {\n    isOpen: { type: Boolean },\n    typeLeadSourceItntegration: {}\n  },\n  setup(__props: any) {\n\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = __props;\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_switch = _resolveComponent(\"v-switch\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting1\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: sendToCrm.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sendToCrm).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_5, [\n          _createTextVNode(\" Отправлять заявки в CRM \"),\n          _createVNode(informationIcon, { information: \"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\" })\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(_component_v_switch, {\n          id: \"amo-send-lead-setting2\",\n          color: \"primary\",\n          class: \"amo-basic-settings__body__switch-container__switch\",\n          modelValue: addWithoutContact.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((addWithoutContact).value = $event))\n        }, null, 8, [\"modelValue\"]),\n        _createElementVNode(\"label\", _hoisted_7, [\n          _createTextVNode(\" Создавать заявки без контактных данных \"),\n          _createVNode(informationIcon, { information: \"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\" })\n        ])\n      ]),\n      _createVNode(_component_v_btn, {\n        size: \"default\",\n        variant: \"flat\",\n        color: \"primary\",\n        class: \"mt-2\",\n        loading: _unref(postIsLoading),\n        onClick: onSaveClick\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Сохранить \")\n        ]),\n        _: 1\n      }, 8, [\"loading\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"amo-basic-settings\">\r\n        <h3 class=\"amo-card__header\">Настройка поведения</h3>\r\n\r\n        <div class=\"amo-basic-settings__body\">\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting1\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"sendToCrm\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting1\">\r\n                    Отправлять заявки в CRM\r\n                    <information-icon\r\n                        information=\"Если отключено, то лиды будут создаваться в нашем списке отправленных заявок, но не будут отправляться в CRM.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div class=\"amo-basic-settings__body__switch-container\">\r\n                <v-switch\r\n                    id=\"amo-send-lead-setting2\"\r\n                    color=\"primary\"\r\n                    class=\"amo-basic-settings__body__switch-container__switch\"\r\n                    v-model=\"addWithoutContact\"\r\n                />\r\n\r\n                <label for=\"amo-send-lead-setting2\">\r\n                    Создавать заявки без контактных данных\r\n                    <information-icon\r\n                        information=\"Отправить заявку в CRM-систему даже в случае отсутствия контактных данных клиента.\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <v-btn\r\n                size=\"default\"\r\n                variant=\"flat\"\r\n                color=\"primary\"\r\n                class=\"mt-2\"\r\n                :loading=\"postIsLoading\"\r\n                @click=\"onSaveClick\"\r\n            >\r\n                Сохранить\r\n            </v-btn>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport informationIcon from \"@/shared/libs/information-icon/information_icon.vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { IS_ENABLE, WebhookModel } from \"@/entities/webhook\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Props } from \"./useWebhookState\";\r\nconst { integrationWebhookSettings } = storeToRefs(useIntegrationStore());\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\nconst sendToCrm = ref();\r\n\r\nconst addWithoutContact = ref();\r\n\r\nconst {\r\n    data: resultPut,\r\n    isLoading: postIsLoading,\r\n    error: postError,\r\n    isError: postIsError,\r\n    executeRequest: putRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.putSettingSourceWebhook,\r\n    immediate: false,\r\n});\r\nconst props = defineProps<Props>();\r\nconst {\r\n    data: resultGet,\r\n    isLoading: getIsLoading,\r\n    error: getError,\r\n    isError: getIsError,\r\n    executeRequest: getRequest,\r\n} = useAsyncState({\r\n    request: WebhookModel.getSettingSourceWebhook,\r\n    immediate: true,\r\n    initialArgs: [\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        Number(props.typeLeadSourceItntegration),\r\n    ],\r\n});\r\n\r\nonMounted(async () => {\r\n    setTimeout(() => {\r\n        resultGet.value?.is_enable_sending_lead == 1\r\n            ? (sendToCrm.value = true)\r\n            : (sendToCrm.value = false);\r\n\r\n        resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n            ? (addWithoutContact.value = true)\r\n            : (addWithoutContact.value = false);\r\n    }, 200);\r\n\r\n    // setTimeout(() => {\r\n    //     integrationWebhookSettings.value?.is_enable_sending_lead ===\r\n    //     IS_ENABLE.on\r\n    //         ? (sendToCrm.value = true)\r\n    //         : (sendToCrm.value = false);\r\n    //     integrationWebhookSettings.value\r\n    //         ?.is_enable_creating_lead_without_contacts === IS_ENABLE.on\r\n    //         ? (addWithoutContact.value = true)\r\n    //         : (addWithoutContact.value = false);\r\n    // }, 300);\r\n});\r\n\r\nconst onSaveClick = async () => {\r\n    putRequest(\r\n        Number(integrationId.value),\r\n        Number(statId.value),\r\n        {\r\n            is_enable_sending_lead: sendToCrm.value ? 1 : 0,\r\n            is_enable_creating_lead_without_contacts: addWithoutContact.value\r\n                ? 1\r\n                : 0,\r\n        },\r\n        Number(props.typeLeadSourceItntegration)\r\n    );\r\n    setTimeout(() => {\r\n        getRequest(\r\n            Number(integrationId.value),\r\n            Number(statId.value),\r\n            Number(props.typeLeadSourceItntegration)\r\n        );\r\n        setTimeout(() => {\r\n            resultGet.value?.is_enable_sending_lead == 1\r\n                ? (sendToCrm.value = true)\r\n                : (sendToCrm.value = false);\r\n\r\n            resultGet.value?.is_enable_creating_lead_without_contacts == 1\r\n                ? (addWithoutContact.value = true)\r\n                : (addWithoutContact.value = false);\r\n        }, 200);\r\n    }, 200);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amo-basic-settings__body__switch-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.amo-basic-settings__body__switch-container__switch {\r\n    flex: unset;\r\n    margin-right: 1em;\r\n    padding-left: 10px;\r\n}\r\n</style>\r\n","import script from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./step-custom.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./step-custom.vue?vue&type=style&index=0&id=27a95419&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-27a95419\"]])\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n\r\nimport { RouteLocationNormalizedLoaded } from \"vue-router\";\r\nimport { StepperItem } from \"@/shared/libs/url-stepper\";\r\nimport stepInstruction from \"./step-instruction.vue\";\r\nimport stepCustom from \"./step-custom.vue\";\r\n\r\nexport enum WEBHOOK_STEPS {\r\n    INSTRUCTION,\r\n    CUSTOM_BEHAVIOR,\r\n}\r\nexport const possibleSteps = [\"guide\", \"custom_settings\"];\r\nexport const getSteps = (\r\n    routeLocation: RouteLocationNormalizedLoaded\r\n): Array<StepperItem> => {\r\n    return [\r\n        {\r\n            id: WEBHOOK_STEPS.INSTRUCTION,\r\n            name: \"Инструкция по настройке\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[0] } },\r\n            component: stepInstruction,\r\n            isComplite: false,\r\n        },\r\n        {\r\n            id: WEBHOOK_STEPS.CUSTOM_BEHAVIOR,\r\n            name: \"Настройка поведения\",\r\n            route: { ...routeLocation, query: { step: possibleSteps[1] } },\r\n            component: stepCustom,\r\n            isComplite: false,\r\n        },\r\n    ];\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\"\n\nimport { onMounted, watch } from \"vue\";\r\nimport AmoEdit from \"./amo\";\r\nimport YandexDirectEdit from \"./yandex-direct\";\r\nimport LeadSourceEdit from \"./lead-source\";\r\nimport LeadSourceWebhookEdit from \"./lead-source-webhook\";\r\nimport LeadSourceFlexberEdit from \"./lead-source-flexbe\";\r\nimport LeadSourceTildaEdit from \"./lead-source-tilda\";\r\n\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_TYPE,\r\n    IntegrationModel,\r\n} from \"@/entities/integrations\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { watchEffect } from \"vue\";\r\nimport { router } from \"@/app/providers\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { computed } from \"vue\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst route = useRoute();\r\n\r\nconst {\r\n    data: integration,\r\n    isLoading,\r\n    isError,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    request: IntegrationModel.get,\r\n    initialArgs: [\r\n        parseInt(\r\n            Array.isArray(route.params.statId) ? \"-1\" : route.params.statId\r\n        ),\r\n        parseInt(Array.isArray(route.params.id) ? \"-1\" : route.params.id),\r\n    ],\r\n});\r\n\r\nwatch(\r\n    () => route.params,\r\n    () => {\r\n        executeRequest(\r\n            parseInt(\r\n                Array.isArray(route.params.statId) ? \"-1\" : route.params.statId\r\n            ),\r\n            parseInt(Array.isArray(route.params.id) ? \"-1\" : route.params.id)\r\n        );\r\n    }\r\n);\r\nwatchEffect(() => {\r\n    if (isError.value) {\r\n        router.push({ name: ROUTE_NAMES.NotFound });\r\n    }\r\n});\r\n\r\nconst integrationEditComponent = computed<any | undefined>(() => {\r\n    if (!integration.value) return undefined;\r\n\r\n    switch (integration.value.integration_type) {\r\n        case INTEGRATION_CATEGORY.CRM:\r\n            return AmoEdit;\r\n        case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n            return YandexDirectEdit;\r\n        case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n            if (integration.value.type == 2) {\r\n                return LeadSourceWebhookEdit;\r\n            } else if (integration.value.type == 3) {\r\n                return LeadSourceFlexberEdit;\r\n            } else if (integration.value.type == 4) {\r\n                return LeadSourceTildaEdit;\r\n            } else {\r\n                return LeadSourceEdit;\r\n            }\r\n\r\n        default:\r\n            return undefined;\r\n    }\r\n});\r\nonMounted(() => {\r\n    if (integration.value) {\r\n        useIntegrationStore().getLeadSourceIntegrationType(\r\n            Number(integration.value.type)\r\n        );\r\n    }\r\n    if (integration.value?.type == 2) {\r\n        setTimeout(() => {\r\n            useIntegrationStore().getSettingsWebhook(\r\n                Number(route.params.id),\r\n                Number(route.params.statId)\r\n            );\r\n        }, 200);\r\n    }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_fade_transition = _resolveComponent(\"v-fade-transition\")!\n\n  return (_openBlock(), _createBlock(_component_v_fade_transition, null, {\n    default: _withCtx(() => [\n      (_openBlock(), _createBlock(_resolveDynamicComponent(integrationEditComponent.value), {\n        typeLeadSourceItntegration: _unref(integration)?.type\n      }, null, 8, [\"typeLeadSourceItntegration\"]))\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-fade-transition>\r\n        <component\r\n            :is=\"integrationEditComponent\"\r\n            :typeLeadSourceItntegration=\"integration?.type\"\r\n        />\r\n    </v-fade-transition>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted, watch } from \"vue\";\r\nimport AmoEdit from \"./amo\";\r\nimport YandexDirectEdit from \"./yandex-direct\";\r\nimport LeadSourceEdit from \"./lead-source\";\r\nimport LeadSourceWebhookEdit from \"./lead-source-webhook\";\r\nimport LeadSourceFlexberEdit from \"./lead-source-flexbe\";\r\nimport LeadSourceTildaEdit from \"./lead-source-tilda\";\r\n\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_TYPE,\r\n    IntegrationModel,\r\n} from \"@/entities/integrations\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { watchEffect } from \"vue\";\r\nimport { router } from \"@/app/providers\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { computed } from \"vue\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\n\r\nconst route = useRoute();\r\n\r\nconst {\r\n    data: integration,\r\n    isLoading,\r\n    isError,\r\n    executeRequest,\r\n} = useAsyncState({\r\n    request: IntegrationModel.get,\r\n    initialArgs: [\r\n        parseInt(\r\n            Array.isArray(route.params.statId) ? \"-1\" : route.params.statId\r\n        ),\r\n        parseInt(Array.isArray(route.params.id) ? \"-1\" : route.params.id),\r\n    ],\r\n});\r\n\r\nwatch(\r\n    () => route.params,\r\n    () => {\r\n        executeRequest(\r\n            parseInt(\r\n                Array.isArray(route.params.statId) ? \"-1\" : route.params.statId\r\n            ),\r\n            parseInt(Array.isArray(route.params.id) ? \"-1\" : route.params.id)\r\n        );\r\n    }\r\n);\r\nwatchEffect(() => {\r\n    if (isError.value) {\r\n        router.push({ name: ROUTE_NAMES.NotFound });\r\n    }\r\n});\r\n\r\nconst integrationEditComponent = computed<any | undefined>(() => {\r\n    if (!integration.value) return undefined;\r\n\r\n    switch (integration.value.integration_type) {\r\n        case INTEGRATION_CATEGORY.CRM:\r\n            return AmoEdit;\r\n        case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n            return YandexDirectEdit;\r\n        case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n            if (integration.value.type == 2) {\r\n                return LeadSourceWebhookEdit;\r\n            } else if (integration.value.type == 3) {\r\n                return LeadSourceFlexberEdit;\r\n            } else if (integration.value.type == 4) {\r\n                return LeadSourceTildaEdit;\r\n            } else {\r\n                return LeadSourceEdit;\r\n            }\r\n\r\n        default:\r\n            return undefined;\r\n    }\r\n});\r\nonMounted(() => {\r\n    if (integration.value) {\r\n        useIntegrationStore().getLeadSourceIntegrationType(\r\n            Number(integration.value.type)\r\n        );\r\n    }\r\n    if (integration.value?.type == 2) {\r\n        setTimeout(() => {\r\n            useIntegrationStore().getSettingsWebhook(\r\n                Number(route.params.id),\r\n                Number(route.params.statId)\r\n            );\r\n        }, 200);\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import main from \"./index.vue\";\r\nexport default main;\r\n"],"names":["useIntegrationStore","defineStore","state","integrationListIsUpdating","integrationListUpdatingError","integrationList","integrationWebhookSettings","undefined","integrationLeadSourceType","getters","getAllCRM","filter","int","integration_type","INTEGRATION_CATEGORY","CRM","getAmoCRM","type","CATEGORY_CRM","amoCRM","getWehookIntegration","INTEGRATION_TYPE","LEAD_SOURCE","WEBHOOK","getAllLeadSource","getAllAdvertisingChannels","ADVERTISING_CHANNELS","actions","updateIntegrationList","stat_id","this","IntegrationModel","getAll","error","toString","add","status","data","result","postIntegration","addedIntegration","get","push","getLeadSourceIntegrationType","getSettingsWebhook","integration_id","WebhookModel","getSettingSourceWebhook","init","Promise","all","remove","id","YandexDirectModel","putSettingChannel","ApiYandexDirect","getInstance","PUT_SETTING","postIntegrationChannel","POST_INTEGRATION","putSettingCampaign","PUT_CAMPAIGN","getSettingChannel","GET_SETTING","postAuthChannel","POST_AUTH","getExistChannel","GET_EXIST","getCampaignChannels","useAmoStep","isOpen","initialRequest","watch","newValue","_hoisted_1","key","class","_hoisted_2","_defineComponent","__name","props","Boolean","setup","__props","route","useRoute","statId","computed","params","integrationId","isLoading","executeRequest","isError","useAsyncState","request","AmoModel","getUrlForIntegration","initialArgs","Number","existComlex","updateExistComplex","immediate","getIntegrationExistComplex","value","useAmoState","toRef","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_withDirectives","_createVNode","_component_v_btn","loading","_unref","color","variant","size","href","text","_vShow","status_allocation","_component_v_scroll_x_transition","default","_withCtx","_createCommentVNode","_","_component_v_scale_transition","_toDisplayString","__exports__","InformationIconType","InformationIconLocation","render","$props","$setup","$data","$options","_component_v_icon","style","icon","_component_v_tooltip","activator","information","location","lacation","defineComponent","name","String","info","top","allocationId","title","hint","headerClasses","itemList","expose","__expose","toRefs","statusList","newVal","draggableAttr","animation","disabled","forceFallback","ghostClass","dragClass","chosenClass","fallbackTolerance","scrollSensitivity","getStatusList","_createElementVNode","_normalizeClass","_createTextVNode","informationIcon","_createBlock","_component_v_progress_linear","indeterminate","_component_v_fade_transition","draggable","_mergeProps","modelValue","$event","group","tag","item","element","show_name","CARDS_TYPE","cardsToAllocationStatus","PAID","STATUS_ALLOCATION","IN_PROGRESS","CANSELED","CANCELED","formFieldsOptions","clearable","hideDetails","itemTitle","itemValue","returnObject","noDataText","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","router","useRouter","statuses","getAllStatusByPipeline","undefiCard","cards","find","card","UNDEFINED","inProgCard","paidCard","canseledCard","cardRefs","ref","postButtonText","saveAndContinue","isPostLoading","settingsAllocation","forEach","cardComponent","cardId","map","status_id","pipeline_id","concat","executePost","onPostSuccess","setTimeout","query","step","possibleSteps","finally","postIsError","postError","postSettingsAllocation","onSuccess","_renderList","statusCard","ref_for","ref_key","onClick","_createStaticVNode","RouterLink","to","ROUTE_NAMES","Settings_Integrations","_hoisted_9","fields","getAllFields","maxLengthRule","length","form","filterValue","revenue","cost","profit","submit","async","validate","valid","collectSetting","postBtnText","postIsLoading","postSetting","responsible_user_id","send_leads_to_unsorted","filtering_value","form_id","form_name","refresh","_component_v_form","onSubmit","_withModifiers","_component_v_autocomplete","autofocus","items","_component_v_text_field","counter","rules","DB_BOOLEAN","makeVSwitchProps","propsFactory","inset","flat","makeVInputProps","makeVSelectionControlProps","VSwitch","genericComponent","inheritAttrs","emits","focused","_ref","attrs","slots","useProxiedModel","model","loaderClasses","useLoader","isFocused","focus","blur","useFocus","control","loaderColor","uid","getUid","onChange","onTrackClick","e","stopPropagation","preventDefault","input","click","useRender","rootAttrs","controlAttrs","filterInputAttrs","inputProps","VInput","filterProps","controlProps","VSelectionControl","_ref2","messagesId","isDisabled","isReadonly","isValid","_ref3","backgroundColorClasses","backgroundColorStyles","_ref4","inputNode","VScaleTransition","LoaderSlot","slotProps","loader","VProgressCircular","isActive","VIcon","for","_hoisted_10","_hoisted_11","users","usersIsLoading","usersIsError","usersError","usersExecuteRequest","getAllUsers","pipelines","pipelinesIsLoading","pipelinesIsError","pipelinesError","pipelineExecuteRequest","getAllPipeline","responsibleUserId","pipelineId","sendLeadsToUnsorted","TRUE","FALSE","formId","formName","initialState","onPostSucces","postRequest","onSaveClick","_component_v_switch","useIntegrationEdit","newStep","includes","replace","Settings_Integrations_Edit","makeVStepperActionsProps","prevText","nextText","VStepperActions","click:prev","click:next","emit","t","useLocale","onClickPrev","onClickNext","prevSlotProps","nextSlotProps","VDefaultsProvider","VBtn","prev","next","VStepperHeader","createSimpleFunctional","handleGesture","wrapper","touchstartX","touchendX","touchstartY","touchendY","dirRatio","minDistance","offsetX","offsetY","Math","abs","left","right","up","down","touchstart","event","touch","changedTouches","clientX","clientY","start","originalEvent","touchend","end","touchmove","touchmoveX","touchmoveY","move","createHandlers","arguments","mounted","el","binding","target","parent","parentElement","options","passive","instance","$","handlers","_touchHandlers","Object","create","keys","eventName","addEventListener","unmounted","removeEventListener","Touch","VWindowSymbol","Symbol","VWindowGroupSymbol","makeVWindowProps","continuous","nextIcon","Function","prevIcon","reverse","showArrows","validator","v","direction","selectedClass","mandatory","makeComponentProps","makeTagProps","makeThemeProps","VWindow","directives","themeClasses","provideTheme","isRtl","useRtl","useGroup","rootRef","isRtlReverse","isReversed","shallowRef","transition","axis","transitionCount","transitionHeight","activeIndex","findIndex","selected","oldVal","itemsLength","lastIndex","provide","canMoveBack","canMoveForward","arrows","prevProps","ariaLabel","nextProps","touchOptions","height","additional","_resolveDirective","VStepperSymbol","makeVStepperWindowProps","omit","VStepperWindow","inject","_model","set","val","windowProps","makeVWindowItemProps","reverseTransition","makeGroupItemProps","makeLazyProps","VWindowItem","window","groupItem","useGroupItem","isBooted","useSsrBoot","Error","isTransitioning","hasTransition","onAfterTransition","onBeforeTransition","convertToUnit","clientHeight","onTransitionCancelled","onEnterTransition","nextTick","onBeforeEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onAfterLeave","onLeaveCancelled","onEnter","hasContent","useLazy","isSelected","MaybeTransition","makeVStepperWindowItemProps","VStepperWindowItem","windowItemProps","makeVStepperProps","altLabels","bgColor","editable","hideActions","Array","mobile","nonLinear","makeGroupProps","makeVSheetProps","only","VStepper","_items","index","getPropertyFromItem","raw","provideDefaults","VStepperItem","sheetProps","VSheet","hasHeader","header","hasWindow","hasActions","VDivider","subtitle","makeVStepperItemProps","complete","completeIcon","editIcon","errorIcon","ripple","Ripple","every","handler","canEdit","hasError","hasCompleted","hasColor","hasTitle","hasSubtitle","toggle","VAvatar","steps","selectedId","typeLeadSourceItntegration","stepperItems","selectedStepId","selectedRoute","watchPostEffect","$el","scrollIntoView","err","console","_component_v_stepper","_component_v_stepper_header","isComplite","_component_v_divider","_component_v_stepper_window","_component_v_stepper_window_item","_component_v_card","_resolveDynamicComponent","component","storeToRefs","getSteps","onBeforeRouteUpdate","AMO_STEPS","AUTH","auth","SETTINGS","setting","STATUSES","currRoute","UrlStepper","routeLocation","stepAuth","stepStatuses","PROXY_LEAD","stepProxyLead","stepSettings","BASIC_SETTINGS","stepBasicSettings","CHANNEL_COMPAIGN_STATUS","z","object","campaign_id","number","string","created_at","datetime","nativeEnum","ALLOWED","IGNORE","errorCampaign","settingCampaign","onMounted","headers","sortable","align","desserts","search","changeStatus","campaignId","statusUpdate","log","campaigns","label","_component_v_data_table","script","VTabsSymbol","makeVTabProps","fixed","sliderColor","hideSlider","makeVBtnProps","VTab","textColorClasses","sliderColorClasses","textColorStyles","sliderColorStyles","useTextColor","isHorizontal","rootEl","sliderEl","updateSlider","prevEl","querySelector","nextEl","getComputedStyle","prevBox","getBoundingClientRect","nextBox","xy","XY","rightBottom","widthHeight","prevPos","nextPos","delta","origin","sign","scale","max","initialScale","sigma","animate","backgroundColor","transform","transformOrigin","fill","duration","easing","standardEasing","btnProps","bias","c","x","calculateUpdatedOffset","selectedElement","containerSize","contentSize","currentScrollOffset","clientSize","clientWidth","offsetStart","offsetLeft","offsetTop","adjustedOffsetStart","totalSize","itemOffset","additionalOffset","min","calculateCenteredOffset","offsetCentered","VSlideGroupSymbol","makeVSlideGroupProps","centerActive","symbol","IconValue","makeDisplayProps","VSlideGroup","displayClasses","useDisplay","isOverflowing","scrollOffset","resizeRef","containerRef","contentRect","containerRect","useResizeObserver","contentRef","firstSelectedIndex","lastSelectedIndex","IN_BROWSER","frame","cancelAnimationFrame","requestAnimationFrame","sizeProperty","children","disableTransition","startTouch","startOffset","onTouchstart","touches","onTouchmove","onTouchend","maxScrollOffset","onScroll","onFocusin","composedPath","onFocusout","onFocus","relatedTarget","contains","onKeydown","nextElementSibling","previousElementSibling","firstElementChild","lastElementChild","focusable","focusableChildren","scrollTo","newAbsoluteOffset","clamp","contentStyles","scrollAmount","willChange","select","hasAffixes","hasPrev","hasNext","VFadeTransition","parseItems","isObject","makeVTabsProps","alignTabs","fixedTabs","stacked","grow","makeDensityProps","VTabs","parsedItems","densityClasses","useDensity","useBackgroundColor","slideGroupProps","TABS","tab","CAMPAIGN","statusIntegration","_component_v_toolbar","density","extension","ready_to_configure","_component_v_tabs","_component_v_tab","CHANNEL","_component_v_toolbar_title","_component_v_sheet","elevation","_component_v_expand_transition","_component_v_window","_component_v_window_item","campaignC","channelC","WEBHOOK_STEPS","INSTRUCTION","stepInstruction","getSourceWebhook","webhook_url","sendToCrm","addWithoutContact","resultPut","putRequest","putSettingSourceWebhook","resultGet","getIsLoading","getError","getIsError","getRequest","is_enable_sending_lead","is_enable_creating_lead_without_contacts","statHash","statCounter","useStatStore","copyCounter","navigator","clipboard","writeText","CUSTOM_BEHAVIOR","stepCustom","COUNTER","stepCounter","integration","parseInt","isArray","watchEffect","NotFound","integrationEditComponent","AmoEdit","YandexDirectEdit","LeadSourceWebhookEdit","LeadSourceFlexberEdit","LeadSourceTildaEdit","LeadSourceEdit"],"sourceRoot":""}