{"version":3,"file":"js/935.21722e0c.js","mappings":"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","sources":["webpack://test/./src/shared/api/modules/Integration.ts","webpack://test/./src/entities/integrations/model.ts","webpack://test/./src/entities/integrations/scheme.ts","webpack://test/./src/entities/integrations/store.ts","webpack://test/./src/entities/noks/scheme.ts","webpack://test/./src/entities/noks/model.ts","webpack://test/./src/entities/webhook/scheme.ts","webpack://test/./src/entities/webhook/model.ts","webpack://test/./src/entities/yandex-direct/model.ts","webpack://test/./src/pages/settings/integrations/main/integration-item.vue?98d0","webpack://test/./src/pages/settings/integrations/main/integration-item.vue","webpack://test/./src/pages/settings/integrations/main/integration-item.vue?fe09","webpack://test/./src/pages/settings/integrations/main/tree-node.vue?7b67","webpack://test/./src/pages/settings/integrations/main/tree-node.vue","webpack://test/./src/pages/settings/integrations/main/tree-node.vue?0ba4","webpack://test/./src/pages/settings/integrations/main/logo-node.vue","webpack://test/./src/pages/settings/integrations/main/logo-node.vue?2ed0","webpack://test/./src/pages/settings/integrations/main/NodeFabric.ts","webpack://test/./src/entities/integrations/ui/add-integration/add-integration-modal.vue?e34f","webpack://test/./src/entities/integrations/ui/add-integration/add-integration-modal.vue","webpack://test/./src/entities/integrations/ui/add-integration/add-integration-modal.vue?8e53","webpack://test/./src/entities/integrations/ui/add-integration/_integration-card.vue?b920","webpack://test/./src/entities/integrations/ui/add-integration/_integration-card.vue","webpack://test/./src/entities/integrations/ui/add-integration/_integration-card.vue?9c6d","webpack://test/./src/entities/integrations/ui/add-integration/_success.vue?5239","webpack://test/./src/entities/integrations/ui/add-integration/_success.vue","webpack://test/./src/entities/integrations/ui/add-integration/_success.vue?88c0","webpack://test/./src/entities/integrations/ui/add-integration/yandex-direct/yandex-direct.vue?9a21","webpack://test/./src/entities/integrations/ui/add-integration/yandex-direct/yandex-direct.vue","webpack://test/./src/entities/integrations/ui/add-integration/yandex-direct/yandex-direct.vue?5e8a","webpack://test/./src/entities/integrations/ui/add-integration/noks-site/noks-site.vue?c560","webpack://test/./src/entities/integrations/ui/add-integration/noks-site/noks-site.vue","webpack://test/./src/entities/integrations/ui/add-integration/noks-site/noks-site.vue?97d4","webpack://test/./src/entities/integrations/ui/add-integration/add-integration.vue?2bc5","webpack://test/./src/entities/integrations/ui/add-integration/add-integration.vue","webpack://test/./src/entities/integrations/ui/add-integration/add-integration.vue?b35f","webpack://test/./src/entities/integrations/ui/add-integration/index.ts","webpack://test/./src/pages/settings/integrations/main/index.vue?ca11","webpack://test/./src/pages/settings/integrations/main/index.vue","webpack://test/./src/pages/settings/integrations/main/index.vue?135b","webpack://test/./src/pages/settings/integrations/main/index.ts","webpack://test/./src/shared/api/modules/Flexbe.ts","webpack://test/./src/shared/api/modules/Noks.ts","webpack://test/./src/shared/api/modules/Tilda.ts","webpack://test/./src/shared/api/modules/WebHook.ts","webpack://test/../../../src/components/VAlert/VAlertTitle.ts","webpack://test/../../../src/components/VAlert/VAlert.tsx"],"sourcesContent":["import { z } from \"zod\";\r\nimport { BaseApi } from \"./BaseApi\";\r\nimport {\r\n    Integration,\r\n    SIntegration,\r\n    SIntegrationItem,\r\n    IntegrationItem,\r\n} from \"@/entities/integrations\";\r\n\r\nexport class ApiIntegration extends BaseApi {\r\n    private static instance: ApiIntegration;\r\n    private constructor() {\r\n        super();\r\n    }\r\n    public static getInstance(): ApiIntegration {\r\n        if (!ApiIntegration.instance) {\r\n            ApiIntegration.instance = new ApiIntegration();\r\n        }\r\n        return ApiIntegration.instance;\r\n    }\r\n    public async getAllIntegration(stat_id: number) {\r\n        const result: Integration = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration`,\r\n            },\r\n            SIntegration\r\n        );\r\n        return result.items;\r\n    }\r\n\r\n    public async getIntegrationById(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<Array<IntegrationItem>> {\r\n        const result: Array<IntegrationItem> = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}`,\r\n            },\r\n            z.array(SIntegrationItem)\r\n        );\r\n        return result;\r\n    }\r\n}\r\n","import { IntegrationItem } from \"./types\";\r\nimport { ApiIntegration } from \"@/shared/api/modules/Integration\";\r\nimport { ApiAmo, ApiYandexDirect } from \"@/shared/api/modules\";\r\nimport {\r\n    CATEGORY_ADVERTISING_CHANNELS,\r\n    CATEGORY_CRM,\r\n    CATEGORY_LEAD_SOURCE,\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_STATUS,\r\n    INTEGRATION_TYPE,\r\n} from \"./scheme\";\r\nimport { postYandexDirectIntegration } from \"../yandex-direct\";\r\nimport { ApiNoks } from \"@/shared/api/modules/Noks\";\r\nimport { ApiWebHook } from \"@/shared/api/modules/WebHook\";\r\nimport { ApiFlexbe } from \"@/shared/api/modules/Flexbe\";\r\nimport { ApiTilda } from \"@/shared/api/modules/Tilda\";\r\nexport class IntegrationModel {\r\n    static async getAll(stat_id: number): Promise<Array<IntegrationItem>> {\r\n        return ApiIntegration.getInstance().getAllIntegration(stat_id);\r\n    }\r\n\r\n    static async get(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<IntegrationItem> {\r\n        const result = await ApiIntegration.getInstance().getIntegrationById(\r\n            stat_id,\r\n            integration_id\r\n        );\r\n\r\n        return result[0];\r\n    }\r\n\r\n    static async postIntegration(\r\n        stat_id: number,\r\n        status: INTEGRATION_STATUS,\r\n        type: number,\r\n        data: postYandexDirectIntegration,\r\n        integration_type: INTEGRATION_CATEGORY\r\n    ): Promise<number> {\r\n        switch (integration_type) {\r\n            case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n                if (type === CATEGORY_LEAD_SOURCE.NOKS_SITE) {\r\n                    return ApiNoks.getInstance().postIntegrationSource(\r\n                        stat_id,\r\n                        \"Название сайта\"\r\n                    );\r\n                } else if (type === CATEGORY_LEAD_SOURCE.WEBHOOK) {\r\n                    return ApiWebHook.getInstance().postIntegrationSourceWebhook(\r\n                        stat_id\r\n                    );\r\n                } else if (type === CATEGORY_LEAD_SOURCE.FLEXBE) {\r\n                    return ApiFlexbe.getInstance().postIntegrationSourceWebhook(\r\n                        stat_id\r\n                    );\r\n                } else if (type === CATEGORY_LEAD_SOURCE.TILDA) {\r\n                    return ApiTilda.getInstance().postIntegrationSourceWebhook(\r\n                        stat_id\r\n                    );\r\n                } else {\r\n                    return 0;\r\n                }\r\n                break;\r\n            case INTEGRATION_CATEGORY.CRM:\r\n                if (type === CATEGORY_CRM.amoCRM) {\r\n                    return ApiAmo.getInstance().postIntegrationCRM(\r\n                        stat_id,\r\n                        status\r\n                    );\r\n                } else {\r\n                    return 0;\r\n                }\r\n                break;\r\n            case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n                if (type === CATEGORY_ADVERTISING_CHANNELS.YANDEX_DIRECT) {\r\n                    return ApiYandexDirect.getInstance().POST_INTEGRATION(\r\n                        stat_id,\r\n                        { name: \"\" }\r\n                    );\r\n                } else {\r\n                    return 0;\r\n                }\r\n                break;\r\n            default:\r\n                return ApiNoks.getInstance().postIntegrationSource(\r\n                    stat_id,\r\n                    \"Название сайта\"\r\n                );\r\n        }\r\n    }\r\n}\r\n","import { z } from \"zod\";\r\n//WARNING ЕСЛИ БУДЕШЬ МЕНЯТЬ  enum ПРОВЕРЬ ВСЕ Object.keys(INTEGRATION_CATEGORY) да и вообще проверить add-integration\r\nexport enum INTEGRATION_CATEGORY {\r\n    LEAD_SOURCE = 1,\r\n    CRM = 2,\r\n    ADVERTISING_CHANNELS = 3,\r\n}\r\n\r\n// export enum INTEGRATION_TYPE {\r\n//     AMO = 1,\r\n//     YANDEX_DIRECT = 2,\r\n//     NOKS = 3,\r\n// }\r\n\r\nexport const INTEGRATION_TYPE = {\r\n    [INTEGRATION_CATEGORY.LEAD_SOURCE]: {\r\n        NOKS_SITE: 1,\r\n        WEBHOOK: 2,\r\n        FLEXBE: 3,\r\n        TILDA: 4,\r\n    },\r\n    [INTEGRATION_CATEGORY.CRM]: {\r\n        amoCRM: 1,\r\n    },\r\n    [INTEGRATION_CATEGORY.ADVERTISING_CHANNELS]: {\r\n        YANDEX_DIRECT: 1,\r\n        GOOGLE_ADSENSE: 2,\r\n    },\r\n};\r\n\r\nexport const Info = z.object({\r\n    limit: z.number(),\r\n    count: z.number(),\r\n    pages: z.number(),\r\n    nextPage: z.string().nullable(),\r\n    prevPage: z.string().nullable(),\r\n});\r\nexport const SIntegrationItem = z.object({\r\n    stat_id: z.number(),\r\n    integration_id: z.number(),\r\n    integration_type: z.nativeEnum(INTEGRATION_CATEGORY),\r\n    integration_created_at: z.string(),\r\n    integration_updated_at: z.string(),\r\n    type: z.number(),\r\n    created_at: z.string(),\r\n    updated_at: z.string(),\r\n});\r\n// export const SIntegrationItem = z.object({\r\n//     stat_id: z.number(),\r\n//     integration_id: z.number(),\r\n//     integration_type: z.nativeEnum(INTEGRATION_CATEGORY),\r\n//     integration_created_at: z.string(),\r\n//     integration_updated_at: z.string(),\r\n//     type: z.nativeEnum(INTEGRATION_TYPE),\r\n//     created_at: z.string(),\r\n//     updated_at: z.string(),\r\n// });\r\n\r\nexport const SIntegration = z.object({\r\n    info: Info,\r\n    items: z.array(SIntegrationItem),\r\n});\r\n//old\r\nexport enum INTEGRATION_STATUS {\r\n    SUCCESS = \"SUCCESS\",\r\n    WARNING = \"WARNING\",\r\n    ERROR = \"ERROR\",\r\n    IN_PROGRESS = \"IN_PROGRESS\",\r\n}\r\n\r\nexport enum CATEGORY_LEAD_SOURCE {\r\n    NOKS_SITE = 1,\r\n    WEBHOOK = 2,\r\n    FLEXBE = 3,\r\n    TILDA = 4,\r\n}\r\nexport enum CATEGORY_CRM {\r\n    amoCRM = 1,\r\n}\r\nexport enum CATEGORY_ADVERTISING_CHANNELS {\r\n    YANDEX_DIRECT = 1,\r\n    GOOGLE_ADSENSE = 2,\r\n}\r\nexport const SIntegrationItemCrm = z.object({\r\n    stat_id: z.number(),\r\n    integration_id: z.number(),\r\n    integration_type: z.nativeEnum(INTEGRATION_CATEGORY),\r\n    integration_created_at: z.string(),\r\n    integration_updated_at: z.string(),\r\n    type: z.nativeEnum(CATEGORY_CRM),\r\n    created_at: z.string(),\r\n    updated_at: z.string(),\r\n});\r\nexport const SIntegrationItemLeadSource = z.object({\r\n    stat_id: z.number(),\r\n    integration_id: z.number(),\r\n    integration_type: z.nativeEnum(INTEGRATION_CATEGORY),\r\n    integration_created_at: z.string(),\r\n    integration_updated_at: z.string(),\r\n    type: z.nativeEnum(CATEGORY_LEAD_SOURCE),\r\n    created_at: z.string(),\r\n    updated_at: z.string(),\r\n});\r\nexport const SIntegrationItemAdvChannels = z.object({\r\n    stat_id: z.number(),\r\n    integration_id: z.number(),\r\n    integration_type: z.nativeEnum(INTEGRATION_CATEGORY),\r\n    integration_created_at: z.string(),\r\n    integration_updated_at: z.string(),\r\n    type: z.nativeEnum(CATEGORY_ADVERTISING_CHANNELS),\r\n    created_at: z.string(),\r\n    updated_at: z.string(),\r\n});\r\n","import { defineStore } from \"pinia\";\r\nimport { Integration, IntegrationItem } from \"./types\";\r\nimport { IntegrationModel } from \"./model\";\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_STATUS,\r\n    INTEGRATION_TYPE,\r\n    CATEGORY_CRM,\r\n} from \"./scheme\";\r\nimport { postYandexDirectIntegration } from \"../yandex-direct\";\r\nimport { WebhookModel, WebhookSettingsSource } from \"../webhook\";\r\nimport { intersection } from \"zod\";\r\nimport { ApiIntegration } from \"@/shared/api/modules/Integration\";\r\n\r\nexport const useIntegrationStore = defineStore(\"integration-store\", {\r\n    state: () => ({\r\n        integrationListIsUpdating: true as boolean,\r\n        integrationListUpdatingError: false as false | string,\r\n        integrationList: [] as Array<IntegrationItem>,\r\n        integrationWebhookSettings: undefined as\r\n            | undefined\r\n            | WebhookSettingsSource,\r\n        integrationLeadSourceType: -1 as number,\r\n    }),\r\n    getters: {\r\n        getAllCRM: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return int.integration_type === INTEGRATION_CATEGORY.CRM;\r\n            });\r\n        },\r\n        getAmoCRM: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.type === CATEGORY_CRM.amoCRM &&\r\n                    int.integration_type === INTEGRATION_CATEGORY.CRM\r\n                );\r\n            });\r\n        },\r\n        getWehookIntegration: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.type ===\r\n                        INTEGRATION_TYPE[INTEGRATION_CATEGORY.LEAD_SOURCE]\r\n                            .WEBHOOK &&\r\n                    int.integration_type === INTEGRATION_CATEGORY.LEAD_SOURCE\r\n                );\r\n            });\r\n        },\r\n        getAllLeadSource: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.integration_type === INTEGRATION_CATEGORY.LEAD_SOURCE\r\n                );\r\n            });\r\n        },\r\n        getAllAdvertisingChannels: (state) => {\r\n            return state.integrationList.filter((int) => {\r\n                return (\r\n                    int.integration_type ===\r\n                    INTEGRATION_CATEGORY.ADVERTISING_CHANNELS\r\n                );\r\n            });\r\n        },\r\n    },\r\n\r\n    actions: {\r\n        async updateIntegrationList(stat_id: number) {\r\n            this.integrationListIsUpdating = true;\r\n            this.integrationListUpdatingError = false;\r\n            try {\r\n                this.integrationList = await IntegrationModel.getAll(stat_id);\r\n            } catch (error: any) {\r\n                this.integrationListUpdatingError = error.toString\r\n                    ? error.toString()\r\n                    : \"При обновлении интеграция произошла ошибка\";\r\n            }\r\n            this.integrationListIsUpdating = true;\r\n        },\r\n        async add(\r\n            stat_id: number,\r\n            status: INTEGRATION_STATUS,\r\n            type: number,\r\n            data: postYandexDirectIntegration,\r\n            integration_type: INTEGRATION_CATEGORY\r\n        ): Promise<number> {\r\n            const result = await IntegrationModel.postIntegration(\r\n                stat_id,\r\n                status,\r\n                type,\r\n                data,\r\n                integration_type\r\n            );\r\n            const addedIntegration = await IntegrationModel.get(\r\n                stat_id,\r\n                result\r\n            );\r\n\r\n            this.integrationList.push(addedIntegration);\r\n\r\n            //По полученному id получить информацию об интеграции и положить в стору.\r\n            return result;\r\n        },\r\n        async getLeadSourceIntegrationType(integration_type: number) {\r\n            // const result =\r\n            //     await ApiIntegration.getInstance().getIntegrationById(\r\n            //         stat_id,\r\n            //         integration_id\r\n            //     );\r\n            // console.log(\"getLeadSourceIntegrationType\", result[0].type);\r\n            this.integrationLeadSourceType = integration_type;\r\n        },\r\n        async getSettingsWebhook(\r\n            stat_id: number,\r\n            integration_id: number\r\n        ): Promise<WebhookSettingsSource | undefined> {\r\n            const result = await WebhookModel.getSettingSourceWebhook(\r\n                stat_id,\r\n                integration_id,\r\n                this.integrationLeadSourceType\r\n            );\r\n            this.integrationWebhookSettings = result;\r\n            return result;\r\n        },\r\n        async init(stat_id: number): Promise<boolean> {\r\n            try {\r\n                await Promise.all([this.updateIntegrationList(stat_id)]);\r\n                return true;\r\n            } catch (error) {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        async remove(id: number) {\r\n            // console.log(\"remove\");\r\n            // const result = await IntegrationModel.delete(id);\r\n            // if (result) {\r\n            //     this.integrationList = this.integrationList.filter(\r\n            //         (value) => value.id !== id\r\n            //     );\r\n            // }\r\n            return true;\r\n        },\r\n    },\r\n});\r\n","import { number, z } from \"zod\";\r\n\r\nexport const SNoksSitesItem = z.object({\r\n    site_id: z.number(),\r\n    name: z.string(),\r\n});\r\n\r\nexport const SNoksSites = z.array(SNoksSitesItem);\r\n\r\nexport const SNoksComplex = z.object({\r\n    auth: z.boolean(),\r\n    setting: z.boolean(),\r\n});\r\n// export const SWebhookComplex = z.object({\r\n//     integration_id: z.number(),\r\n//     key: z.string(),\r\n//     webhook_url: z.string(),\r\n// });\r\n","import { ApiNoks } from \"@/shared/api/modules/Noks\";\r\nimport { setAsyncTimeout } from \"@/shared/libs/async\";\r\nimport { NoksSites } from \"./types\";\r\n\r\nexport class NoksModel {\r\n    static async postIntegration(\r\n        stat_id: number,\r\n        name: string\r\n    ): Promise<number> {\r\n        return ApiNoks.getInstance().postIntegrationSource(stat_id, name);\r\n    }\r\n\r\n    static async postIntegrationAuthSource(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        site_id: number\r\n    ): Promise<boolean> {\r\n        return ApiNoks.getInstance().postAuthSource(\r\n            stat_id,\r\n            integration_id,\r\n            site_id\r\n        );\r\n    }\r\n\r\n    static async getSites(\r\n        integration_id: number,\r\n        stat_id: number\r\n    ): Promise<NoksSites> {\r\n        return ApiNoks.getInstance().getSitesNoks(integration_id, stat_id);\r\n    }\r\n}\r\n","import { number, z } from \"zod\";\r\n\r\nexport enum IS_ENABLE {\r\n    off = 0,\r\n    on = 1,\r\n}\r\n\r\nexport const SWebhookComplex = z.object({\r\n    integration_id: z.number(),\r\n    key: z.string(),\r\n    webhook_url: z.string(),\r\n});\r\n\r\nexport const SWebhookSettings = z.object({\r\n    is_enable_sending_lead: z.nativeEnum(IS_ENABLE),\r\n    is_enable_creating_lead_without_contacts: z.nativeEnum(IS_ENABLE),\r\n});\r\n\r\nexport const SWebhookSettingsSource = z.object({\r\n    integration_id: z.number(),\r\n    is_enable_sending_lead: z.nativeEnum(IS_ENABLE),\r\n    is_enable_creating_lead_without_contacts: z.nativeEnum(IS_ENABLE),\r\n    created_at: z.string(),\r\n    updated_at: z.string(),\r\n});\r\n","import { ApiNoks } from \"@/shared/api/modules/Noks\";\r\nimport { setAsyncTimeout } from \"@/shared/libs/async\";\r\nimport {\r\n    WebhookComplex,\r\n    WebhookSettings,\r\n    WebhookSettingsSource,\r\n} from \"./types\";\r\nimport { ApiWebHook } from \"@/shared/api/modules/WebHook\";\r\nimport { ApiIntegration } from \"@/shared/api/modules/Integration\";\r\nimport { ApiFlexbe } from \"@/shared/api/modules/Flexbe\";\r\nimport { ApiTilda } from \"@/shared/api/modules/Tilda\";\r\n// import { NoksSites } from \"./types\";\r\n\r\nexport class WebhookModel {\r\n    // static async postIntegration(\r\n    //     stat_id: number,\r\n    //     name: string\r\n    // ): Promise<number> {\r\n    //     return ApiNoks.getInstance().postIntegrationSource(stat_id, name);\r\n    // }\r\n\r\n    // static async postIntegrationAuthSource(\r\n    //     stat_id: number,\r\n    //     integration_id: number,\r\n    //     site_id: number\r\n    // ): Promise<boolean> {\r\n    //     return ApiNoks.getInstance().postAuthSource(\r\n    //         stat_id,\r\n    //         integration_id,\r\n    //         site_id\r\n    //     );\r\n    // }\r\n\r\n    static async getSourceWebhook(\r\n        integration_id: number,\r\n        stat_id: number,\r\n        integration_type: number\r\n    ): Promise<WebhookComplex | undefined> {\r\n        if (integration_type == 2) {\r\n            return ApiWebHook.getInstance().getExistComplex(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else if (integration_type == 3) {\r\n            return ApiFlexbe.getInstance().getAuthWebHookFlexbe(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else if (integration_type == 4) {\r\n            return ApiTilda.getInstance().getAuthWebHookTilda(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else {\r\n            return;\r\n            // return ApiWebHook.getInstance().getExistComplex(\r\n            //     integration_id,\r\n            //     stat_id\r\n            // );\r\n        }\r\n    }\r\n    static async putSettingSourceWebhook(\r\n        integration_id: number,\r\n        stat_id: number,\r\n        data: WebhookSettings,\r\n        integration_type: number\r\n    ): Promise<boolean> {\r\n        if (integration_type == 2) {\r\n            return ApiWebHook.getInstance().editSettingSourceWebhook(\r\n                stat_id,\r\n                integration_id,\r\n                data\r\n            );\r\n        } else if (integration_type == 3) {\r\n            return ApiFlexbe.getInstance().editSettingWebHookFlexbe(\r\n                stat_id,\r\n                integration_id,\r\n                data\r\n            );\r\n        } else if (integration_type == 4) {\r\n            return ApiTilda.getInstance().editSettingWebHookTilda(\r\n                stat_id,\r\n                integration_id,\r\n                data\r\n            );\r\n        } else {\r\n            return ApiWebHook.getInstance().editSettingSourceWebhook(\r\n                stat_id,\r\n                integration_id,\r\n                data\r\n            );\r\n        }\r\n    }\r\n    static async getSettingSourceWebhook(\r\n        integration_id: number,\r\n        stat_id: number,\r\n        integration_type: number\r\n    ): Promise<WebhookSettingsSource | undefined> {\r\n        if (integration_type == 2) {\r\n            return ApiWebHook.getInstance().getSettingSourceWebhook(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else if (integration_type == 3) {\r\n            return ApiFlexbe.getInstance().getSettingSourceWebHookFlexbe(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else if (integration_type == 4) {\r\n            return ApiTilda.getInstance().getSettingSourceWebHookTilda(\r\n                integration_id,\r\n                stat_id\r\n            );\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n}\r\n","// import { ApiYandexDirect } from \"@/shared/api/modules/YandexDirect\";\r\nimport { ApiYandexDirect } from \"@/shared/api/modules\";\r\nimport {\r\n    YandexDirectAuth,\r\n    YandexDirectSetting,\r\n    putYandexDirectSetting,\r\n    postYandexDirectIntegration,\r\n    putYandexDirectCampaign,\r\n    postYandexDirectAuth,\r\n} from \"./types\";\r\n// import { ApiYandexDirect } from \"../../api/modules/YandexDirect\";\r\n\r\nexport class YandexDirectModel {\r\n    // SETTING CHANNEL YANDEX DIRECT\r\n    static async putSettingChannel(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: putYandexDirectSetting\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().PUT_SETTING(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // INTEGRATION CHANNEL YANDEX.DIRECT\r\n    static async postIntegrationChannel(\r\n        stat_id: number,\r\n        data: postYandexDirectIntegration\r\n    ): Promise<number> {\r\n        return ApiYandexDirect.getInstance().POST_INTEGRATION(stat_id, data);\r\n    }\r\n\r\n    // SETTING CAMPAIGN\r\n    static async putSettingCampaign(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: putYandexDirectCampaign\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().PUT_CAMPAIGN(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // SETTING CHANNEL YANDEX DIRECT\r\n    static async getSettingChannel(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<YandexDirectSetting> {\r\n        return ApiYandexDirect.getInstance().GET_SETTING(\r\n            stat_id,\r\n            integration_id\r\n        );\r\n    }\r\n\r\n    // AUTH CHANNEL YANDEX DIRECT\r\n    static async postAuthChannel(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: postYandexDirectAuth\r\n    ): Promise<boolean> {\r\n        return ApiYandexDirect.getInstance().POST_AUTH(\r\n            stat_id,\r\n            integration_id,\r\n            data\r\n        );\r\n    }\r\n\r\n    // EXIST COMPLEX CHANNEL YANDEX.DIRECT\r\n    static async getExistChannel(\r\n        stat_id: number,\r\n        integration_id: number\r\n    ): Promise<YandexDirectAuth> {\r\n        return ApiYandexDirect.getInstance().GET_EXIST(stat_id, integration_id);\r\n    }\r\n\r\n    static async getCampaignChannels(stat_id: number, integration_id: number) {\r\n        return ApiYandexDirect.getInstance().getCampaignChannels(\r\n            stat_id,\r\n            integration_id\r\n        );\r\n    }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-58081185\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tree__node__list-item__name\" }\n\nimport {\r\n    CATEGORY_ADVERTISING_CHANNELS,\r\n    CATEGORY_CRM,\r\n    CATEGORY_LEAD_SOURCE,\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_STATUS,\r\n    IntegrationItem,\r\n} from \"@/entities/integrations\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { toRefs } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n//types\r\ntype Props = {\r\n    integrationInfo: IntegrationItem;\r\n};\r\n\r\ntype Emit = {\r\n    remove: [];\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'integration-item',\n  props: {\n    integrationInfo: {}\n  },\n  emits: [\"remove\"],\n  setup(__props: any, { emit: __emit }) {\n\r\n// integrationTypeToName,\r\nconst router = useRouter();\r\nconst props = __props;\r\nconst emit = __emit;\r\n// import {\r\n//     CATEGORY_ADVERTISING_CHANNELS,\r\n//     CATEGORY_CRM,\r\n//     CATEGORY_LEAD_SOURCE,\r\n//     Integration,\r\n//     INTEGRATION_CATEGORY,\r\n//     INTEGRATION_STATUS,\r\n//     IntegrationItem,\r\n//     integrationTypeToName,\r\n// } from \"@/entities/integrations\";\r\n//integration\r\nconst { integrationInfo } = toRefs(props);\r\n//constants\r\nconst INTEGRATION_STATUS_TO_ICON = ref<{\r\n    [key in INTEGRATION_STATUS]: { icon: string; color: string };\r\n}>({\r\n    [INTEGRATION_STATUS.SUCCESS]: {\r\n        icon: \"mdi-check-circle\",\r\n        color: \"success\",\r\n    },\r\n    [INTEGRATION_STATUS.WARNING]: {\r\n        icon: \"mdi-alert\",\r\n        color: \"warning\",\r\n    },\r\n    [INTEGRATION_STATUS.ERROR]: {\r\n        icon: \"mdi-alert-circle\",\r\n        color: \"error\",\r\n    },\r\n    [INTEGRATION_STATUS.IN_PROGRESS]: {\r\n        icon: \"mdi-pause-circle\",\r\n        color: \"grey\",\r\n    },\r\n});\r\n\r\n//Определеляем имя Item Интеграции. получаем type смотри какая категория int_type/По ней выбираем нужный объект и получаем имя type\r\nconst nameByType = (integration_type: INTEGRATION_CATEGORY, type: number) => {\r\n    switch (integration_type) {\r\n        case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"YandexDirect\";\r\n                case 2:\r\n                    return \"GoogleAds\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"NoksSite\";\r\n                case 2:\r\n                    return \"WebHook\";\r\n                case 3:\r\n                    return \"Flexbe\";\r\n                case 4:\r\n                    return \"Tilda\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        case INTEGRATION_CATEGORY.CRM:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"amoCRM\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        default:\r\n            return \"\";\r\n    }\r\n};\r\n\r\n// const category = ref(\"\");\r\n// Вызываем функцию для определения категории при создании компонента\r\n// category.value = getCategoryByType(\r\n//     integrationInfo.value.integration_type,\r\n//     integrationInfo.value\r\n// );\r\n// Функция для получения ключа по значению из перечисления\r\n// const getKeyByValue = (value: number, enumObj: any) => {\r\n//     return Object.keys(enumObj).find((key) => enumObj[key] === value);\r\n// };\r\n\r\n// Функция для определения категории в зависимости от типа интеграции\r\n// const getCategoryByType = (\r\n//     integrationType: INTEGRATION_CATEGORY,\r\n//     integrationInfo: IntegrationItem\r\n// ) => {\r\n//     switch (integrationType) {\r\n//         case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n//             return (\r\n//                 getKeyByValue(integrationInfo.type, CATEGORY_LEAD_SOURCE) || \"\"\r\n//             );\r\n//         case INTEGRATION_CATEGORY.CRM:\r\n//             return getKeyByValue(integrationInfo.type, CATEGORY_CRM) || \"\";\r\n//         case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n//             return (\r\n//                 getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_ADVERTISING_CHANNELS\r\n//                 ) || \"\"\r\n//             );\r\n//         default:\r\n//             return \"\";\r\n//     }\r\n// };\r\n\r\n// Функция для определения категории в зависимости от типа интеграции\r\n// const intName = computed(() => getCategory(2));\r\n// const getCategory = (integrationType: INTEGRATION_CATEGORY) => {\r\n//     if (getKeyByValue != undefined) {\r\n//         switch (integrationType) {\r\n//             case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_LEAD_SOURCE\r\n//                 );\r\n//                 break;\r\n//             case INTEGRATION_CATEGORY.CRM:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_CRM\r\n//                 );\r\n//                 break;\r\n//             case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_ADVERTISING_CHANNELS\r\n//                 );\r\n//                 break;\r\n//             default:\r\n//                 category.value = \"\";\r\n//         }\r\n//         return category.value;\r\n//     }\r\n// };\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n\n  return (_openBlock(), _createBlock(_component_v_list_item, {\n    class: \"tree__node__list-item bg-background\",\n    density: \"compact\"\n  }, {\n    prepend: _withCtx(() => [\n      _createVNode(_component_v_icon, {\n        size: \"small\",\n        icon: \"mdi-check-circle\",\n        color: \"success\"\n      }),\n      _createVNode(_component_v_tooltip, {\n        text: \"Статус\",\n        location: \"top\"\n      })\n    ]),\n    append: _withCtx(() => [\n      _createVNode(_component_v_btn, {\n        disabled: \"\",\n        class: \"tree__node__list-item__remove-btn\",\n        size: \"x-small\",\n        variant: \"plain\",\n        ripple: false,\n        onClick: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (emit('remove')), [\"stop\"]))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_icon, {\n            size: \"large\",\n            icon: \"mdi-delete\",\n            color: \"error\"\n          }),\n          _createVNode(_component_v_tooltip, {\n            text: \"Удалить интеграции\",\n            location: \"top\"\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"span\", _hoisted_1, _toDisplayString(nameByType(\r\n                    _unref(integrationInfo).integration_type,\r\n                    _unref(integrationInfo).type\r\n                )), 1),\n      _createVNode(_component_v_btn, {\n        size: \"x-small\",\n        variant: \"plain\",\n        ripple: false,\n        onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (\r\n                _unref(router).push({\r\n                    name: _unref(ROUTE_NAMES).Settings_Integrations_Edit,\r\n                    params: {\r\n                        id: _unref(integrationInfo).integration_id,\r\n                    },\r\n                })\r\n            ), [\"stop\"]))\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_icon, {\n            size: \"default\",\n            icon: \"mdi-cog\"\n          }),\n          _createVNode(_component_v_tooltip, {\n            text: \"Настроить интеграцию\",\n            location: \"top\"\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-list-item class=\"tree__node__list-item bg-background\" density=\"compact\">\r\n        <span class=\"tree__node__list-item__name\"\r\n            >{{\r\n                nameByType(\r\n                    integrationInfo.integration_type,\r\n                    integrationInfo.type\r\n                )\r\n            }}\r\n        </span>\r\n        <v-btn\r\n            size=\"x-small\"\r\n            variant=\"plain\"\r\n            :ripple=\"false\"\r\n            @click.stop=\"\r\n                router.push({\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: {\r\n                        id: integrationInfo.integration_id,\r\n                    },\r\n                })\r\n            \"\r\n        >\r\n            <v-icon size=\"default\" icon=\"mdi-cog\" />\r\n            <v-tooltip text=\"Настроить интеграцию\" location=\"top\" />\r\n        </v-btn>\r\n        <template #prepend>\r\n            <v-icon size=\"small\" icon=\"mdi-check-circle\" color=\"success\">\r\n            </v-icon>\r\n            <v-tooltip text=\"Статус\" location=\"top\" />\r\n        </template>\r\n        <template #append>\r\n            <v-btn\r\n                disabled\r\n                class=\"tree__node__list-item__remove-btn\"\r\n                size=\"x-small\"\r\n                variant=\"plain\"\r\n                :ripple=\"false\"\r\n                @click.stop=\"emit('remove')\"\r\n            >\r\n                <v-icon size=\"large\" icon=\"mdi-delete\" color=\"error\" />\r\n                <v-tooltip text=\"Удалить интеграции\" location=\"top\" />\r\n            </v-btn>\r\n        </template>\r\n    </v-list-item>\r\n</template>\r\n<script setup lang=\"ts\">\r\n// integrationTypeToName,\r\nimport {\r\n    CATEGORY_ADVERTISING_CHANNELS,\r\n    CATEGORY_CRM,\r\n    CATEGORY_LEAD_SOURCE,\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_STATUS,\r\n    IntegrationItem,\r\n} from \"@/entities/integrations\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport { toRefs } from \"vue\";\r\nimport { defineEmits, ref, defineProps } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n//types\r\ntype Props = {\r\n    integrationInfo: IntegrationItem;\r\n};\r\n\r\ntype Emit = {\r\n    remove: [];\r\n};\r\nconst router = useRouter();\r\nconst props = defineProps<Props>();\r\nconst emit = defineEmits<Emit>();\r\n// import {\r\n//     CATEGORY_ADVERTISING_CHANNELS,\r\n//     CATEGORY_CRM,\r\n//     CATEGORY_LEAD_SOURCE,\r\n//     Integration,\r\n//     INTEGRATION_CATEGORY,\r\n//     INTEGRATION_STATUS,\r\n//     IntegrationItem,\r\n//     integrationTypeToName,\r\n// } from \"@/entities/integrations\";\r\n//integration\r\nconst { integrationInfo } = toRefs(props);\r\n//constants\r\nconst INTEGRATION_STATUS_TO_ICON = ref<{\r\n    [key in INTEGRATION_STATUS]: { icon: string; color: string };\r\n}>({\r\n    [INTEGRATION_STATUS.SUCCESS]: {\r\n        icon: \"mdi-check-circle\",\r\n        color: \"success\",\r\n    },\r\n    [INTEGRATION_STATUS.WARNING]: {\r\n        icon: \"mdi-alert\",\r\n        color: \"warning\",\r\n    },\r\n    [INTEGRATION_STATUS.ERROR]: {\r\n        icon: \"mdi-alert-circle\",\r\n        color: \"error\",\r\n    },\r\n    [INTEGRATION_STATUS.IN_PROGRESS]: {\r\n        icon: \"mdi-pause-circle\",\r\n        color: \"grey\",\r\n    },\r\n});\r\n\r\n//Определеляем имя Item Интеграции. получаем type смотри какая категория int_type/По ней выбираем нужный объект и получаем имя type\r\nconst nameByType = (integration_type: INTEGRATION_CATEGORY, type: number) => {\r\n    switch (integration_type) {\r\n        case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"YandexDirect\";\r\n                case 2:\r\n                    return \"GoogleAds\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"NoksSite\";\r\n                case 2:\r\n                    return \"WebHook\";\r\n                case 3:\r\n                    return \"Flexbe\";\r\n                case 4:\r\n                    return \"Tilda\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        case INTEGRATION_CATEGORY.CRM:\r\n            switch (type) {\r\n                case 1:\r\n                    return \"amoCRM\";\r\n                default:\r\n                    return \"\";\r\n            }\r\n        default:\r\n            return \"\";\r\n    }\r\n};\r\n\r\n// const category = ref(\"\");\r\n// Вызываем функцию для определения категории при создании компонента\r\n// category.value = getCategoryByType(\r\n//     integrationInfo.value.integration_type,\r\n//     integrationInfo.value\r\n// );\r\n// Функция для получения ключа по значению из перечисления\r\n// const getKeyByValue = (value: number, enumObj: any) => {\r\n//     return Object.keys(enumObj).find((key) => enumObj[key] === value);\r\n// };\r\n\r\n// Функция для определения категории в зависимости от типа интеграции\r\n// const getCategoryByType = (\r\n//     integrationType: INTEGRATION_CATEGORY,\r\n//     integrationInfo: IntegrationItem\r\n// ) => {\r\n//     switch (integrationType) {\r\n//         case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n//             return (\r\n//                 getKeyByValue(integrationInfo.type, CATEGORY_LEAD_SOURCE) || \"\"\r\n//             );\r\n//         case INTEGRATION_CATEGORY.CRM:\r\n//             return getKeyByValue(integrationInfo.type, CATEGORY_CRM) || \"\";\r\n//         case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n//             return (\r\n//                 getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_ADVERTISING_CHANNELS\r\n//                 ) || \"\"\r\n//             );\r\n//         default:\r\n//             return \"\";\r\n//     }\r\n// };\r\n\r\n// Функция для определения категории в зависимости от типа интеграции\r\n// const intName = computed(() => getCategory(2));\r\n// const getCategory = (integrationType: INTEGRATION_CATEGORY) => {\r\n//     if (getKeyByValue != undefined) {\r\n//         switch (integrationType) {\r\n//             case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_LEAD_SOURCE\r\n//                 );\r\n//                 break;\r\n//             case INTEGRATION_CATEGORY.CRM:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_CRM\r\n//                 );\r\n//                 break;\r\n//             case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n//                 category.value = getKeyByValue(\r\n//                     integrationInfo.type,\r\n//                     CATEGORY_ADVERTISING_CHANNELS\r\n//                 );\r\n//                 break;\r\n//             default:\r\n//                 category.value = \"\";\r\n//         }\r\n//         return category.value;\r\n//     }\r\n// };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$border: solid #d1d4d6 1px;\r\n\r\n.tree__node__list-item {\r\n    outline: $border;\r\n    border-radius: 6px;\r\n    margin-bottom: 12px;\r\n    & ::v-deep(.v-list-item__prepend) {\r\n        width: 25px;\r\n    }\r\n    & ::v-deep(.v-list-item__content) {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n    & ::v-deep(.v-list-item__append) {\r\n        width: 20px;\r\n        padding-bottom: 3px;\r\n    }\r\n    &:hover {\r\n        .tree__node__list-item__remove-btn {\r\n            opacity: 0.5;\r\n        }\r\n    }\r\n}\r\n.tree__node__list-item__name {\r\n    display: inline-block;\r\n    overflow-x: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n.tree__node__list-item__remove-btn {\r\n    opacity: 0;\r\n    &:hover {\r\n        opacity: 1 !important;\r\n    }\r\n    transition: opacity 0.3s ease;\r\n}\r\n</style>\r\n","import script from \"./integration-item.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./integration-item.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./integration-item.vue?vue&type=style&index=0&id=58081185&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-58081185\"]])\n\nexport default __exports__","import { useCssVars as _useCssVars, defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1421b1f2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tree__node\" }\nconst _hoisted_2 = { class: \"tree__node__title text-body-2 font-weight-bold\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"centering-container\"\n}\n\nimport integrationItem from \"./integration-item.vue\";\r\nimport { toRefs, ref } from \"vue\";\r\nimport { TreeNodeProps } from \"./types\";\r\nimport { theme } from \"@/shared/ui\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\n//style\r\ntype Emits = {\r\n    addClick: [];\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'tree-node',\n  props: {\n    name: {},\n    description: {},\n    integrations: {}\n  },\n  emits: [\"addClick\"],\n  setup(__props: any, { emit: __emit }) {\n\n_useCssVars(_ctx => ({\n  \"8fe72c88\": (_unref(theme).secondary)\n}))\n\r\nconst props = __props;\r\nconst { name, description, integrations } = toRefs(props);\r\nconst { integrationListUpdatingError } = storeToRefs(useIntegrationStore());\r\nconst { remove } = useIntegrationStore();\r\nconst emits = __emit;\r\nconst isLoading = ref(false);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"article\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createTextVNode(_toDisplayString(_unref(name)) + \" \", 1),\n      _createVNode(_component_v_tooltip, { text: _unref(description) }, null, 8, [\"text\"])\n    ]),\n    _createVNode(_component_v_list, { class: \"tree__node__list\" }, {\n      default: _withCtx(() => [\n        (_unref(integrationListUpdatingError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(_unref(integrationListUpdatingError)), 1))\n          : _createCommentVNode(\"\", true),\n        (isLoading.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createVNode(_component_v_progress_circular, {\n                color: \"primary\",\n                indeterminate: \"\",\n                size: 52,\n                width: 5\n              })\n            ]))\n          : (\r\n                    !_unref(integrationListUpdatingError) &&\r\n                    _unref(integrations) &&\r\n                    _unref(integrations).length > 0\r\n                )\n            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 2 }, _renderList(_unref(integrations), (integration) => {\n                return (_openBlock(), _createBlock(integrationItem, {\n                  key: integration.integration_id,\n                  \"integration-info\": integration,\n                  onRemove: ($event: any) => (_unref(remove)(integration.integration_id))\n                }, null, 8, [\"integration-info\", \"onRemove\"]))\n              }), 128))\n            : (!_unref(integrationListUpdatingError))\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                  _createTextVNode(_toDisplayString(_unref(description)), 1)\n                ], 64))\n              : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_btn, {\n      icon: \"\",\n      size: \"x-small\",\n      class: \"tree__node__add-btn\",\n      variant: \"flat\",\n      color: \"primary\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (emits('addClick')))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_icon, { icon: \"mdi-plus\" })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <article class=\"tree__node\">\r\n        <div class=\"tree__node__title text-body-2 font-weight-bold\">\r\n            {{ name }}\r\n            <v-tooltip :text=\"description\" />\r\n        </div>\r\n        <v-list class=\"tree__node__list\">\r\n            <span v-if=\"integrationListUpdatingError\" class=\"text-error\">{{\r\n                integrationListUpdatingError\r\n            }}</span>\r\n            <div class=\"centering-container\" v-if=\"isLoading\">\r\n                <v-progress-circular\r\n                    color=\"primary\"\r\n                    indeterminate\r\n                    :size=\"52\"\r\n                    :width=\"5\"\r\n                />\r\n            </div>\r\n            <template\r\n                v-else-if=\"\r\n                    !integrationListUpdatingError &&\r\n                    integrations &&\r\n                    integrations.length > 0\r\n                \"\r\n            >\r\n                <integrationItem\r\n                    v-for=\"integration in integrations\"\r\n                    :key=\"integration.integration_id\"\r\n                    :integration-info=\"integration\"\r\n                    @remove=\"remove(integration.integration_id)\"\r\n                />\r\n            </template>\r\n            <template v-else-if=\"!integrationListUpdatingError\">{{\r\n                description\r\n            }}</template>\r\n        </v-list>\r\n        <v-btn\r\n            icon\r\n            size=\"x-small\"\r\n            class=\"tree__node__add-btn\"\r\n            variant=\"flat\"\r\n            color=\"primary\"\r\n            @click=\"emits('addClick')\"\r\n        >\r\n            <v-icon icon=\"mdi-plus\" />\r\n        </v-btn>\r\n    </article>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport integrationItem from \"./integration-item.vue\";\r\nimport { toRefs, defineProps, defineEmits, ref } from \"vue\";\r\nimport { TreeNodeProps } from \"./types\";\r\nimport { theme } from \"@/shared/ui\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { storeToRefs } from \"pinia\";\r\n//style\r\nconst props = defineProps<TreeNodeProps>();\r\nconst { name, description, integrations } = toRefs(props);\r\ntype Emits = {\r\n    addClick: [];\r\n};\r\nconst { integrationListUpdatingError } = storeToRefs(useIntegrationStore());\r\nconst { remove } = useIntegrationStore();\r\nconst emits = defineEmits<Emits>();\r\nconst isLoading = ref(false);\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$border: solid #d1d4d6 1px;\r\n.tree__node {\r\n    outline: $border;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    position: static;\r\n    text-align: center;\r\n}\r\n.tree__node__title {\r\n    padding: 10px 12px;\r\n    border-bottom: $border;\r\n}\r\n.tree__node__list {\r\n    padding: 12px !important;\r\n    max-height: 250px;\r\n    overflow: auto;\r\n}\r\n.tree__node__add-btn {\r\n    position: absolute;\r\n    transform: translate(-50%, -50%);\r\n}\r\n.tree__node__add-btn:hover {\r\n    background-color: v-bind(\"theme.secondary\") !important;\r\n}\r\n</style>\r\n","import script from \"./tree-node.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./tree-node.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./tree-node.vue?vue&type=style&index=0&id=1421b1f2&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1421b1f2\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"tree-logo-node\">\r\n        <div class=\"tree-logo-node__logo-container bg-primary\">\r\n            <v-img\r\n                cover\r\n                :src=\"require('@/assets/lp2.svg')\"\r\n                class=\"tree-logo-node__logo-container__node__logo\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n\r\n<style scoped>\r\n.tree-logo-node {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.tree-logo-node__logo-container {\r\n    padding: 7px 25px;\r\n    margin-top: 68px;\r\n    width: 116px;\r\n    border-radius: 9px;\r\n    height: 59px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n</style>\r\n","import { render } from \"./logo-node.vue?vue&type=template&id=74376d26&scoped=true\"\nconst script = {}\n\nimport \"./logo-node.vue?vue&type=style&index=0&id=74376d26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74376d26\"]])\n\nexport default __exports__","import {\r\n    INTEGRATION_CATEGORY,\r\n    IntegrationModel,\r\n} from \"@/entities/integrations\";\r\nimport { TreeNodeProps } from \"./types\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nexport function NodePropsFabric(category: INTEGRATION_CATEGORY): TreeNodeProps {\r\n    switch (category) {\r\n        case INTEGRATION_CATEGORY.LEAD_SOURCE:\r\n            return {\r\n                name: \"Источник заявок\",\r\n                description:\r\n                    \"Интеграции, через которые пользователь может оставить заявку для последующей передачи в CRM\",\r\n                integrations: useIntegrationStore().getAllLeadSource,\r\n            };\r\n        case INTEGRATION_CATEGORY.ADVERTISING_CHANNELS:\r\n            return {\r\n                name: \"Рекламные каналы\",\r\n                description:\r\n                    \"Подключите рекламные каналы, например, Яндекс.Директ, Google Ads, Яндекс.Маркет и т.д.\",\r\n                integrations: useIntegrationStore().getAllAdvertisingChannels,\r\n            };\r\n        case INTEGRATION_CATEGORY.CRM:\r\n            return {\r\n                name: \"CRM\",\r\n                description:\r\n                    \"Настройте двусторонний обмен данными между LandingPage и CRM\",\r\n                integrations: useIntegrationStore().getAllCRM,\r\n            };\r\n    }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderSlot as _renderSlot, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\n\r\ntype Props = {\r\n    name: string;\r\n};\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'add-integration-modal',\n  props: {\n    name: {}\n  },\n  emits: [\"onClose\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props;\r\nconst emits = __emit;\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    \"model-value\": true,\n    width: \"600\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => {if (!$event) emits('onClose');})\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_toolbar, {\n            title: props.name,\n            color: \"primary\",\n            density: \"compact\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_btn, {\n                icon: \"mdi-close\",\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (emits('onClose')))\n              })\n            ]),\n            _: 1\n          }, 8, [\"title\"]),\n          _renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      })\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","<template>\r\n    <v-dialog\r\n        :model-value=\"true\"\r\n        width=\"600\"\r\n        @update:model-value=\"if (!$event) emits('onClose');\"\r\n    >\r\n        <v-card>\r\n            <v-toolbar :title=\"props.name\" color=\"primary\" density=\"compact\">\r\n                <v-btn icon=\"mdi-close\" @click=\"emits('onClose')\" />\r\n            </v-toolbar>\r\n\r\n            <slot />\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, defineEmits } from \"vue\";\r\ntype Props = {\r\n    name: string;\r\n};\r\nconst props = defineProps<Props>();\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\nconst emits = defineEmits<Emits>();\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./add-integration-modal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./add-integration-modal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createBlock as _createBlock, withCtx as _withCtx, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-179be1f0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"d-flex justify-end w-100\"\n}\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-error\"\n}\n\nimport { onMounted, computed } from \"vue\";\r\nimport { IntegrationCard } from \"./types\";\r\nimport { toRefs } from \"vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { useIntegrationStore } from \"../../store\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { INTEGRATION_CATEGORY, INTEGRATION_STATUS } from \"../../scheme\";\r\nimport { ref } from \"vue\";\r\nimport NoksSite from \"./noks-site/noks-site.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: '_integration-card',\n  props: {\n    id: {},\n    name: {},\n    image: {},\n    type: {},\n    integration_category: {},\n    onSuccess: { type: Function }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\nconst { name, image, onSuccess, type, integration_category } = toRefs(props);\r\nconst { data, isLoading, isError, error, executeRequest } = useAsyncState({\r\n    immediate: false,\r\n    onSuccess: onSuccess.value,\r\n    request: useIntegrationStore().add,\r\n});\r\nconsole.log(\"integration_category\", integration_category, \"name=\", name);\r\n// Определение состояния модального окна\r\nconst isModalOpen = ref(false);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst add = () => {\r\n    if (isLoading.value) return;\r\n\r\n    executeRequest(\r\n        Number(statId.value),\r\n        INTEGRATION_STATUS.IN_PROGRESS,\r\n        type.value,\r\n        { name: \"\" },\r\n        integration_category.value\r\n    );\r\n};\r\n\r\nonMounted(() => {\r\n    useIntegrationStore().updateIntegrationList(Number(statId.value));\r\n});\r\n\r\nconst amoIntegration = ref(useIntegrationStore().getAmoCRM);\r\nconst isAmoIntegration = computed(() => {\r\n    return amoIntegration.value.length > 0;\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\")!\n  const _component_v_fade_transition = _resolveComponent(\"v-fade-transition\")!\n\n  return (_openBlock(), _createElementBlock(\"li\", {\n    class: \"integration-gallery__card\",\n    onClick: add\n  }, [\n    (isAmoIntegration.value && _unref(name) == 'amoCRM')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(_component_v_icon, {\n            size: \"small\",\n            icon: \"mdi-check-circle\",\n            color: \"success\",\n            class: \"mr-2\"\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"img\", { src: _unref(image) }, null, 8, _hoisted_2),\n    _createTextVNode(\" \" + _toDisplayString(_unref(name)) + \" \", 1),\n    _createVNode(_component_v_fade_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isLoading))\n          ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n              key: 0,\n              indeterminate: \"\",\n              absolute: \"\",\n              class: \"integration-gallery__card__progress\",\n              color: \"secondary\"\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_fade_transition, null, {\n      default: _withCtx(() => [\n        (_unref(isError))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(_unref(error)), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <li class=\"integration-gallery__card\" @click=\"add\">\r\n        <div\r\n            v-if=\"isAmoIntegration && name == 'amoCRM'\"\r\n            class=\"d-flex justify-end w-100\"\r\n        >\r\n            <v-icon\r\n                size=\"small\"\r\n                icon=\"mdi-check-circle\"\r\n                color=\"success\"\r\n                class=\"mr-2\"\r\n            >\r\n            </v-icon>\r\n        </div>\r\n\r\n        <img :src=\"image\" />\r\n        {{ name }}\r\n\r\n        <v-fade-transition>\r\n            <v-progress-linear\r\n                v-if=\"isLoading\"\r\n                indeterminate\r\n                absolute\r\n                class=\"integration-gallery__card__progress\"\r\n                color=\"secondary\"\r\n            />\r\n        </v-fade-transition>\r\n        <v-fade-transition>\r\n            <span v-if=\"isError\" class=\"text-error\">{{ error }}</span>\r\n        </v-fade-transition>\r\n    </li>\r\n    <!-- <noks-site\r\n        :is-open=\"isModalOpen\"\r\n        v-if=\"integration_category === 1 && isModalOpen == true\"\r\n    /> -->\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, onMounted, computed } from \"vue\";\r\nimport { IntegrationCard } from \"./types\";\r\nimport { toRefs } from \"vue\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { useIntegrationStore } from \"../../store\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { INTEGRATION_CATEGORY, INTEGRATION_STATUS } from \"../../scheme\";\r\nimport { ref } from \"vue\";\r\nimport NoksSite from \"./noks-site/noks-site.vue\";\r\n\r\nconst props = defineProps<IntegrationCard>();\r\nconst { name, image, onSuccess, type, integration_category } = toRefs(props);\r\nconst { data, isLoading, isError, error, executeRequest } = useAsyncState({\r\n    immediate: false,\r\n    onSuccess: onSuccess.value,\r\n    request: useIntegrationStore().add,\r\n});\r\nconsole.log(\"integration_category\", integration_category, \"name=\", name);\r\n// Определение состояния модального окна\r\nconst isModalOpen = ref(false);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\nconst add = () => {\r\n    if (isLoading.value) return;\r\n\r\n    executeRequest(\r\n        Number(statId.value),\r\n        INTEGRATION_STATUS.IN_PROGRESS,\r\n        type.value,\r\n        { name: \"\" },\r\n        integration_category.value\r\n    );\r\n};\r\n\r\nonMounted(() => {\r\n    useIntegrationStore().updateIntegrationList(Number(statId.value));\r\n});\r\n\r\nconst amoIntegration = ref(useIntegrationStore().getAmoCRM);\r\nconst isAmoIntegration = computed(() => {\r\n    return amoIntegration.value.length > 0;\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$border: #d1d4d6 solid 1px;\r\n\r\n.integration-gallery__card {\r\n    display: flex;\r\n    position: relative;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    height: 150px;\r\n    width: 100%;\r\n    border: $border;\r\n    border-radius: 0.8em;\r\n    flex-grow: 0;\r\n    background-color: white;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.2);\r\n    &:hover {\r\n        transform: translateY(-5px);\r\n        box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.5);\r\n    }\r\n    & img {\r\n        width: 100px;\r\n    }\r\n}\r\n.integration-gallery__card__progress {\r\n    top: unset !important;\r\n    bottom: 5px;\r\n}\r\n.active-class-amo {\r\n    // background-color: greenyellow;\r\n}\r\n.integration-gallery__card.active-class-amo:hover {\r\n    transform: translateY(0);\r\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.2);\r\n}\r\n.text-error {\r\n    font-size: 12px;\r\n    line-height: 1.2;\r\n    padding: 0 10px 10px;\r\n}\r\n</style>\r\n","import script from \"./_integration-card.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./_integration-card.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./_integration-card.vue?vue&type=style&index=0&id=179be1f0&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-179be1f0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e221784a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"add-integration-dialog__success-message\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Интеграция успешно добавлена\", -1))\n\nimport { RouteLocationRaw } from \"vue-router\";\r\n\r\ntype Props = {\r\n    route: RouteLocationRaw;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: '_success',\n  props: {\n    route: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    \"model-value\": true,\n    width: \"400\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"add-integration-dialog\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_v_icon, {\n              icon: \"mdi-check-circle-outline\",\n              color: \"success\",\n              size: \"x-large\"\n            }),\n            _hoisted_2\n          ]),\n          _createVNode(_component_v_card_actions, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_btn, {\n                text: \"Настроить\",\n                color: \"primary\",\n                variant: \"flat\",\n                density: \"default\",\n                size: \"default\",\n                block: \"\",\n                to: props.route\n              }, null, 8, [\"to\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-dialog :model-value=\"true\" width=\"400\">\r\n        <v-card class=\"add-integration-dialog\">\r\n            <div class=\"add-integration-dialog__success-message\">\r\n                <v-icon\r\n                    icon=\"mdi-check-circle-outline\"\r\n                    color=\"success\"\r\n                    size=\"x-large\"\r\n                />\r\n                <span>Интеграция успешно добавлена</span>\r\n            </div>\r\n            <v-card-actions>\r\n                <v-btn\r\n                    text=\"Настроить\"\r\n                    color=\"primary\"\r\n                    variant=\"flat\"\r\n                    density=\"default\"\r\n                    size=\"default\"\r\n                    block\r\n                    :to=\"props.route\"\r\n                />\r\n            </v-card-actions>\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { RouteLocationRaw } from \"vue-router\";\r\nimport { defineProps } from \"vue\";\r\ntype Props = {\r\n    route: RouteLocationRaw;\r\n};\r\nconst props = defineProps<Props>();\r\n</script>\r\n\r\n<style scoped>\r\n.add-integration-dialog__success-message {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    font-size: 1.5em;\r\n    padding-bottom: 10px;\r\n}\r\n.add-integration-dialog {\r\n    padding-top: 20px !important;\r\n}\r\n</style>\r\n","import script from \"./_success.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./_success.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./_success.vue?vue&type=style&index=0&id=e221784a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e221784a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"px-4\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"a\", {\n  target: \"_blank\",\n  href: \"https://oauth.yandex.ru/client/ee12139e23be41b889875838c9b71f4a\"\n}, \"ссылке\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Введите ключ\", -1)\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-success\"\n}\n\nimport {\r\n    YandexDirectModel,\r\n    postYandexDirectAuth,\r\n} from \"@/entities/yandex-direct\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { ComputedRef } from \"vue\";\r\nimport { computed } from \"vue\";\r\n\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\ntype Props = {\r\n    id: number;\r\n};\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'yandex-direct',\n  props: {\n    id: {}\n  },\n  emits: [\"onClose\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst emits = __emit;\r\n//TODO перенести в библу для валидаций\r\nconst length = (value: string) => {\r\n    if (value.length > 70 || value.length < 50) {\r\n        return \"Длина ключа должна соcтавлять от 50 до 70 символов\";\r\n    }\r\n    return true;\r\n};\r\nconst key = ref(\"\");\r\nconst props = __props;\r\n\r\nconst form = ref();\r\nconst successFlag = ref(false);\r\nconsole.log(\"props.id\", props.id);\r\n\r\nconst onPostSuccess = (result: boolean) => {\r\n    if (!result) throw \"Не удалось привязать ключ\";\r\n    successFlag.value = true;\r\n};\r\nconst route = useRoute();\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\n// const dataKey: postYandexDirectAuth = computed(() => {\r\n//     return {\r\n//         token: key.value,\r\n//     };\r\n// });\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: YandexDirectModel.postAuthChannel,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n\r\nconst addStat = async () => {\r\n    if (!form.value) return;\r\n    if (!(await form.value.validate()).valid) return;\r\n    executePost(Number(statId.value), props.id, {\r\n        token: key.value,\r\n    });\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_alert = _resolveComponent(\"v-alert\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_v_card_title, null, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Интеграция создана\")\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"p\", _hoisted_1, [\n      _createVNode(_component_v_alert, {\n        border: \"start\",\n        color: \"info\",\n        variant: \"tonal\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Чтобы получить ключ, вам нужно выдать разрешения на интеграцию с аккаунтом Директа. Перейдите по \"),\n          _hoisted_2,\n          _createTextVNode(\" Нажмите \\\"Разрешить\\\", скопируйте ключ на экране, и вставьте его ниже \")\n        ]),\n        _: 1\n      })\n    ]),\n    _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_form, {\n          ref_key: \"form\",\n          ref: form,\n          class: \"mb-2\"\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3,\n            _createVNode(_component_v_text_field, {\n              modelValue: key.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((key).value = $event)),\n              class: \"mt-1\",\n              rules: [length],\n              disabled: successFlag.value\n            }, null, 8, [\"modelValue\", \"rules\", \"disabled\"])\n          ]),\n          _: 1\n        }, 512),\n        _createVNode(_component_v_expand_transition, null, {\n          default: _withCtx(() => [\n            (_unref(postIsError))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(_unref(postError)), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_v_expand_transition, null, {\n          default: _withCtx(() => [\n            (successFlag.value)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \" Ключ успешно авторизован. В течении нескольких дней мы завершим интеграцию и вы сможете настроить ее \"))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_spacer),\n        _createVNode(_component_v_btn, {\n          text: !successFlag.value ? 'Отправить ключ' : 'Закрыть окно',\n          color: \"primary\",\n          variant: \"flat\",\n          size: \"default\",\n          loading: _unref(postIsLoading),\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (!successFlag.value ? addStat() : emits('onClose')))\n        }, null, 8, [\"text\", \"loading\"])\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})","<template>\r\n    <v-card-title>Интеграция создана</v-card-title>\r\n    <p class=\"px-4\">\r\n        <v-alert border=\"start\" color=\"info\" variant=\"tonal\">\r\n            Чтобы получить ключ, вам нужно выдать разрешения на интеграцию с\r\n            аккаунтом Директа. Перейдите по\r\n            <a\r\n                target=\"_blank\"\r\n                href=\"https://oauth.yandex.ru/client/ee12139e23be41b889875838c9b71f4a\"\r\n                >ссылке</a\r\n            >\r\n            Нажмите \"Разрешить\", скопируйте ключ на экране, и вставьте его ниже\r\n        </v-alert>\r\n    </p>\r\n    <v-card-text>\r\n        <v-form ref=\"form\" class=\"mb-2\">\r\n            <label>Введите ключ</label>\r\n            <v-text-field\r\n                v-model=\"key\"\r\n                class=\"mt-1\"\r\n                :rules=\"[length]\"\r\n                :disabled=\"successFlag\"\r\n            />\r\n        </v-form>\r\n        <v-expand-transition>\r\n            <span v-if=\"postIsError\" class=\"text-error\">{{ postError }}</span>\r\n        </v-expand-transition>\r\n        <v-expand-transition>\r\n            <span v-if=\"successFlag\" class=\"text-success\">\r\n                Ключ успешно авторизован. В течении нескольких дней мы завершим\r\n                интеграцию и вы сможете настроить ее\r\n            </span>\r\n        </v-expand-transition>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n        <v-spacer />\r\n        <v-btn\r\n            :text=\"!successFlag ? 'Отправить ключ' : 'Закрыть окно'\"\r\n            color=\"primary\"\r\n            variant=\"flat\"\r\n            size=\"default\"\r\n            :loading=\"postIsLoading\"\r\n            @click=\"!successFlag ? addStat() : emits('onClose')\"\r\n        />\r\n    </v-card-actions>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {\r\n    YandexDirectModel,\r\n    postYandexDirectAuth,\r\n} from \"@/entities/yandex-direct\";\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\nimport { ComputedRef } from \"vue\";\r\nimport { computed } from \"vue\";\r\nimport { defineProps, defineEmits } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\ntype Props = {\r\n    id: number;\r\n};\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\nconst emits = defineEmits<Emits>();\r\n//TODO перенести в библу для валидаций\r\nconst length = (value: string) => {\r\n    if (value.length > 70 || value.length < 50) {\r\n        return \"Длина ключа должна соcтавлять от 50 до 70 символов\";\r\n    }\r\n    return true;\r\n};\r\nconst key = ref(\"\");\r\nconst props = defineProps<Props>();\r\n\r\nconst form = ref();\r\nconst successFlag = ref(false);\r\nconsole.log(\"props.id\", props.id);\r\n\r\nconst onPostSuccess = (result: boolean) => {\r\n    if (!result) throw \"Не удалось привязать ключ\";\r\n    successFlag.value = true;\r\n};\r\nconst route = useRoute();\r\n\r\nconst statId = computed(() => route.params.statId);\r\nconst integrationId = computed(() => route.params.id);\r\n\r\n// const dataKey: postYandexDirectAuth = computed(() => {\r\n//     return {\r\n//         token: key.value,\r\n//     };\r\n// });\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: YandexDirectModel.postAuthChannel,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\n\r\nconst addStat = async () => {\r\n    if (!form.value) return;\r\n    if (!(await form.value.validate()).valid) return;\r\n    executePost(Number(statId.value), props.id, {\r\n        token: key.value,\r\n    });\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./yandex-direct.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./yandex-direct.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f0a8ea0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"px-4\" }, \" Для того чтобы настроить и начать использовать LandingPage, нужно ввести данные \", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Выберите сайт для интеграции\", -1))\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-error\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-success\"\n}\n\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\n\r\nimport { computed } from \"vue\";\r\n\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nimport { NoksModel, NoksSites, NoksSitesItem } from \"@/entities/noks\";\r\nimport { ApiNoks } from \"@/shared/api/modules/Noks\";\r\nimport { onMounted } from \"vue\";\r\ntype Props = {\r\n    id: number;\r\n};\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\n// isModalOpen: false;\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'noks-site',\n  props: {\n    id: {}\n  },\n  emits: [\"onClose\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst emits = __emit;\r\nconst props = __props;\r\nconst form = ref();\r\n\r\nconst siteIntegrationData = ref();\r\n\r\nconst successFlag = ref(false);\r\nconst onPostSuccess = (result: boolean) => {\r\n    if (!result) throw \"Не удалось\";\r\n    successFlag.value = true;\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: NoksModel.postIntegrationAuthSource,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\n\r\n//TODO как получить номер интеграции если она еще не создана. В какой последовательности создавать интеграцию НОКС?\r\n// const sites = ref<NoksSites>([]);\r\n\r\nlet sites = ref<NoksSites>([]);\r\n// let sites = [] as Array<NoksSites>;\r\n\r\nonMounted(async () => {\r\n    try {\r\n        const response = await NoksModel.getSites(\r\n            Number(props.id),\r\n            Number(statId.value)\r\n        );\r\n\r\n        sites.value = response;\r\n    } catch (error) {\r\n        console.error(\"Ошибка при загрузке сайтов:\", error);\r\n    }\r\n});\r\n\r\nconst sitesList = computed(() => {\r\n    return sites.value.map((item: any) => item.name as string);\r\n});\r\n\r\nconst addIntegration = async () => {\r\n    if (!form.value) return;\r\n    const siteFind: NoksSitesItem | undefined = sites.value.find(\r\n        (item: any) => item.name === siteIntegrationData.value\r\n    );\r\n\r\n    if (siteFind) {\r\n        executePost(Number(statId.value), props.id, siteFind.site_id);\r\n    }\r\n};\r\n\r\nconst checkSite = () => {\r\n    // console.log(\"siteIntegrationData\", siteIntegrationData.value);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_v_card_title, null, {\n      default: _withCtx(() => [\n        _createTextVNode(\"Интеграция\")\n      ]),\n      _: 1\n    }),\n    _hoisted_1,\n    _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_form, {\n          ref_key: \"form\",\n          ref: form,\n          class: \"mb-2\"\n        }, {\n          default: _withCtx(() => [\n            _hoisted_2,\n            _createVNode(_component_v_select, {\n              items: sitesList.value,\n              variant: \"outlined\",\n              density: \"compact\",\n              class: \"mt-1\",\n              modelValue: siteIntegrationData.value,\n              \"onUpdate:modelValue\": [\n                _cache[0] || (_cache[0] = ($event: any) => ((siteIntegrationData).value = $event)),\n                checkSite\n              ]\n            }, null, 8, [\"items\", \"modelValue\"])\n          ]),\n          _: 1\n        }, 512),\n        _createVNode(_component_v_expand_transition, null, {\n          default: _withCtx(() => [\n            (_unref(postIsError))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(_unref(postError)), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_v_expand_transition, null, {\n          default: _withCtx(() => [\n            (successFlag.value)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" Сайт успешно привязан \"))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_spacer),\n        _createVNode(_component_v_btn, {\n          text: !successFlag.value ? 'Отправить' : 'Закрыть окно',\n          color: \"primary\",\n          variant: \"flat\",\n          size: \"default\",\n          loading: _unref(postIsLoading),\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (!successFlag.value ? addIntegration() : emits('onClose')))\n        }, null, 8, [\"text\", \"loading\"])\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})","<template>\r\n    <v-card-title>Интеграция</v-card-title>\r\n    <p class=\"px-4\">\r\n        Для того чтобы настроить и начать использовать LandingPage, нужно ввести\r\n        данные\r\n    </p>\r\n\r\n    <v-card-text>\r\n        <v-form ref=\"form\" class=\"mb-2\">\r\n            <label>Выберите сайт для интеграции</label>\r\n            <v-select\r\n                :items=\"sitesList\"\r\n                variant=\"outlined\"\r\n                density=\"compact\"\r\n                class=\"mt-1\"\r\n                v-model=\"siteIntegrationData\"\r\n                @update:model-value=\"checkSite\"\r\n            ></v-select>\r\n        </v-form>\r\n\r\n        <v-expand-transition>\r\n            <span v-if=\"postIsError\" class=\"text-error\">{{ postError }}</span>\r\n        </v-expand-transition>\r\n        <v-expand-transition>\r\n            <span v-if=\"successFlag\" class=\"text-success\">\r\n                Сайт успешно привязан\r\n            </span>\r\n        </v-expand-transition>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n        <v-spacer />\r\n        <v-btn\r\n            :text=\"!successFlag ? 'Отправить' : 'Закрыть окно'\"\r\n            color=\"primary\"\r\n            variant=\"flat\"\r\n            size=\"default\"\r\n            :loading=\"postIsLoading\"\r\n            @click=\"!successFlag ? addIntegration() : emits('onClose')\"\r\n        />\r\n    </v-card-actions>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport useAsyncState from \"@/shared/composables/useAsyncState\";\r\n\r\nimport { computed } from \"vue\";\r\nimport { defineProps, defineEmits } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nimport { NoksModel, NoksSites, NoksSitesItem } from \"@/entities/noks\";\r\nimport { ApiNoks } from \"@/shared/api/modules/Noks\";\r\nimport { onMounted } from \"vue\";\r\ntype Props = {\r\n    id: number;\r\n};\r\ntype Emits = {\r\n    onClose: [];\r\n};\r\n// isModalOpen: false;\r\n\r\nconst emits = defineEmits<Emits>();\r\nconst props = defineProps<Props>();\r\nconst form = ref();\r\n\r\nconst siteIntegrationData = ref();\r\n\r\nconst successFlag = ref(false);\r\nconst onPostSuccess = (result: boolean) => {\r\n    if (!result) throw \"Не удалось\";\r\n    successFlag.value = true;\r\n};\r\n\r\nconst {\r\n    isLoading: postIsLoading,\r\n    isError: postIsError,\r\n    error: postError,\r\n    executeRequest: executePost,\r\n} = useAsyncState({\r\n    request: NoksModel.postIntegrationAuthSource,\r\n    immediate: false,\r\n    onSuccess: onPostSuccess,\r\n});\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\n\r\n//TODO как получить номер интеграции если она еще не создана. В какой последовательности создавать интеграцию НОКС?\r\n// const sites = ref<NoksSites>([]);\r\n\r\nlet sites = ref<NoksSites>([]);\r\n// let sites = [] as Array<NoksSites>;\r\n\r\nonMounted(async () => {\r\n    try {\r\n        const response = await NoksModel.getSites(\r\n            Number(props.id),\r\n            Number(statId.value)\r\n        );\r\n\r\n        sites.value = response;\r\n    } catch (error) {\r\n        console.error(\"Ошибка при загрузке сайтов:\", error);\r\n    }\r\n});\r\n\r\nconst sitesList = computed(() => {\r\n    return sites.value.map((item: any) => item.name as string);\r\n});\r\n\r\nconst addIntegration = async () => {\r\n    if (!form.value) return;\r\n    const siteFind: NoksSitesItem | undefined = sites.value.find(\r\n        (item: any) => item.name === siteIntegrationData.value\r\n    );\r\n\r\n    if (siteFind) {\r\n        executePost(Number(statId.value), props.id, siteFind.site_id);\r\n    }\r\n};\r\n\r\nconst checkSite = () => {\r\n    // console.log(\"siteIntegrationData\", siteIntegrationData.value);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.class {\r\n    color: resolveDirective;\r\n}\r\n</style>\r\n","import script from \"./noks-site.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./noks-site.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./noks-site.vue?vue&type=style&index=0&id=5f0a8ea0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f0a8ea0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, mergeProps as _mergeProps, TransitionGroup as _TransitionGroup, resolveDynamicComponent as _resolveDynamicComponent, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-15cf3cce\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"integration__search\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"mb-2 ml-1\" }, \"Поиск интеграций\", -1))\nconst _hoisted_3 = { class: \"integration-category-chips mt-2\" }\nconst _hoisted_4 = { class: \"integration-gallery__category__cards-wrapper mt-2\" }\n\nimport { ref, computed, watch } from \"vue\";\r\nimport {\r\n    CATEGORY_ADVERTISING_CHANNELS,\r\n    CATEGORY_CRM,\r\n    CATEGORY_LEAD_SOURCE,\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_TYPE,\r\n} from \"../../scheme\";\r\nimport { IntegrationCard } from \"./types\";\r\nimport addIntegrationModal from \"./add-integration-modal.vue\";\r\nimport integrationCard from \"./_integration-card.vue\";\r\nimport successDialog from \"./_success.vue\";\r\nimport { RouteLocationRaw, useRoute } from \"vue-router\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport yandexDirect from \"./yandex-direct/yandex-direct.vue\";\r\nimport noksSite from \"./noks-site/noks-site.vue\";\r\nimport webhook from \"./webhook/webhook.vue\";\r\nimport { shallowRef } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useStatStore } from \"@/entities/stat/store\";\r\nimport { useIntegrationStore } from \"../../store\";\r\ntype Props = {\r\n    modelValue: boolean;\r\n    preselectedCategories?: Array<INTEGRATION_CATEGORY>;\r\n};\r\ntype Emits = {\r\n    \"update:modelValue\": [isOpen: boolean];\r\n};\r\ntype SelectedIntegration = {\r\n    createdIntegrationId: number;\r\n    name: string;\r\n    component: any;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'add-integration',\n  props: {\n    modelValue: { type: Boolean },\n    preselectedCategories: {}\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props;\r\nconst emits = __emit;\r\n//categories\r\nconst categoryToName: any = {\r\n    [INTEGRATION_CATEGORY.LEAD_SOURCE]: \"Источники заявок\",\r\n    [INTEGRATION_CATEGORY.CRM]: \"CRM\",\r\n    [INTEGRATION_CATEGORY.ADVERTISING_CHANNELS]: \"Рекламные каналы\",\r\n};\r\n\r\nconst selectedCategories = ref<Array<INTEGRATION_CATEGORY>>([]);\r\n\r\nwatch(\r\n    () => props.preselectedCategories,\r\n\r\n    (newVal) => {\r\n        selectedCategories.value = newVal === undefined ? [] : newVal;\r\n    }\r\n);\r\n\r\n//integrations\r\n\r\nconst selectedIntegration = shallowRef<SelectedIntegration | undefined>(\r\n    undefined\r\n);\r\n\r\n//route after show success model\r\nconst successAddingRoute = ref<RouteLocationRaw | undefined>(undefined);\r\n\r\nconst categoryToIntegrations: {\r\n    [key in INTEGRATION_CATEGORY]: Array<IntegrationCard>;\r\n} = {\r\n    [INTEGRATION_CATEGORY.CRM]: [\r\n        {\r\n            id: 2,\r\n            name: \"amoCRM\",\r\n            image: require(\"@/assets/integrations/amo.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.CRM,\r\n            type: CATEGORY_CRM.amoCRM,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n    ],\r\n    [INTEGRATION_CATEGORY.LEAD_SOURCE]: [\r\n        {\r\n            id: 1,\r\n            name: \"LandingPage\",\r\n            image: require(\"@/assets/integrations/lp.svg\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.NOKS_SITE,\r\n            onSuccess: (value) => {\r\n                selectedIntegration.value = {\r\n                    createdIntegrationId: value,\r\n                    name: \"Noks.Site\",\r\n                    component: noksSite,\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 4,\r\n            name: \"Через Webhook\",\r\n            image: require(\"@/assets/integrations/webhook.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.WEBHOOK,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 5,\r\n            name: \"Flexbe\",\r\n            image: require(\"@/assets/integrations/flb2.svg\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.FLEXBE,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 6,\r\n            name: \"Tilda\",\r\n            image: require(\"@/assets/integrations/tld.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.TILDA,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n    ],\r\n    [INTEGRATION_CATEGORY.ADVERTISING_CHANNELS]: [\r\n        {\r\n            id: 3,\r\n            name: \"Яндекс.Директ\",\r\n            image: require(\"@/assets/integrations/yandex-direct.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.ADVERTISING_CHANNELS,\r\n            type: CATEGORY_ADVERTISING_CHANNELS.YANDEX_DIRECT,\r\n            onSuccess: (value) => {\r\n                selectedIntegration.value = {\r\n                    createdIntegrationId: value,\r\n                    name: \"Яндекс.Директ\",\r\n                    component: yandexDirect,\r\n                };\r\n            },\r\n        },\r\n    ],\r\n};\r\n//component\r\nconst isOpen = computed<boolean>({\r\n    get: () => {\r\n        return props.modelValue;\r\n    },\r\n    set: (value) => {\r\n        emits(\"update:modelValue\", value);\r\n    },\r\n});\r\nconst { stats, selectedStatId } = storeToRefs(useStatStore());\r\n\r\nconst isAddIntegration = () => {\r\n    console.log(\"stats\", stats);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_chip_group = _resolveComponent(\"v-chip-group\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_v_dialog, {\n      modelValue: isOpen.value,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((isOpen).value = $event)),\n      fullscreen: \"\",\n      scrim: false,\n      transition: \"dialog-bottom-transition\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_card, {\n          tag: \"section\",\n          class: \"add-integration\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_toolbar, {\n              tag: \"header\",\n              color: \"primary\",\n              class: \"add-integration__toolbar\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_toolbar_title, null, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"Добавление интеграции\")\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_v_btn, {\n                  icon: \"mdi-close\",\n                  onClick: _cache[0] || (_cache[0] = ($event: any) => (isOpen.value = false))\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_v_card_text, { class: \"add-integration__body\" }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"article\", _hoisted_1, [\n                  _hoisted_2,\n                  _createVNode(_component_v_autocomplete, {\n                    disabled: \"\",\n                    \"prepend-inner-icon\": \"mdi-magnify\",\n                    \"auto-select-first\": \"\",\n                    rounded: \"lg\",\n                    variant: \"outlined\",\n                    placeholder: \"Найти\",\n                    density: \"comfortable\",\n                    \"menu-icon\": \"\"\n                  })\n                ]),\n                _createElementVNode(\"article\", _hoisted_3, [\n                  _createVNode(_component_v_chip_group, {\n                    multiple: \"\",\n                    color: \"secondary\",\n                    \"model-value\": \r\n                            selectedCategories.value.map((value) => value + '')\r\n                        ,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (\r\n                            selectedCategories.value = $event.map((value) =>\r\n                                parseInt(value)\r\n                            )\r\n                        ))\n                  }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.keys(\r\n                                _unref(INTEGRATION_CATEGORY)\r\n                            ).filter((v) => !isNaN(Number(v))), (category) => {\n                        return (_openBlock(), _createBlock(_component_v_chip, {\n                          key: category,\n                          value: category,\n                          variant: \"outlined\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(categoryToName[category]), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"value\"]))\n                      }), 128))\n                    ]),\n                    _: 1\n                  }, 8, [\"model-value\"])\n                ]),\n                _createVNode(_TransitionGroup, {\n                  tag: \"ul\",\n                  name: \"slide-fade\",\n                  class: \"integration-gallery mt-2\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(selectedCategories.value, (category) => {\n                      return (_openBlock(), _createElementBlock(\"li\", {\n                        key: category,\n                        class: \"integration-gallery__category\"\n                      }, [\n                        _createElementVNode(\"h3\", null, _toDisplayString(categoryToName[category]), 1),\n                        _createElementVNode(\"ul\", _hoisted_4, [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(categoryToIntegrations[\r\n                                    category\r\n                                ], (integration) => {\n                            return (_openBlock(), _createBlock(integrationCard, _mergeProps({\n                              key: integration.id\n                            }, integration), null, 16))\n                          }), 128))\n                        ])\n                      ]))\n                    }), 128))\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    (selectedIntegration.value)\n      ? (_openBlock(), _createBlock(addIntegrationModal, {\n          key: 0,\n          onOnClose: _cache[4] || (_cache[4] = ($event: any) => (selectedIntegration.value = undefined)),\n          name: selectedIntegration.value.name\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(selectedIntegration.value.component), {\n              onOnClose: _cache[3] || (_cache[3] = ($event: any) => (selectedIntegration.value = undefined)),\n              id: selectedIntegration.value.createdIntegrationId\n            }, null, 40, [\"id\"]))\n          ]),\n          _: 1\n        }, 8, [\"name\"]))\n      : _createCommentVNode(\"\", true),\n    (successAddingRoute.value)\n      ? (_openBlock(), _createBlock(successDialog, {\n          key: 1,\n          route: successAddingRoute.value,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => {if (!$event) successAddingRoute.value = undefined;})\n        }, null, 8, [\"route\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}\n}\n\n})","<template>\r\n    <v-dialog\r\n        v-model=\"isOpen\"\r\n        fullscreen\r\n        :scrim=\"false\"\r\n        transition=\"dialog-bottom-transition\"\r\n    >\r\n        <v-card tag=\"section\" class=\"add-integration\">\r\n            <v-toolbar\r\n                tag=\"header\"\r\n                color=\"primary\"\r\n                class=\"add-integration__toolbar\"\r\n            >\r\n                <v-toolbar-title>Добавление интеграции</v-toolbar-title>\r\n                <v-btn icon=\"mdi-close\" @click=\"isOpen = false\" />\r\n            </v-toolbar>\r\n            <v-card-text class=\"add-integration__body\">\r\n                <article class=\"integration__search\">\r\n                    <h3 class=\"mb-2 ml-1\">Поиск интеграций</h3>\r\n                    <v-autocomplete\r\n                        disabled\r\n                        prepend-inner-icon=\"mdi-magnify\"\r\n                        auto-select-first\r\n                        rounded=\"lg\"\r\n                        variant=\"outlined\"\r\n                        placeholder=\"Найти\"\r\n                        density=\"comfortable\"\r\n                        menu-icon=\"\"\r\n                    />\r\n                </article>\r\n\r\n                <article class=\"integration-category-chips mt-2\">\r\n                    <v-chip-group\r\n                        multiple\r\n                        color=\"secondary\"\r\n                        :model-value=\"\r\n                            selectedCategories.map((value) => value + '')\r\n                        \"\r\n                        @update:model-value=\"\r\n                            selectedCategories = $event.map((value) =>\r\n                                parseInt(value)\r\n                            )\r\n                        \"\r\n                    >\r\n                        <v-chip\r\n                            v-for=\"category in Object.keys(\r\n                                INTEGRATION_CATEGORY\r\n                            ).filter((v) => !isNaN(Number(v)))\"\r\n                            :key=\"category\"\r\n                            :value=\"category\"\r\n                            variant=\"outlined\"\r\n                            >{{ categoryToName[category] }}\r\n                        </v-chip>\r\n                    </v-chip-group>\r\n                </article>\r\n\r\n                <TransitionGroup\r\n                    tag=\"ul\"\r\n                    name=\"slide-fade\"\r\n                    class=\"integration-gallery mt-2\"\r\n                >\r\n                    <li\r\n                        v-for=\"category in selectedCategories\"\r\n                        :key=\"category\"\r\n                        class=\"integration-gallery__category\"\r\n                    >\r\n                        <h3>{{ categoryToName[category] }}</h3>\r\n                        <ul\r\n                            class=\"integration-gallery__category__cards-wrapper mt-2\"\r\n                        >\r\n                            <integration-card\r\n                                v-for=\"integration in categoryToIntegrations[\r\n                                    category\r\n                                ]\"\r\n                                :key=\"integration.id\"\r\n                                v-bind=\"integration\"\r\n                            />\r\n                        </ul>\r\n                    </li>\r\n                </TransitionGroup>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-dialog>\r\n\r\n    <add-integration-modal\r\n        v-if=\"selectedIntegration\"\r\n        @onClose=\"selectedIntegration = undefined\"\r\n        :name=\"selectedIntegration.name\"\r\n    >\r\n        <component\r\n            :is=\"selectedIntegration.component\"\r\n            @onClose=\"selectedIntegration = undefined\"\r\n            :id=\"selectedIntegration.createdIntegrationId\"\r\n        />\r\n    </add-integration-modal>\r\n    <success-dialog\r\n        v-if=\"successAddingRoute\"\r\n        :route=\"successAddingRoute\"\r\n        @update:model-value=\"if (!$event) successAddingRoute = undefined;\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, defineProps, defineEmits, computed, watch } from \"vue\";\r\nimport {\r\n    CATEGORY_ADVERTISING_CHANNELS,\r\n    CATEGORY_CRM,\r\n    CATEGORY_LEAD_SOURCE,\r\n    INTEGRATION_CATEGORY,\r\n    INTEGRATION_TYPE,\r\n} from \"../../scheme\";\r\nimport { IntegrationCard } from \"./types\";\r\nimport addIntegrationModal from \"./add-integration-modal.vue\";\r\nimport integrationCard from \"./_integration-card.vue\";\r\nimport successDialog from \"./_success.vue\";\r\nimport { RouteLocationRaw, useRoute } from \"vue-router\";\r\nimport { ROUTE_NAMES } from \"@/pages\";\r\nimport yandexDirect from \"./yandex-direct/yandex-direct.vue\";\r\nimport noksSite from \"./noks-site/noks-site.vue\";\r\nimport webhook from \"./webhook/webhook.vue\";\r\nimport { shallowRef } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useStatStore } from \"@/entities/stat/store\";\r\nimport { useIntegrationStore } from \"../../store\";\r\ntype Props = {\r\n    modelValue: boolean;\r\n    preselectedCategories?: Array<INTEGRATION_CATEGORY>;\r\n};\r\nconst props = defineProps<Props>();\r\ntype Emits = {\r\n    \"update:modelValue\": [isOpen: boolean];\r\n};\r\nconst emits = defineEmits<Emits>();\r\n//categories\r\nconst categoryToName: any = {\r\n    [INTEGRATION_CATEGORY.LEAD_SOURCE]: \"Источники заявок\",\r\n    [INTEGRATION_CATEGORY.CRM]: \"CRM\",\r\n    [INTEGRATION_CATEGORY.ADVERTISING_CHANNELS]: \"Рекламные каналы\",\r\n};\r\n\r\nconst selectedCategories = ref<Array<INTEGRATION_CATEGORY>>([]);\r\n\r\nwatch(\r\n    () => props.preselectedCategories,\r\n\r\n    (newVal) => {\r\n        selectedCategories.value = newVal === undefined ? [] : newVal;\r\n    }\r\n);\r\n\r\n//integrations\r\n\r\ntype SelectedIntegration = {\r\n    createdIntegrationId: number;\r\n    name: string;\r\n    component: any;\r\n};\r\nconst selectedIntegration = shallowRef<SelectedIntegration | undefined>(\r\n    undefined\r\n);\r\n\r\n//route after show success model\r\nconst successAddingRoute = ref<RouteLocationRaw | undefined>(undefined);\r\n\r\nconst categoryToIntegrations: {\r\n    [key in INTEGRATION_CATEGORY]: Array<IntegrationCard>;\r\n} = {\r\n    [INTEGRATION_CATEGORY.CRM]: [\r\n        {\r\n            id: 2,\r\n            name: \"amoCRM\",\r\n            image: require(\"@/assets/integrations/amo.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.CRM,\r\n            type: CATEGORY_CRM.amoCRM,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n    ],\r\n    [INTEGRATION_CATEGORY.LEAD_SOURCE]: [\r\n        {\r\n            id: 1,\r\n            name: \"LandingPage\",\r\n            image: require(\"@/assets/integrations/lp.svg\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.NOKS_SITE,\r\n            onSuccess: (value) => {\r\n                selectedIntegration.value = {\r\n                    createdIntegrationId: value,\r\n                    name: \"Noks.Site\",\r\n                    component: noksSite,\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 4,\r\n            name: \"Через Webhook\",\r\n            image: require(\"@/assets/integrations/webhook.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.WEBHOOK,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 5,\r\n            name: \"Flexbe\",\r\n            image: require(\"@/assets/integrations/flb2.svg\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.FLEXBE,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n        {\r\n            id: 6,\r\n            name: \"Tilda\",\r\n            image: require(\"@/assets/integrations/tld.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.LEAD_SOURCE,\r\n            type: CATEGORY_LEAD_SOURCE.TILDA,\r\n            onSuccess: (value) => {\r\n                successAddingRoute.value = {\r\n                    name: ROUTE_NAMES.Settings_Integrations_Edit,\r\n                    params: { id: value },\r\n                };\r\n            },\r\n        },\r\n    ],\r\n    [INTEGRATION_CATEGORY.ADVERTISING_CHANNELS]: [\r\n        {\r\n            id: 3,\r\n            name: \"Яндекс.Директ\",\r\n            image: require(\"@/assets/integrations/yandex-direct.png\"),\r\n            integration_category: INTEGRATION_CATEGORY.ADVERTISING_CHANNELS,\r\n            type: CATEGORY_ADVERTISING_CHANNELS.YANDEX_DIRECT,\r\n            onSuccess: (value) => {\r\n                selectedIntegration.value = {\r\n                    createdIntegrationId: value,\r\n                    name: \"Яндекс.Директ\",\r\n                    component: yandexDirect,\r\n                };\r\n            },\r\n        },\r\n    ],\r\n};\r\n//component\r\nconst isOpen = computed<boolean>({\r\n    get: () => {\r\n        return props.modelValue;\r\n    },\r\n    set: (value) => {\r\n        emits(\"update:modelValue\", value);\r\n    },\r\n});\r\nconst { stats, selectedStatId } = storeToRefs(useStatStore());\r\n\r\nconst isAddIntegration = () => {\r\n    console.log(\"stats\", stats);\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// TODO переместить все бордеры в конфиг\r\n\r\n.add-integration__body {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.integration-gallery {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n}\r\n.integration-gallery__category__cards-wrapper {\r\n    display: grid;\r\n    gap: 10px;\r\n    grid-template-columns: repeat(5, 1fr);\r\n    @media screen {\r\n        @media (max-width: 1000px) {\r\n            grid-template-columns: repeat(4, 1fr);\r\n        }\r\n        @media (max-width: 800px) {\r\n            grid-template-columns: repeat(3, 1fr);\r\n        }\r\n        @media (max-width: 600px) {\r\n            grid-template-columns: repeat(2, 1fr);\r\n        }\r\n        @media (max-width: 400px) {\r\n            grid-template-columns: 1fr;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import script from \"./add-integration.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./add-integration.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./add-integration.vue?vue&type=style&index=0&id=15cf3cce&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-15cf3cce\"]])\n\nexport default __exports__","import main from \"./add-integration.vue\";\r\nexport default main;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b196c330\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"integration-new\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"header\", { class: \"integration-new__header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"Настройка интеграции\")\n], -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"integration-new__describe\" }, \" В этом разделе вы можете настроить интеграции с CRM, конструкторами лендингов и форм, сервисами лидогенерации, сервисами рассылки, телефонией и другими. \", -1))\nconst _hoisted_4 = { class: \"tree\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"article\", { class: \"tree__node_empty\" }, null, -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"article\", { class: \"tree__node_empty\" }, null, -1))\n\nimport treeNode from \"./tree-node.vue\";\r\nimport logoNode from \"./logo-node.vue\";\r\nimport { NodePropsFabric } from \"./NodeFabric\";\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    IntegrationModel,\r\n} from \"@/entities/integrations\";\r\nimport addIntegration from \"@/entities/integrations/ui/add-integration\";\r\nimport { ref } from \"vue\";\r\nimport { shallowRef } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst addDialogIsOpen = ref(false);\r\n\r\nconst preselectedCategories = shallowRef<\r\n    Array<INTEGRATION_CATEGORY> | undefined\r\n>(undefined);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\n\r\nonMounted(() => {\r\n    // useIntegrationStore().updateIntegrationList(Number(statId.value));\r\n    useIntegrationStore().init(Number(statId.value));\r\n});\r\nconst clickAdd = (category: any) => {\r\n    console.log(\"click\", category);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _hoisted_2,\n    _hoisted_3,\n    _createVNode(_component_v_btn, {\n      class: \"integration-new__add-integration-btn\",\n      color: \"success\",\n      size: \"default\",\n      text: \"Добавить интеграцию\",\n      \"prepend-icon\": \"mdi-plus\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => {\r\n                addDialogIsOpen.value = true;\r\n                preselectedCategories.value = undefined;\r\n            })\n    }),\n    _createVNode(_component_v_divider, {\n      class: \"border-opacity-50 w-100 mt-4\",\n      color: \"black\"\n    }),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(treeNode, _mergeProps(_unref(NodePropsFabric)(_unref(INTEGRATION_CATEGORY).LEAD_SOURCE), {\n        onAddClick: _cache[1] || (_cache[1] = ($event: any) => {\r\n                    addDialogIsOpen.value = true;\r\n                    preselectedCategories.value = [_unref(INTEGRATION_CATEGORY).LEAD_SOURCE];\r\n                })\n      }), null, 16),\n      _createVNode(logoNode),\n      _createVNode(treeNode, _mergeProps(\r\n                    _unref(NodePropsFabric)(_unref(INTEGRATION_CATEGORY).ADVERTISING_CHANNELS)\r\n                , {\n        onAddClick: _cache[2] || (_cache[2] = ($event: any) => {\r\n                    addDialogIsOpen.value = true;\r\n                    preselectedCategories.value = [\r\n                        _unref(INTEGRATION_CATEGORY).ADVERTISING_CHANNELS,\r\n                    ];\r\n                })\n      }), null, 16),\n      _hoisted_5,\n      _createVNode(treeNode, _mergeProps(_unref(NodePropsFabric)(_unref(INTEGRATION_CATEGORY).CRM), {\n        onAddClick: _cache[3] || (_cache[3] = ($event: any) => {\r\n                    addDialogIsOpen.value = true;\r\n                    preselectedCategories.value = [_unref(INTEGRATION_CATEGORY).CRM];\r\n                })\n      }), null, 16),\n      _hoisted_6\n    ]),\n    _createVNode(_unref(addIntegration), {\n      modelValue: addDialogIsOpen.value,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((addDialogIsOpen).value = $event)),\n      \"preselected-categories\": preselectedCategories.value\n    }, null, 8, [\"modelValue\", \"preselected-categories\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <section class=\"integration-new\">\r\n        <header class=\"integration-new__header\">\r\n            <h2>Настройка интеграции</h2>\r\n        </header>\r\n        <span class=\"integration-new__describe\">\r\n            В этом разделе вы можете настроить интеграции с CRM, конструкторами\r\n            лендингов и форм, сервисами лидогенерации, сервисами рассылки,\r\n            телефонией и другими.\r\n        </span>\r\n        <v-btn\r\n            class=\"integration-new__add-integration-btn\"\r\n            color=\"success\"\r\n            size=\"default\"\r\n            text=\"Добавить интеграцию\"\r\n            prepend-icon=\"mdi-plus\"\r\n            @click=\"\r\n                addDialogIsOpen = true;\r\n                preselectedCategories = undefined;\r\n            \"\r\n        />\r\n\r\n        <v-divider class=\"border-opacity-50 w-100 mt-4\" color=\"black\" />\r\n        <div class=\"tree\">\r\n            <tree-node\r\n                v-bind=\"NodePropsFabric(INTEGRATION_CATEGORY.LEAD_SOURCE)\"\r\n                @add-click=\"\r\n                    addDialogIsOpen = true;\r\n                    preselectedCategories = [INTEGRATION_CATEGORY.LEAD_SOURCE];\r\n                \"\r\n            />\r\n            <logo-node />\r\n            <tree-node\r\n                v-bind=\"\r\n                    NodePropsFabric(INTEGRATION_CATEGORY.ADVERTISING_CHANNELS)\r\n                \"\r\n                @add-click=\"\r\n                    addDialogIsOpen = true;\r\n                    preselectedCategories = [\r\n                        INTEGRATION_CATEGORY.ADVERTISING_CHANNELS,\r\n                    ];\r\n                \"\r\n            />\r\n            <article class=\"tree__node_empty\" />\r\n\r\n            <tree-node\r\n                v-bind=\"NodePropsFabric(INTEGRATION_CATEGORY.CRM)\"\r\n                @add-click=\"\r\n                    addDialogIsOpen = true;\r\n                    preselectedCategories = [INTEGRATION_CATEGORY.CRM];\r\n                \"\r\n            />\r\n\r\n            <article class=\"tree__node_empty\" />\r\n        </div>\r\n        <add-integration\r\n            v-model=\"addDialogIsOpen\"\r\n            :preselected-categories=\"preselectedCategories\"\r\n        />\r\n    </section>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport treeNode from \"./tree-node.vue\";\r\nimport logoNode from \"./logo-node.vue\";\r\nimport { NodePropsFabric } from \"./NodeFabric\";\r\nimport {\r\n    INTEGRATION_CATEGORY,\r\n    IntegrationModel,\r\n} from \"@/entities/integrations\";\r\nimport addIntegration from \"@/entities/integrations/ui/add-integration\";\r\nimport { ref } from \"vue\";\r\nimport { shallowRef } from \"vue\";\r\nimport { onMounted } from \"vue\";\r\nimport { useIntegrationStore } from \"@/entities/integrations/store\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { computed } from \"vue\";\r\n\r\nconst addDialogIsOpen = ref(false);\r\n\r\nconst preselectedCategories = shallowRef<\r\n    Array<INTEGRATION_CATEGORY> | undefined\r\n>(undefined);\r\n\r\nconst route = useRoute();\r\nconst statId = computed(() => route.params.statId);\r\n\r\nonMounted(() => {\r\n    // useIntegrationStore().updateIntegrationList(Number(statId.value));\r\n    useIntegrationStore().init(Number(statId.value));\r\n});\r\nconst clickAdd = (category: any) => {\r\n    console.log(\"click\", category);\r\n};\r\n</script>\r\n<style scoped>\r\n.integration-new {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n}\r\n.integration-new__add-integration-btn {\r\n    margin-top: 10px;\r\n}\r\n.tree {\r\n    margin-top: 15px;\r\n    background: url(\"/public/IntegrationsNew.svg\") no-repeat 50% 5px;\r\n    width: 850px;\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    column-gap: 23px;\r\n    row-gap: 145px;\r\n    grid-template-rows: 268px;\r\n    grid-auto-rows: minmax(100px, auto);\r\n    align-items: start;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b196c330&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b196c330\"]])\n\nexport default __exports__","import main from \"./index.vue\";\r\n\r\nexport default main;\r\n","import {\r\n    SWebhookComplex,\r\n    SWebhookSettingsSource,\r\n    WebhookComplex,\r\n    WebhookSettings,\r\n    WebhookSettingsSource,\r\n} from \"@/entities/webhook\";\r\nimport { BaseApi } from \"./BaseApi\";\r\nimport { z } from \"zod\";\r\n\r\nexport class ApiFlexbe extends BaseApi {\r\n    private static instance: ApiFlexbe;\r\n    private stat_id = 0;\r\n    private integration_id = 0;\r\n    private localBaseUrl = ``;\r\n    private constructor() {\r\n        super();\r\n    }\r\n    static getInstance() {\r\n        if (!ApiFlexbe.instance) {\r\n            ApiFlexbe.instance = new ApiFlexbe();\r\n            // ... здесь единожды выполняется инициализация ...\r\n        }\r\n        return ApiFlexbe.instance;\r\n    }\r\n    public async postIntegrationSourceWebhook(stat_id: number) {\r\n        const result: number = await this.post(\r\n            {\r\n                url: `/stat/${stat_id}/integration/source/webhook/flexbe`,\r\n            },\r\n            z.number()\r\n        );\r\n        return result;\r\n    }\r\n    public async getAuthWebHookFlexbe(integration_id: number, stat_id: number) {\r\n        const result: WebhookComplex = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/flexbe/auth`,\r\n            },\r\n            SWebhookComplex\r\n        );\r\n        return result;\r\n    }\r\n\r\n    public async editSettingWebHookFlexbe(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: WebhookSettings\r\n    ) {\r\n        const result: boolean = await this.put(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/flexbe/setting`,\r\n                data: data,\r\n            },\r\n            z.boolean()\r\n        );\r\n\r\n        return result;\r\n    }\r\n\r\n    public async getSettingSourceWebHookFlexbe(\r\n        integration_id: number,\r\n        stat_id: number\r\n    ) {\r\n        const result: WebhookSettingsSource = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/flexbe/setting`,\r\n            },\r\n            SWebhookSettingsSource\r\n        );\r\n        return result;\r\n    }\r\n}\r\n","import { BaseApi } from \"./BaseApi\";\r\nimport { z } from \"zod\";\r\nimport {\r\n    AmoExistComplex,\r\n    AmoPipeline,\r\n    AmoPostSetting,\r\n    AmoUserFull,\r\n    SAmoIntegrationExistComplex,\r\n    SAmoPipeline,\r\n    SAmoUserFull,\r\n} from \"@/entities/amo\";\r\nimport {\r\n    NoksComplex,\r\n    NoksSites,\r\n    SNoksComplex,\r\n    NoksSitesItem,\r\n    SNoksSitesItem,\r\n    SNoksSites,\r\n} from \"@/entities/noks\";\r\n\r\nconst SApiCrmAmoGetUrl = z.string().url();\r\n\r\nexport class ApiNoks extends BaseApi {\r\n    private static instance: ApiNoks;\r\n    private stat_id = 0;\r\n    private integration_id = 0;\r\n    private localBaseUrl = ``;\r\n    private constructor() {\r\n        super();\r\n    }\r\n    static getInstance() {\r\n        if (!ApiNoks.instance) {\r\n            ApiNoks.instance = new ApiNoks();\r\n            // ... здесь единожды выполняется инициализация ...\r\n        }\r\n        return ApiNoks.instance;\r\n    }\r\n    public async getExistComplex(integration_id: number, stat_id: number) {\r\n        const result: NoksComplex = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/noks/exist_complex`,\r\n            },\r\n            SNoksComplex\r\n        );\r\n        return result;\r\n    }\r\n\r\n    public async postIntegrationSource(stat_id: number, name: string) {\r\n        const result: number = await this.post(\r\n            {\r\n                url: `/stat/${stat_id}/integration/source/noks`,\r\n                data: { name: name },\r\n            },\r\n            z.number()\r\n        );\r\n        return result;\r\n    }\r\n    public async postAuthSource(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        site_id: number\r\n    ) {\r\n        const result: boolean = await this.post(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/noks/auth`,\r\n                data: { site_id: site_id },\r\n            },\r\n            z.boolean()\r\n        );\r\n        return result;\r\n    }\r\n    public async getSitesNoks(integration_id: number, stat_id: number) {\r\n        const result: NoksSites = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/noks/entity/site`,\r\n            },\r\n            SNoksSites\r\n        );\r\n        return result;\r\n    }\r\n}\r\n","import {\r\n    SWebhookComplex,\r\n    SWebhookSettingsSource,\r\n    WebhookComplex,\r\n    WebhookSettings,\r\n    WebhookSettingsSource,\r\n} from \"@/entities/webhook\";\r\nimport { BaseApi } from \"./BaseApi\";\r\nimport { z } from \"zod\";\r\n\r\nexport class ApiTilda extends BaseApi {\r\n    private static instance: ApiTilda;\r\n    private stat_id = 0;\r\n    private integration_id = 0;\r\n    private localBaseUrl = ``;\r\n    private constructor() {\r\n        super();\r\n    }\r\n    static getInstance() {\r\n        if (!ApiTilda.instance) {\r\n            ApiTilda.instance = new ApiTilda();\r\n            // ... здесь единожды выполняется инициализация ...\r\n        }\r\n        return ApiTilda.instance;\r\n    }\r\n    public async postIntegrationSourceWebhook(stat_id: number) {\r\n        const result: number = await this.post(\r\n            {\r\n                url: `/stat/${stat_id}/integration/source/webhook/tilda`,\r\n            },\r\n            z.number()\r\n        );\r\n        return result;\r\n    }\r\n    public async getAuthWebHookTilda(integration_id: number, stat_id: number) {\r\n        const result: WebhookComplex = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/tilda/auth`,\r\n            },\r\n            SWebhookComplex\r\n        );\r\n        return result;\r\n    }\r\n\r\n    public async editSettingWebHookTilda(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: WebhookSettings\r\n    ) {\r\n        const result: boolean = await this.put(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/tilda/setting`,\r\n                data: data,\r\n            },\r\n            z.boolean()\r\n        );\r\n\r\n        return result;\r\n    }\r\n\r\n    public async getSettingSourceWebHookTilda(\r\n        integration_id: number,\r\n        stat_id: number\r\n    ) {\r\n        const result: WebhookSettingsSource = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/tilda/setting`,\r\n            },\r\n            SWebhookSettingsSource\r\n        );\r\n        return result;\r\n    }\r\n}\r\n","import {\r\n    SWebhookComplex,\r\n    SWebhookSettingsSource,\r\n    WebhookComplex,\r\n    WebhookSettings,\r\n    WebhookSettingsSource,\r\n} from \"@/entities/webhook\";\r\nimport { BaseApi } from \"./BaseApi\";\r\nimport { z } from \"zod\";\r\n\r\nexport class ApiWebHook extends BaseApi {\r\n    private static instance: ApiWebHook;\r\n    private stat_id = 0;\r\n    private integration_id = 0;\r\n    private localBaseUrl = ``;\r\n    private constructor() {\r\n        super();\r\n    }\r\n    static getInstance() {\r\n        if (!ApiWebHook.instance) {\r\n            ApiWebHook.instance = new ApiWebHook();\r\n            // ... здесь единожды выполняется инициализация ...\r\n        }\r\n        return ApiWebHook.instance;\r\n    }\r\n    public async postIntegrationSourceWebhook(stat_id: number) {\r\n        const result: number = await this.post(\r\n            {\r\n                url: `/stat/${stat_id}/integration/source/webhook/standart`,\r\n            },\r\n            z.number()\r\n        );\r\n        return result;\r\n    }\r\n    public async getExistComplex(integration_id: number, stat_id: number) {\r\n        const result: WebhookComplex = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/standart/auth`,\r\n            },\r\n            SWebhookComplex\r\n        );\r\n        return result;\r\n    }\r\n\r\n    public async editSettingSourceWebhook(\r\n        stat_id: number,\r\n        integration_id: number,\r\n        data: WebhookSettings\r\n    ) {\r\n        const result: boolean = await this.put(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/standart/setting`,\r\n                data: data,\r\n            },\r\n            z.boolean()\r\n        );\r\n\r\n        return result;\r\n    }\r\n\r\n    public async getSettingSourceWebhook(\r\n        integration_id: number,\r\n        stat_id: number\r\n    ) {\r\n        const result: WebhookSettingsSource = await this.get(\r\n            {\r\n                url: `/stat/${stat_id}/integration/${integration_id}/source/webhook/standart/setting`,\r\n            },\r\n            SWebhookSettingsSource\r\n        );\r\n        return result;\r\n    }\r\n}\r\n","// Utilities\nimport { createSimpleFunctional } from '@/util'\n\nexport const VAlertTitle = createSimpleFunctional('v-alert-title')\n\nexport type VAlertTitle = InstanceType<typeof VAlertTitle>\n","// Styles\nimport './VAlert.sass'\n\n// Components\nimport { VAlertTitle } from './VAlertTitle'\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VIcon } from '@/components/VIcon'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale } from '@/composables/locale'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { genericComponent, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nconst allowedTypes = ['success', 'info', 'warning', 'error'] as const\n\ntype ContextualType = typeof allowedTypes[number]\n\nexport const makeVAlertProps = propsFactory({\n  border: {\n    type: [Boolean, String] as PropType<boolean | 'top' | 'end' | 'bottom' | 'start'>,\n    validator: (val: boolean | string) => {\n      return typeof val === 'boolean' || [\n        'top',\n        'end',\n        'bottom',\n        'start',\n      ].includes(val)\n    },\n  },\n  borderColor: String,\n  closable: Boolean,\n  closeIcon: {\n    type: IconValue,\n    default: '$close',\n  },\n  closeLabel: {\n    type: String,\n    default: '$vuetify.close',\n  },\n  icon: {\n    type: [Boolean, String, Function, Object] as PropType<false | IconValue>,\n    default: null,\n  },\n  modelValue: {\n    type: Boolean,\n    default: true,\n  },\n  prominent: Boolean,\n  title: String,\n  text: String,\n  type: {\n    type: String as PropType<ContextualType>,\n    validator: (val: ContextualType) => allowedTypes.includes(val),\n  },\n\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeDimensionProps(),\n  ...makeElevationProps(),\n  ...makeLocationProps(),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeTagProps(),\n  ...makeThemeProps(),\n  ...makeVariantProps({ variant: 'flat' } as const),\n}, 'VAlert')\n\nexport type VAlertSlots = {\n  default: never\n  prepend: never\n  title: never\n  text: never\n  append: never\n  close: { props: Record<string, any> }\n}\n\nexport const VAlert = genericComponent<VAlertSlots>()({\n  name: 'VAlert',\n\n  props: makeVAlertProps(),\n\n  emits: {\n    'click:close': (e: MouseEvent) => true,\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const icon = computed(() => {\n      if (props.icon === false) return undefined\n      if (!props.type) return props.icon\n\n      return props.icon ?? `$${props.type}`\n    })\n    const variantProps = computed(() => ({\n      color: props.color ?? props.type,\n      variant: props.variant,\n    }))\n\n    const { themeClasses } = provideTheme(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(variantProps)\n    const { densityClasses } = useDensity(props)\n    const { dimensionStyles } = useDimension(props)\n    const { elevationClasses } = useElevation(props)\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { roundedClasses } = useRounded(props)\n    const { textColorClasses, textColorStyles } = useTextColor(toRef(props, 'borderColor'))\n    const { t } = useLocale()\n\n    const closeProps = computed(() => ({\n      'aria-label': t(props.closeLabel),\n      onClick (e: MouseEvent) {\n        isActive.value = false\n\n        emit('click:close', e)\n      },\n    }))\n\n    return () => {\n      const hasPrepend = !!(slots.prepend || icon.value)\n      const hasTitle = !!(slots.title || props.title)\n      const hasClose = !!(slots.close || props.closable)\n\n      return isActive.value && (\n        <props.tag\n          class={[\n            'v-alert',\n            props.border && {\n              'v-alert--border': !!props.border,\n              [`v-alert--border-${props.border === true ? 'start' : props.border}`]: true,\n            },\n            {\n              'v-alert--prominent': props.prominent,\n            },\n            themeClasses.value,\n            colorClasses.value,\n            densityClasses.value,\n            elevationClasses.value,\n            positionClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n            props.class,\n          ]}\n          style={[\n            colorStyles.value,\n            dimensionStyles.value,\n            locationStyles.value,\n            props.style,\n          ]}\n          role=\"alert\"\n        >\n          { genOverlays(false, 'v-alert') }\n\n          { props.border && (\n            <div\n              key=\"border\"\n              class={[\n                'v-alert__border',\n                textColorClasses.value,\n              ]}\n              style={ textColorStyles.value }\n            />\n          )}\n\n          { hasPrepend && (\n            <div key=\"prepend\" class=\"v-alert__prepend\">\n              { !slots.prepend ? (\n                <VIcon\n                  key=\"prepend-icon\"\n                  density={ props.density }\n                  icon={ icon.value }\n                  size={ props.prominent ? 44 : 28 }\n                />\n              ) : (\n                <VDefaultsProvider\n                  key=\"prepend-defaults\"\n                  disabled={ !icon.value }\n                  defaults={{\n                    VIcon: {\n                      density: props.density,\n                      icon: icon.value,\n                      size: props.prominent ? 44 : 28,\n                    },\n                  }}\n                  v-slots:default={ slots.prepend }\n                />\n              )}\n            </div>\n          )}\n\n          <div class=\"v-alert__content\">\n            { hasTitle && (\n              <VAlertTitle key=\"title\">\n                { slots.title?.() ?? props.title }\n              </VAlertTitle>\n            )}\n\n            { slots.text?.() ?? props.text }\n\n            { slots.default?.() }\n          </div>\n\n          { slots.append && (\n            <div key=\"append\" class=\"v-alert__append\">\n              { slots.append() }\n            </div>\n          )}\n\n          { hasClose && (\n            <div key=\"close\" class=\"v-alert__close\">\n              { !slots.close ? (\n                <VBtn\n                  key=\"close-btn\"\n                  icon={ props.closeIcon }\n                  size=\"x-small\"\n                  variant=\"text\"\n                  { ...closeProps.value }\n                />\n              ) : (\n                <VDefaultsProvider\n                  key=\"close-defaults\"\n                  defaults={{\n                    VBtn: {\n                      icon: props.closeIcon,\n                      size: 'x-small',\n                      variant: 'text',\n                    },\n                  }}\n                >\n                  { slots.close?.({ props: closeProps.value }) }\n                </VDefaultsProvider>\n              )}\n            </div>\n          )}\n        </props.tag>\n      )\n    }\n  },\n})\n\nexport type VAlert = InstanceType<typeof VAlert>\n"],"names":["ApiIntegration","BaseApi","constructor","super","getInstance","instance","getAllIntegration","stat_id","result","this","get","url","SIntegration","items","getIntegrationById","integration_id","z","array","SIntegrationItem","_defineProperty","IntegrationModel","getAll","postIntegration","status","type","data","integration_type","INTEGRATION_CATEGORY","LEAD_SOURCE","CATEGORY_LEAD_SOURCE","NOKS_SITE","ApiNoks","postIntegrationSource","WEBHOOK","ApiWebHook","postIntegrationSourceWebhook","FLEXBE","ApiFlexbe","TILDA","ApiTilda","CRM","CATEGORY_CRM","amoCRM","ApiAmo","postIntegrationCRM","ADVERTISING_CHANNELS","CATEGORY_ADVERTISING_CHANNELS","YANDEX_DIRECT","ApiYandexDirect","POST_INTEGRATION","name","INTEGRATION_TYPE","GOOGLE_ADSENSE","Info","object","limit","number","count","pages","nextPage","string","nullable","prevPage","nativeEnum","integration_created_at","integration_updated_at","created_at","updated_at","info","INTEGRATION_STATUS","useIntegrationStore","defineStore","state","integrationListIsUpdating","integrationListUpdatingError","integrationList","integrationWebhookSettings","undefined","integrationLeadSourceType","getters","getAllCRM","filter","int","getAmoCRM","getWehookIntegration","getAllLeadSource","getAllAdvertisingChannels","actions","updateIntegrationList","error","toString","add","addedIntegration","push","getLeadSourceIntegrationType","getSettingsWebhook","WebhookModel","getSettingSourceWebhook","init","Promise","all","remove","id","SNoksSitesItem","site_id","SNoksSites","SNoksComplex","auth","boolean","setting","NoksModel","postIntegrationAuthSource","postAuthSource","getSites","getSitesNoks","IS_ENABLE","SWebhookComplex","key","webhook_url","SWebhookSettingsSource","is_enable_sending_lead","is_enable_creating_lead_without_contacts","getSourceWebhook","getExistComplex","getAuthWebHookFlexbe","getAuthWebHookTilda","putSettingSourceWebhook","editSettingSourceWebhook","editSettingWebHookFlexbe","editSettingWebHookTilda","getSettingSourceWebHookFlexbe","getSettingSourceWebHookTilda","YandexDirectModel","putSettingChannel","PUT_SETTING","postIntegrationChannel","putSettingCampaign","PUT_CAMPAIGN","getSettingChannel","GET_SETTING","postAuthChannel","POST_AUTH","getExistChannel","GET_EXIST","getCampaignChannels","_hoisted_1","class","_defineComponent","__name","props","integrationInfo","emits","setup","__props","emit","__emit","router","useRouter","toRefs","nameByType","ref","SUCCESS","icon","color","WARNING","ERROR","IN_PROGRESS","_ctx","_cache","_openBlock","_createBlock","_component_v_list_item","density","prepend","_withCtx","_createVNode","_component_v_icon","size","_component_v_tooltip","text","location","append","_component_v_btn","disabled","variant","ripple","onClick","_withModifiers","$event","default","_","_createElementVNode","_toDisplayString","_unref","ROUTE_NAMES","Settings_Integrations_Edit","params","__exports__","_hoisted_2","_hoisted_3","_hoisted_4","description","integrations","_useCssVars","theme","secondary","storeToRefs","isLoading","_createElementBlock","_createTextVNode","_component_v_list","_createCommentVNode","value","_component_v_progress_circular","indeterminate","width","length","_Fragment","_renderList","integration","integrationItem","onRemove","_component_v_img","cover","src","require","script","render","NodePropsFabric","category","_component_v_dialog","_component_v_card","_component_v_toolbar","title","_renderSlot","$slots","image","integration_category","onSuccess","Function","isError","executeRequest","useAsyncState","immediate","request","console","log","route","useRoute","statId","computed","Number","onMounted","amoIntegration","isAmoIntegration","_component_v_fade_transition","_component_v_progress_linear","absolute","_withScopeId","n","_pushScopeId","_popScopeId","_component_v_card_actions","block","to","target","href","_hoisted_5","form","successFlag","onPostSuccess","postIsLoading","postIsError","postError","executePost","addStat","async","validate","valid","token","_component_v_card_title","_component_v_alert","border","_component_v_card_text","_component_v_form","ref_key","_component_v_text_field","modelValue","rules","_component_v_expand_transition","_component_v_spacer","loading","siteIntegrationData","sites","response","sitesList","map","item","addIntegration","siteFind","find","checkSite","_component_v_select","Boolean","preselectedCategories","categoryToName","selectedCategories","watch","newVal","selectedIntegration","shallowRef","successAddingRoute","categoryToIntegrations","createdIntegrationId","component","noksSite","yandexDirect","isOpen","set","stats","selectedStatId","useStatStore","fullscreen","scrim","transition","tag","_component_v_toolbar_title","_component_v_autocomplete","rounded","placeholder","_component_v_chip_group","multiple","parseInt","Object","keys","v","isNaN","_component_v_chip","_TransitionGroup","integrationCard","_mergeProps","addIntegrationModal","onOnClose","_resolveDynamicComponent","successDialog","_hoisted_6","addDialogIsOpen","_component_v_divider","treeNode","onAddClick","logoNode","post","put","VAlertTitle","createSimpleFunctional","allowedTypes","makeVAlertProps","propsFactory","String","validator","val","includes","borderColor","closable","closeIcon","IconValue","closeLabel","prominent","makeComponentProps","makeDensityProps","makeDimensionProps","makeElevationProps","makeLocationProps","makePositionProps","makeRoundedProps","makeTagProps","makeThemeProps","makeVariantProps","VAlert","genericComponent","e","_ref","slots","isActive","useProxiedModel","variantProps","themeClasses","provideTheme","colorClasses","colorStyles","variantClasses","useVariant","densityClasses","useDensity","dimensionStyles","useDimension","elevationClasses","useElevation","locationStyles","useLocation","positionClasses","usePosition","roundedClasses","useRounded","textColorClasses","textColorStyles","useTextColor","toRef","t","useLocale","closeProps","hasPrepend","hasTitle","hasClose","close","style","genOverlays","VDefaultsProvider","VIcon","VBtn"],"sourceRoot":""}