(function(){"use strict";var t={2874:function(t,e,n){n.d(e,{N:function(){return s},h:function(){return r}});var a=n(2578);const r=(0,a.WB)();var i=n(6204),o=n(2483);const s=(0,o.p7)({history:(0,o.PO)(),routes:i._j})},4534:function(t,e,n){n.d(e,{fs:function(){return z},V6:function(){return s},cE:function(){return i},Uj:function(){return l},v9:function(){return g},Mz:function(){return m},aJ:function(){return p}});var a=n(719);const r=a.z.object({limit:a.z.number(),count:a.z.number(),pages:a.z.number(),nextPage:a.z.string().nullable(),prevPage:a.z.string().nullable()}),i=a.z.object({auth:a.z.boolean(),setting:a.z.optional(a.z.boolean()),status_allocation:a.z.boolean()}),o=a.z.object({id:a.z.number(),pipeline_id:a.z.number(),name:a.z.string(),created_at:a.z.string(),updated_at:a.z.string(),show_name:a.z.string()}),s=a.z.object({info:r,items:a.z.array(o)}),c=a.z.object({id:a.z.number(),integration_id:a.z.number(),name:a.z.string(),created_at:a.z.string().datetime(),updated_at:a.z.string().datetime()}),u=a.z.object({id:a.z.number(),integration_id:a.z.number(),name:a.z.string(),created_at:a.z.string(),updated_at:a.z.string()}),l=a.z.object({info:r,items:a.z.array(u)}),d=a.z.object({id:a.z.number(),integration_id:a.z.number(),name:a.z.string(),email:a.z.string().email(),created_at:a.z.string(),updated_at:a.z.string()}),m=a.z.object({info:r,items:a.z.array(d)}),g=(a.z.string().url(),a.z.object({info:r,items:a.z.array(c)}),a.z.object({integration_id:a.z.number(),status_id:a.z.number(),pipeline_id:a.z.number(),status_allocation:a.z.number()}));var p,f=n(6927),h=n(7825);class z{static async getIntegrationExistComplex(t,e){const n=await h.Hq.getInstance().getComplexIntegrationCRM(t,e);return n}static async getUrlForIntegration(t,e){if(await(0,f.v)(2e3),void 0!=e&&void 0!=t){const n=await h.Hq.getInstance().GET_URL(t,e);return n}return Promise.reject(new Error("stat_id or integration_id is undefined"))}static postSettingsAllocation(t,e,n){return h.Hq.getInstance().putAmoSettingAllocation(e,t,n)}static async getAllStatusByPipeline(t,e){const n=await h.Hq.getInstance().getStatusIntegrationCRM(t,e);return n.items}static async postSetting(t,e,n){return await(0,f.v)(2e3),h.Hq.getInstance().settingCRMAmo(e,t,n)}static async getAllFields(t,e){const n=await h.Hq.getInstance().getFieldIntegrationCRM(t,e);return n.items}static async getAllPipeline(t,e){const n=await h.Hq.getInstance().getPipelineIntegrationCRM(t,e);return n.items}static async getAllUsers(t,e){const n=await h.Hq.getInstance().getUserIntegrationCRM(t,e);return n.items}}(function(t){t[t["IN_PROGRESS"]=1]="IN_PROGRESS",t[t["PAID"]=2]="PAID",t[t["CANCELED"]=3]="CANCELED"})(p||(p={}))},8867:function(t,e,n){n.d(e,{w:function(){return p.w},kV:function(){return l},n2:function(){return g},B9:function(){return r}});var a=n(719);const r=a.z.object({report_id:a.z.number(),report_type:a.z.number(),name:a.z.string(),order_nesting:a.z.array(a.z.array(a.z.number())),show_columns:a.z.array(a.z.string()),created_at:a.z.string(),updated_at:a.z.string()}),i=(a.z.array(r),a.z.object({name:a.z.string(),report_type:a.z.number(),show_columns:a.z.array(a.z.string())}),a.z.object({row_name:a.z.string(),next:a.z.string(),position:a.z.string(),hash_position:a.z.string(),main_criteria_id:a.z.optional(a.z.number()),main_criteria_name:a.z.optional(a.z.string()),icon:a.z.string().nullable()})),o=a.z.object({clicks:a.z.optional(a.z.number()),conversions:a.z.optional(a.z.number()),impressions:a.z.optional(a.z.number()),percent_conversion:a.z.optional(a.z.number()),ctr:a.z.optional(a.z.number()),total_consumption:a.z.optional(a.z.number()),price_goal:a.z.optional(a.z.number()),cpc:a.z.optional(a.z.number()),avg_cost_per_thousand_impressions:a.z.optional(a.z.number()),count_leads_canceled:a.z.optional(a.z.number()),count_leads_in_progress:a.z.optional(a.z.number()),count_leads_paid:a.z.optional(a.z.number()),count_leads:a.z.optional(a.z.number()),visits:a.z.optional(a.z.number()),profit:a.z.optional(a.z.number()),revenue:a.z.optional(a.z.number())}),s=a.z.object({clicks:a.z.optional(a.z.string()),conversions:a.z.optional(a.z.string()),impressions:a.z.optional(a.z.string()),percent_conversion:a.z.optional(a.z.string()),ctr:a.z.optional(a.z.string()),total_consumption:a.z.optional(a.z.string()),price_goal:a.z.optional(a.z.string()),cpc:a.z.optional(a.z.string()),avg_cost_per_thousand_impressions:a.z.optional(a.z.string()),count_leads_canceled:a.z.optional(a.z.string()),count_leads_in_progress:a.z.optional(a.z.string()),count_leads_paid:a.z.optional(a.z.string()),count_leads:a.z.optional(a.z.string()),visits:a.z.optional(a.z.string()),profit:a.z.optional(a.z.string()),revenue:a.z.optional(a.z.string())}),c=a.z.object({info:i,column_data:o}),u=a.z.object({rows:a.z.array(c)}),l=a.z.object({columns_header:a.z.optional(s),columns:a.z.array(a.z.string()),columns_type:s,rows:a.z.array(c)}),d=a.z.object({info:i,column_data:o,children:a.z.array(a.z.any())}),m=(a.z.object({columns_header:s,columns:a.z.array(a.z.string()),columns_type:s,rows:a.z.array(d)}),a.z.object({name:a.z.string(),header:a.z.string(),type_column:a.z.string()})),g=a.z.object({show_fields:a.z.array(a.z.string()),order_nesting:a.z.array(a.z.array(a.z.number())),nesting:a.z.array(a.z.object({value:a.z.number(),header:a.z.string()})),name:a.z.string(),type:a.z.number(),fields:a.z.array(m),implementation:a.z.boolean()});var p=n(8740);const f=u.extend({children:a.z.array(a.z.lazy((()=>f))).optional()})},8740:function(t,e,n){n.d(e,{w:function(){return r}});var a=n(2336);class r{static async getAllReport(t){return a.$.getInstance().getAllReport(t)}static async postReport(t,e){return a.$.getInstance().postReport(t,e)}static async getReportById(t,e){return a.$.getInstance().getReportById(t,e)}static async getReportAnalitic(t,e,n){return a.$.getInstance().getReportAnalitic(t,e,n)}static async getReportAnaliticChild(t,e,n,r){const i=await a.$.getInstance().getReportAnaliticSub(t,e,n,r);return i.rows}static async getReportInfo(t){const e=await a.$.getInstance().getReportInfoByType(t);return e.fields}static async getReportInfoAll(){const t=await a.$.getInstance().getReportInfo();return t}}},9133:function(t,e,n){n.d(e,{A:function(){return r}});var a=n(7825);class r{static async getAllStat(){return a.pc.getInstance().GET()}static async postStat(t){return a.pc.getInstance().PostStat(t)}static async getStatById(t){return a.pc.getInstance().GET_BYID(t)}static async GetStatCounterModel(t){return a.pc.getInstance().GetStatCounter(t)}static async GetHashStatModel(t){return a.pc.getInstance().GetHashStat(t)}}},5923:function(t,e,n){n.d(e,{a:function(){return i}});n(560);var a=n(2578),r=n(9133);const i=(0,a.Q_)("stat",{state:()=>({stats:void 0,selectedStatId:void 0,statCounter:void 0,statHash:void 0}),getters:{getAllStat:t=>t.stats},actions:{async fetchStat(){this.stats=void 0;const t=await r.A.getAllStat();this.stats=t,this.stats.length>0&&(this.selectedStatId=this.stats[0].stat_id)},setSelectedStatId(t){return!!this.stats?.find((e=>e.stat_id===t))&&(this.selectedStatId=t,!0)},async getStatInfoById(t){if(void 0!=this.selectedStatId){const t=await r.A.GetHashStatModel(this.selectedStatId);this.statHash=t;const e=await r.A.GetStatCounterModel(this.selectedStatId);this.statCounter=e}},async postStat(t){const e=await r.A.postStat(t),n=await r.A.getStatById(e);return e&&this.stats&&n&&this.stats.push(n),e},async init(){try{return await Promise.all([this.fetchStat()]),!0}catch(t){return!1}}}})},1947:function(t,e,n){var a=n(9242),r=n(2874),i=(n(9773),n(8753)),o=n(3504),s=n(134);const c={dark:!1,colors:{primary:s.r.primary,secondary:s.r.secondary,background:s.r.background,surface:s.r.surface,error:s.r.error,info:s.r.info,success:s.r.success,warning:s.r.warning}},u=(0,i.Rd)({icons:{defaultSet:"mdi",sets:{mdi:o.t}},defaults:{global:{hideDetails:"auto"},VBtn:{size:"small",density:"default",style:{"font-size":"0.875rem","font-weight":400,"line-height":"1.25rem","letter-spacing":"0.0178571429em","font-family":' "Roboto", sans-serif',"text-transform":"none"}},VTooltip:{activator:"parent"},VDialog:{VCard:{rounded:"lg"}},VTextField:{density:"compact",variant:"outlined"},VSelect:{density:"compact",variant:"outlined"},VLabel:{density:"compact",variant:"outlined",size:"small"},VForm:{VTextField:{density:"compact",variant:"outlined"},VAutocomplete:{density:"compact",variant:"outlined"}},VCardText:{text:"small"}},theme:{defaultTheme:"myCustomLightTheme",variations:{colors:["primary","secondary","editor","editorBg"],lighten:5,darken:5},themes:{myCustomLightTheme:c}}});async function l(){const t=await n.e(461).then(n.t.bind(n,3657,23));t.load({google:{families:["Material Icons","Roboto:100,300,400,500,700,900&display=swap"]}})}var d=n(3852),m=n(3396),g=n(4870),p=n(6204),f=n(8157),h=(n(560),n(7139)),z=n(2483),_=n(2578),y=n(147),v=n(5923),b=n(7312),w=n(11),S=n(1888),I=n(1334),A=n(3601),C=n(6422),j=n(9234),R=n(3289),$=n(165),k=n(7471),x=n(5030),P=n(8952);const E=t=>((0,m.dD)("data-v-50f51612"),t=t(),(0,m.Cn)(),t),T={key:0,class:"add-stat-dialog__success-message"},B=E((()=>(0,m._)("span",null,"Проект успешно добавлен",-1))),M=E((()=>(0,m._)("label",null," Название ",-1))),N={key:0,class:"text-error"};var U=(0,m.aZ)({__name:"add-stat-dialog",setup(t){const e=(0,g.iH)(!1),n=(0,g.iH)(""),r=t=>!(t.length>15)||"Длина поля не должна превышать 15",i=()=>({name:n.value}),o=(0,g.iH)(),s=(0,g.iH)(!0);(0,m.YP)(e,(()=>{s.value=!1}));const c=async()=>{o.value&&(await o.value.validate()).valid&&f(i())},u=()=>{s.value=!0,setTimeout((()=>{e.value=!1}),1500)},{isLoading:l,isError:d,error:p,executeRequest:f}=(0,y.Z)({request:(0,v.a)().postStat,immediate:!1,onSuccess:u});return(t,i)=>((0,m.wg)(),(0,m.j4)(A.B,{activator:"parent",width:"500",transition:"dialog-bottom-transition",modelValue:e.value,"onUpdate:modelValue":i[2]||(i[2]=t=>e.value=t)},{default:(0,m.w5)((()=>[(0,m.Wm)(w._,null,{default:(0,m.w5)((()=>[(0,m.Wm)(k.i,{color:"primary",density:"compact",size:"small"},{default:(0,m.w5)((()=>[(0,m.Wm)(x.q,null,{default:(0,m.w5)((()=>[(0,m.Uk)("Создать новый проект")])),_:1}),(0,m.Wm)(j.C),(0,m.Wm)(b.T,{icon:"",onClick:i[0]||(i[0]=t=>e.value=!1)},{default:(0,m.w5)((()=>[(0,m.Wm)(R.t,{icon:"mdi-close"})])),_:1})])),_:1}),(0,m.Wm)(S.Z,null,{default:(0,m.w5)((()=>[(0,m.Wm)(P.Z5,{mode:"out-in"},{default:(0,m.w5)((()=>[s.value?((0,m.wg)(),(0,m.iD)("div",T,[(0,m.Wm)(R.t,{icon:"mdi-check-circle-outline",color:"success",size:"x-large"}),B])):((0,m.wg)(),(0,m.j4)(C.O,{key:1,ref_key:"form",ref:o},{default:(0,m.w5)((()=>[M,(0,m.Wm)($.h,{class:"mt-1",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=t=>n.value=t),rules:[r],"hide-details":"auto"},null,8,["modelValue","rules"])])),_:1},512))])),_:1}),(0,m.Wm)(P.Fx,null,{default:(0,m.w5)((()=>[(0,g.SU)(d)?((0,m.wg)(),(0,m.iD)("span",N,(0,h.zw)((0,g.SU)(p)),1)):(0,m.kq)("",!0)])),_:1})])),_:1}),(0,m.Wm)(P.Z5,null,{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(I.h,null,{default:(0,m.w5)((()=>[(0,m.Wm)(j.C),(0,m.Wm)(b.T,{loading:(0,g.SU)(l),text:"Добавить",color:"primary",size:"default",variant:"flat",onClick:c},null,8,["loading"])])),_:1},512),[[a.F8,!s.value]])])),_:1})])),_:1})])),_:1},8,["modelValue"]))}}),H=n(89);const L=(0,H.Z)(U,[["__scopeId","data-v-50f51612"]]);var W=L,O=n(8106),Z=n(2650),q=n(8777),V=n(678),F=(0,m.aZ)({__name:"app-bar",props:{isMobile:{type:Boolean}},emits:["clickNavIcon"],setup(t,{emit:e}){const n=(0,z.tv)(),a=t,{isMobile:r}=(0,g.BK)(a),{stats:i,selectedStatId:o}=(0,_.Jk)((0,v.a)()),{setSelectedStatId:s}=(0,v.a)(),c=(0,m.Fl)({get:()=>i.value?.find((t=>t.stat_id===o.value)),set:t=>{if(!t)return;const e=s(t.stat_id);e&&n.push({name:p.m8.MultiChannelAnalytics,params:{statId:t.stat_id}}).then((()=>{n.go(0)}))}}),u=(0,z.yj)(),l=(0,m.Fl)((()=>`/stats/${u.params.statId}/settings/integrations/`));return(t,e)=>((0,m.wg)(),(0,m.j4)(O.L,{color:"white",density:"compact",class:"noks-app-bar"},{prepend:(0,m.w5)((()=>[(0,m.Wm)(Z.f,{density:"compact",loading:void 0===(0,g.SU)(i),items:(0,g.SU)(i),variant:"solo",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),"base-color":"secondary",color:"secondary","item-title":"name","item-value":"stat_id","no-data-text":"Проекты не найдены","return-object":"",class:"noks-app-bar__stats-selector"},{item:(0,m.w5)((({item:t,props:e})=>[(0,m.Wm)(q.l,(0,m.dG)({density:"compact"},e,{title:""===t.raw.name?"Проект без название":t.raw.name,subtitle:`#${t.raw.stat_id}`}),null,16,["title","subtitle"])])),selection:(0,m.w5)((({item:t})=>[(0,m.Uk)((0,h.zw)(`${""===t.raw.name?"Проект без название":t.raw.name} #${t.raw.stat_id}`),1)])),_:1},8,["loading","items","modelValue"]),(0,m.Wm)(b.T,{size:"default",density:"compact",icon:"",class:"ml-2",color:"#eee",variant:"flat"},{default:(0,m.w5)((()=>[(0,m.Wm)(R.t,{icon:"mdi-plus"}),(0,m.Wm)(V.N,{activator:"parent",text:"Добавить новый проект"}),(0,m.Wm)(W)])),_:1}),(0,m.Wm)(b.T,{href:l.value,size:"default",density:"compact",icon:"",class:"ml-2",color:"#eee",variant:"flat"},{default:(0,m.w5)((()=>[(0,m.Wm)(R.t,{icon:"mdi-tune-variant"}),(0,m.Wm)(V.N,{activator:"parent",text:"Настройки"})])),_:1},8,["href"])])),_:1}))}});const G=(0,H.Z)(F,[["__scopeId","data-v-7ba4d1ac"]]);var D=G;const Y={class:"menu-navigation"},J=["href"],K={class:"svg-button-nav"},X={class:"name-button-nav"};function Q(t,e,n,a,r,i){const o=(0,m.up)("Icon");return(0,m.wg)(),(0,m.iD)("div",Y,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(r.menuLeftLinks,(e=>((0,m.wg)(),(0,m.iD)("a",{key:t.index,href:e.href,class:(0,h.C_)("button-nav ")},[(0,m._)("div",K,[(0,m.Wm)(o,{path:"panel",name:e.icon,size:"24"},null,8,["name"])]),(0,m._)("div",X,(0,h.zw)(e.name),1)],8,J)))),128))])}const tt=["icon"],et=["href"];function nt(t,e,n,a,r,i){return(0,m.wg)(),(0,m.iD)("svg",{icon:n.path,class:(0,h.C_)("flexbe-icon size-"+n.size)},[(0,m._)("use",{href:r.src+"src/assets/images/"+n.path+".svg#"+n.name},null,8,et)],10,tt)}var at={props:{path:{type:String,required:!0},name:{type:String,required:!0},size:{type:String}},data(){return{src:"/constructor2/admin/"}}};const rt=(0,H.Z)(at,[["render",nt]]);var it=rt,ot={components:{Icon:it},data(){return{menuLeftLinks:[{name:"Сайты",href:"/admin/sites/",icon:"domain"},{name:"Страницы",href:"/admin/pages/",icon:"pages"},{name:"Квизы",href:"/quiz/",icon:"ecommerce"},{name:"Заявки",href:"/admin/crm/",icon:"leads"},{name:"Аналитика",href:"/stats/",icon:"stat"},{name:"Настройки",href:"/sites/settings/",icon:"settings"},{name:"Оплата",href:"/admin/user/pay_plan/",icon:"pay"},{name:"Аккаунт",href:"/admin/user/profile/",icon:"logo"}]}}};const st=(0,H.Z)(ot,[["render",Q]]);var ct=st,ut=n(7718),lt=n(3140),dt=(0,m.aZ)({__name:"index",setup(t){const e=(0,g.iH)(!1),n=(0,g.iH)(!1),a=(0,g.iH)(!1),r=(0,g.iH)(!1),i=(0,f.AW)(),o=(0,g.iH)(!0);(0,m.YP)(i.name,(t=>{switch(t){case"xs":e.value=!1,n.value=!1,a.value=!0,r.value=!1,o.value=!1;break;case"sm":case"md":e.value=!0,n.value=!0,a.value=!1,r.value=!0,o.value=!0;break;case"lg":case"xl":case"xxl":e.value=!1,n.value=!1,a.value=!1,r.value=!0,o.value=!0;break}}),{immediate:!0});(0,g.iH)([{routePath:{name:p.m8.Main},name:"Главная страница",icon:"mdi-home-account"},{routePath:{name:p.m8.MultiChannelAnalytics},name:"Отчеты",icon:"mdi-graph-outline"},{routePath:{name:p.m8.Settings},name:"Настройки",icon:"mdi-cog"},{routePath:{name:p.m8.Settings_Calculations},name:"Пользовательские показатели",icon:"mdi-account-group"}]);return(0,m.bv)((()=>{const{init:t}=(0,v.a)();t()})),(t,e)=>((0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m.Wm)(ct),(0,m.Wm)(ut.q,{class:"rounded rounded-md admin-app"},{default:(0,m.w5)((()=>[(0,m.Wm)(D,{"is-mobile":a.value,onClickNavIcon:e[0]||(e[0]=t=>r.value=!r.value),class:"panel-top"},null,8,["is-mobile"]),(0,m.Wm)(lt.O,{class:"bg-background"},{default:(0,m.w5)((()=>[(0,m.Wm)((0,g.SU)(p.vD))])),_:1})])),_:1})],64))}});const mt=dt;var gt=mt;l();const pt=(0,a.ri)(gt).use(r.h).use(r.N).use(u).use(d.ZP),ft=pt;ft.mount("#app")},6204:function(t,e,n){n.d(e,{m8:function(){return g},vD:function(){return p},_j:function(){return f}});var a=n(3396),r=n(4870),i=n(2483),o=n(2578),s=n(6927),c=n(5923),u=n(3173);const l={key:0,class:"main_centering"};var d=(0,a.aZ)({__name:"index",setup(t){const e=(0,i.tv)(),n=(0,r.iH)(!1);e.beforeEach((async t=>{if(n.value=!0,t.meta?.isStatPath)return await d(t)})),e.afterEach((()=>{n.value=!1}));const d=async t=>{const{selectedStatId:e,stats:n}=(0,o.Jk)((0,c.a)()),{setSelectedStatId:a}=(0,c.a)();if(void 0===n.value&&await(0,s.L)((()=>void 0!==(0,c.a)().stats),100),void 0===n.value)return;let r=t.params.statId;if(!r||Array.isArray(r)){const a=e.value??n.value[0];return{...t,params:{...t.params,statId:a}}}if(r=parseInt(r),!n.value.find((t=>t.stat_id==r)))return{name:g.Forbidden};a(r)};return(t,e)=>((0,a.wg)(),(0,a.j4)((0,r.SU)(i.MA),null,{default:(0,a.w5)((({Component:t})=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(t))),n.value?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(u.L,{color:"primary",indeterminate:"",size:52,width:5})])):(0,a.kq)("",!0)])),_:1}))}});const m=d;var g,p=m;(function(t){t["Main"]="Main",t["NotFound"]="NotFound",t["Forbidden"]="Forbidden",t["Settings"]="Settings",t["Stats"]="Stats",t["MultiChannelAnalytics"]="MultiChannelAnalytics",t["Settings_Integrations_Edit"]="Settings_Integrations_Edit",t["Settings_Integrations"]="Settings_Integrations",t["Settings_Calculations"]="Settings_Calculations"})(g||(g={}));const f=[{path:"/",name:g.Main,redirect:t=>({name:g.Stats})},{path:"/:pathMatch(.*)*",name:g.NotFound,component:()=>n.e(358).then(n.bind(n,9358)),meta:{name:"Страница не найдена",routeName:g.NotFound}},{path:"/errors/403",name:g.Forbidden,component:()=>n.e(908).then(n.bind(n,2908))},{path:"/stats/:statId?/",meta:{name:"CardStat",isStatPath:!0,routeName:g.Stats},children:[{path:"",name:g.Stats,meta:{name:"Настройки",routeName:g.Stats},component:()=>Promise.all([n.e(419),n.e(367)]).then(n.bind(n,1930))},{path:"multichannel",component:()=>Promise.all([n.e(197),n.e(917)]).then(n.bind(n,9423)),name:g.MultiChannelAnalytics,meta:{name:"Отчеты",routeName:g.MultiChannelAnalytics}},{path:"calculations",component:()=>Promise.all([n.e(419),n.e(102)]).then(n.bind(n,6509)),name:g.Settings_Calculations,meta:{name:"Пользовательские показатели",routeName:g.Settings_Calculations}},{path:"settings",component:()=>n.e(873).then(n.bind(n,2873)),meta:{name:"Настройки",routeName:g.Settings},children:[{path:"integrations/",component:()=>n.e(483).then(n.bind(n,4483)),meta:{name:"Управление интеграциями",routeName:g.Settings_Integrations},children:[{path:":id(\\d+)/edit",name:g.Settings_Integrations_Edit,component:()=>Promise.all([n.e(419),n.e(197),n.e(411)]).then(n.bind(n,979)),meta:{name:"Настройка интеграции",routeName:g.Settings_Integrations_Edit}},{path:"",name:g.Settings_Integrations,meta:{name:"Управление интеграциями",routeName:g.Settings_Integrations},component:()=>n.e(935).then(n.bind(n,4935))}]},{path:"",name:g.Settings,meta:{name:"Настройки",routeName:g.Settings},component:()=>n.e(686).then(n.bind(n,9686))}]}]}]},7184:function(t,e,n){n.d(e,{e:function(){return i}});var a=n(7327),r=n(121);class i{constructor(){(0,a.Z)(this,"axiosConfig",void 0),(0,a.Z)(this,"pathToData",void 0),this.axiosConfig={baseURL:"//"+window.location.host+"/api",timeout:1e4,headers:{"Content-Type":"application/x-www-form-urlencoded"}},this.pathToData=["data"]}zodValidate(t,e){const n=t.safeParse(e);if(!1===n.success)throw n}hookBeforeRequest(t){const e={...this.axiosConfig,...t};return e}hookAfterResponse(t,e){const n=this.pathToData.reduce(((t,e)=>t[e]),t.data);return this.zodValidate(e,n),n}async get(t,e){const n=this.hookBeforeRequest(t),a=await r.Z.get(n.url??"",n);return this.hookAfterResponse(a,e)}async post(t,e){const n=this.hookBeforeRequest(t),a=await r.Z.post(n.url??"",n.data,n);return this.hookAfterResponse(a,e)}async put(t,e){const n=this.hookBeforeRequest(t),a=await r.Z.put(n.url??"",n.data,n);return this.hookAfterResponse(a,e)}async delete(t,e){const n=this.hookBeforeRequest(t),a=await r.Z.delete(n.url??"",n);return this.hookAfterResponse(a,e)}}},2336:function(t,e,n){n.d(e,{$:function(){return s}});var a=n(7327),r=n(8867),i=n(7184),o=n(719);class s extends i.e{constructor(){super(),(0,a.Z)(this,"API_BASE_URL","/stat")}static getInstance(){return s.instance||(s.instance=new s),s.instance}async getAllReport(t){const e=await this.get({url:`/stat/${t}/report`},o.z.array(r.B9));return e}async getReportById(t,e){const n=await this.get({url:`/stat/${t}/report/${e}`},r.B9);return n}async postReport(t,e){const n=await this.post({url:`/stat/${t}/report`,data:e},o.z.number());return n}async getReportAnalitic(t,e,n){const a=await this.post({url:`/stat/${t}/report/${e}/analytic_data?${n}`},r.kV);return a}async getReportAnaliticSub(t,e,n,a){const i=await this.post({url:`/stat/${t}/report/${e}/analytic_data${n}`,data:{position:a}},r.kV);return i}async getReportInfoByType(t){const e=await this.get({url:`/stat/report/info/type/${t}`},r.n2);return e}async getReportInfo(){const t=await this.get({url:"/stat/report/info"},o.z.array(r.n2));return t}}(0,a.Z)(s,"instance",void 0)},7825:function(t,e,n){n.d(e,{Hq:function(){return l},pc:function(){return g},tw:function(){return _}});var a=n(7327),r=n(7184),i=n(719);const o=i.z.object({admin:i.z.boolean(),tester:i.z.boolean(),block_creator:i.z.boolean()});class s extends r.e{constructor(){super(),(0,a.Z)(this,"localBaseUrl","users/")}static getInstance(){return s.instance||(s.instance=new s),s.instance}async GET_RIGHTS(){const t=await this.get({url:`${this.localBaseUrl}rights`},o);return t}}(0,a.Z)(s,"instance",void 0);var c=n(4534);const u=i.z.string().url();class l extends r.e{constructor(){super(),(0,a.Z)(this,"stat_id",0),(0,a.Z)(this,"integration_id",0),(0,a.Z)(this,"localBaseUrl","")}static getInstance(){return l.instance||(l.instance=new l),l.instance}async GET_URL(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/create_url`},u);return n}async getComplexIntegrationCRM(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/exist_complex`},c.cE);return n}async postIntegrationCRM(t,e){const n=await this.post({url:`/stat/${t}/integration/crm/amocrm`,data:{status:1}},i.z.number());return console.log("result",n),n}async getPipelineIntegrationCRM(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/entity/pipeline`},c.Uj);return n}async getUserIntegrationCRM(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/entity/user`},c.Mz);return n}async getStatusIntegrationCRM(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/entity/status`},c.V6);return n}async getFieldIntegrationCRM(t,e){const n=await this.get({url:`/stat/${e}/integration/${t}/crm/amocrm/entity/field`},c.Uj);return n}async settingCRMAmo(t,e,n){const a=await this.put({url:`/stat/${e}/integration/${t}/crm/amocrm/setting`,data:n},i.z.boolean());return a}async putAmoSettingAllocation(t,e,n){const a=await this.put({url:`/stat/${t}/integration/${e}/crm/amocrm/setting_allocation`,data:{statuses:n}},i.z.boolean());return a}async getAmoSettingAllocation(t,e){const n=await this.get({url:`/stat/${t}/integration/${e}/crm/amocrm/setting_allocation`},c.v9);return n}}(0,a.Z)(l,"instance",void 0);const d=i.z.object({stat_id:i.z.number(),flow_id:i.z.number(),user_id:i.z.number(),name:i.z.string(),created_at:i.z.string(),updated_at:i.z.string()}),m=i.z.object({stat_id:i.z.number(),hash_stat_id:i.z.string()});class g extends r.e{constructor(){super(),(0,a.Z)(this,"API_BASE_URL","/stat")}static getInstance(){return g.instance||(g.instance=new g),g.instance}async GET(){const t=await this.get({url:this.API_BASE_URL},i.z.array(d));return t}async GET_BYID(t){const e=await this.get({url:`${this.API_BASE_URL}/${t}`},d);return e}async PostStat(t){const e=await this.post({url:this.API_BASE_URL,data:t},i.z.number());return e}async GetStatCounter(t){const e=await this.get({url:`${this.API_BASE_URL}/${t}/counter`},i.z.string());return e}async GetHashStat(t){const e=await this.get({url:`${this.API_BASE_URL}/${t}/hash_stat_id`},m);return e}}(0,a.Z)(g,"instance",void 0);const p=i.z.object({auth:i.z.boolean(),ready_to_configure:i.z.boolean()}),f=i.z.object({integration_id:i.z.string(),add_new_campaign:i.z.number(),import_template_campaign:i.z.string().nullable(),nds:i.z.string().nullable(),created_at:i.z.string().datetime(),updated_at:i.z.string().datetime()}),h=i.z.object({campaign_id:i.z.number(),name:i.z.string(),status:i.z.number(),created_at:i.z.string()}),z=(i.z.object({id:i.z.number(),status:i.z.number()}),i.z.array(h));class _ extends r.e{constructor(){super()}static getInstance(){return _.instance=new _,_.instance}async PUT_SETTING(t,e,n){const a=await this.put({url:`/stat/${t}/integration/${e}/channel/yandex_direct/setting`,data:n},i.z.boolean());return a}async POST_INTEGRATION(t,e){const n=await this.post({url:`/stat/${t}/integration/channel/yandex_direct`,data:e},i.z.number());return n}async PUT_CAMPAIGN(t,e,n){const a=await this.put({url:`/stat/${t}/integration/${e}/channel/yandex_direct/setting_campaign`,data:n},i.z.boolean());return a}async GET_SETTING(t,e){const n=await this.get({url:`/stat/${t}/integration/${e}/channel/yandex_direct/setting`},f);return n}async POST_AUTH(t,e,n){const a=await this.post({url:`/stat/${t}/integration/${e}/channel/yandex_direct/auth`,data:n},i.z.boolean());return a}async GET_EXIST(t,e){const n=await this.get({url:`/stat/${t}/integration/${e}/channel/yandex_direct/exist_complex`},p);return n}async getCampaignChannels(t,e){const n=await this.get({url:`/stat/${t}/integration/${e}/channel/yandex_direct/entity/campaign`},z);return n}}(0,a.Z)(_,"instance",void 0);n(2336)},147:function(t,e,n){n.d(e,{Z:function(){return i}});var a=n(4870),r=n(3396);function i({request:t,initialArgs:e=[],defaultErrorStatus:n=!1,defaultLoadingStatus:i=!1,immediate:o=!0,onError:s=(()=>{}),onSuccess:c=(()=>{})}){const u=(0,a.iH)(n),l=(0,a.iH)(),d=(0,a.iH)(i),m=(0,a.XI)(void 0);function g(...e){d.value=!0,u.value=!1,t(...e).then((t=>{"object"!==typeof t||t!==m.value||Array.isArray(t)||null===t?m.value=t:m.value={...t},c(m.value)})).catch((t=>{u.value=!0;const e=Object.values(t.response.data.errors).join(" ");l.value=e||"Произошла ошибка",s(l)})).finally((()=>{d.value=!1}))}return(0,r.bv)((()=>{if(!o)return!1;g(...e)})),{isError:u,isLoading:d,error:l,data:m,executeRequest:g}}},6927:function(t,e,n){n.d(e,{L:function(){return a},v:function(){return r}});const a=(t,e)=>new Promise(((n,a)=>{const r=setInterval((()=>{try{t()&&(clearInterval(r),n())}catch(e){a(e)}}),e)})),r=t=>new Promise((e=>{setTimeout((()=>{e()}),t)}))},134:function(t,e,n){n.d(e,{r:function(){return a}});const a={primary:"#119A22",secondary:"#0eb623",background:"#f1f2f3",surface:"#fff",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,i){if(!a){var o=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],i=t[l][2];for(var s=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[c])}))?a.splice(c--,1):(s=!1,i<o&&(o=i));if(s){t.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&a;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){o[t]=function(){return a[t]}}));return o["default"]=function(){return a},n.d(i,o),i}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+(461===t?"webfontloader":t)+"."+{102:"0868e9a7",197:"7e8cfcda",358:"cf676676",367:"726a4d0a",411:"365d13b4",419:"3133bb08",461:"a6851f3e",483:"059ea533",686:"bc984bd6",873:"e3c33794",908:"d1a810a4",917:"6995a7fd",935:"21722e0c"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{102:"ff0d5be7",358:"3772bfc8",367:"27eeb0b0",411:"3596998a",686:"8d1cf124",873:"4e6ca878",908:"dcc2dd81",917:"85bb7ac0",935:"a32fc2e6"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="test:";n.l=function(a,r,i,o){if(t[a])t[a].push(r);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+i),s.src=a),t[a]=[r];var m=function(e,n){s.onerror=s.onload=null,clearTimeout(g);var r=t[a];if(delete t[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(n)})),e)return e(n)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/constructor2/analytics/dist/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,a,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var o=function(n){if(i.onerror=i.onload=null,"load"===n.type)a();else{var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,i.parentNode&&i.parentNode.removeChild(i),r(c)}};return i.onerror=i.onload=o,i.href=e,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},e=function(t,e){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===t||i===e))return r}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){r=o[a],i=r.getAttribute("data-href");if(i===t||i===e)return r}},a=function(a){return new Promise((function(r,i){var o=n.miniCssF(a),s=n.p+o;if(e(o,s))return r();t(a,s,null,r,i)}))},r={143:0};n.f.miniCss=function(t,e){var n={102:1,358:1,367:1,411:1,686:1,873:1,908:1,917:1,935:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=a(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={143:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var i=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=i);var o=n.p+n.u(e),s=new Error,c=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}};n.l(o,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,o=a[0],s=a[1],c=a[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var l=c(n)}for(e&&e(a);u<o.length;u++)i=o[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},a=self["webpackChunktest"]=self["webpackChunktest"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1947)}));a=n.O(a)})();
//# sourceMappingURL=app.e65f9a76.js.map