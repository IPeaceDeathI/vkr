window.toast=function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);let i=null,o=[],n={delay:3e3,closeButton:!0,closeOnIteract:!0,newerOnTop:!1,position:"bottom-right",escapeHtml:!1,preventDuplicates:!1,preventCloseOnHover:!0,actionButton:"",onCreate:()=>{},onClick:()=>{},onAction:()=>{},onShow:()=>{},onHide:()=>{}};class r{constructor(t,e,s={},i={}){if(this.type=t,this.message=e,this.opts=Object.assign({},n,s),this.component=i,this.opts.preventDuplicates){const t=o.find(t=>t.message==this.message);if(t&&t.isShow)return t._startHide(),t}return this._create(),this._bindEvents(),this.show(),this}_create(){const t=this.opts,e=document.createElement("article");e.className="toast-item toast-item-"+this.type,e.innerHTML=['<div class="toast-container">','<div class="toast-container--content"></div>',t.actionButton?`<div class="toast-container--action"><span>${t.actionButton}</span></div>`:"",t.closeButton?'<div class="toast-container--close"></div>':"","</div>"].join("");const s=e.querySelector(".toast-container--content"),i=e.querySelector(".toast-container--action"),o=e.querySelector(".toast-container--close");return this.message instanceof Node?s.appendChild(this.message):t.escapeHtml?s.innerText=this.message:s.innerHTML=this.message,this.toast=e,this.content=s,this.actionButton=i,this.closeButton=o,"function"==typeof t.onCreate&&t.onCreate(this),this}_bindEvents(){const t=this.opts,e=this.toast;e.addEventListener("click",e=>{let s;"function"==typeof t.onClick&&(s=t.onClick(this,e)),!1!==s&&t.closeOnIteract&&this.hide()},!1),t.preventCloseOnHover&&(e.addEventListener("mouseenter",this._stopHide.bind(this),!1),e.addEventListener("mouseleave",this._startHide.bind(this),!1)),this.closeButton&&this.closeButton.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.hide()},!1),this.actionButton&&this.actionButton.addEventListener("click",e=>(e.preventDefault(),e.stopPropagation(),"function"==typeof t.onAction&&t.onAction(this,e),!1),!1)}_startHide(){const t=this.opts;this._stopHide(),"number"==typeof t.delay&&t.delay>0&&(this._hideTimeout=setTimeout(()=>{this.hide()},t.delay))}_stopHide(){clearTimeout(this._hideTimeout)}show(){const t=this.opts,e=this.toast;this.isShow=!0,i&&document.body.contains(i)||(i=document.createElement("section"),i.className="toast-wrapper editor-ui",document.body.appendChild(i)),i.contains(e)||(i.setAttribute("position",t.position),t.newerOnTop?i.insertBefore(e,i.firstChild):i.appendChild(e)),-1===o.indexOf(this)&&o.push(this),e.classList.remove("toast-item--hide"),e.classList.add("toast-item--display"),e.offsetWidth,e.classList.add("toast-item--show"),"function"==typeof t.onShow&&t.onShow(this),this._startHide()}hide(t=!1){const e=this.opts,s=this.toast,n=()=>{if(this.isRemoved)return;this.isRemoved=!0;const t=o.indexOf(this);-1!==t&&o.splice(t,1),"function"==typeof e.onHide&&e.onHide(this),s.classList.remove("toast-item--display"),i.contains(s)&&i.removeChild(s)};this._stopHide(),this.isShow=!1,t?n():(s.addEventListener("transitionend",n,!1),setTimeout(()=>{n()},1e3),s.style.height=s.offsetHeight+"px",requestAnimationFrame(()=>{s.classList.remove("toast-item--show"),s.classList.add("toast-item--hide"),s.style.height=""}))}}const a=(t="log",e,s,i)=>new r(t,e,s,i);var c={get wrapper(){return i},get instances(){return o},get options(){return n},set options(t){n=Object.assign(n,t)},log:(t,e)=>a("log",t,e),error:(t,e)=>a("error",t,e),success:(t,e)=>a("success",t,e),clear:t=>{o.forEach(e=>e.hide(t))},extend:(t="log",e,s)=>function(s,i,o){return e(a,t,s,i,o)}};e.default=c}]).default;
